/*! dark-spider - v0.4.0.__BUILD_NUMBER__ - 2017-03-15 12:57am UTC
* Copyright (c) 2017 Articulate Global, Inc. <admin@articulate.com>; Not Licensed */
var requirejs,require,define;!function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=p.map,q=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,p.nodeIdCompat&&t.test(a[g])&&(a[g]=a[g].replace(t,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||q)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){return k.apply(a,s.call(arguments,0).concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice,t=/\.js$/;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[],v=typeof h;if(i=i||c,"undefined"===v||"function"===v){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h?h.apply(n[c],u):void 0,c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},requirejs=require=k=function(b,c,d,e,f){if("string"==typeof b)return m[b]?m[b](c):g(l(b,c).f);if(!b.splice){if(p=b,p.deps&&k(p.deps,p.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k},k.config=function(a){return k(a)},requirejs._defined=n,define=function(a,c,d){c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},define.amd={jQuery:!0}}(),define("almond",function(){}),define("features/featureOverrides",[],function(){"use strict";return{}}),define("features/featuresHelper",["features/featureOverrides"],function(a){"use strict";return{initialize:function(){var b=null==window.globals.features?[]:window.globals.features.split(",");b.forEach(function(b){null!=a[b]&&requirejs.config(Object.keys(a[b]).reduce(function(c,d){var e=a[b][d];return c.map["*"][d]=e,c},{map:{"*":{}}}))})}}}),function(){function a(a,b){if(a!==b){var c=null===a,d=a===w,e=a===a,f=null===b,g=b===w,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return n(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function d(a){return"function"==typeof a||!1}function e(a){return null==a?"":a+""}function f(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function g(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function h(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function i(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*("asc"===k||k===!0?1:-1)}}return b.index-c.index}function j(a){return Pa[a]}function k(a){return Qa[a]}function l(a,b,c){return b?a=Ta[a]:c&&(a=Ua[a]),"\\"+a}function m(a){return"\\"+Ua[a]}function n(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function o(a){return!!a&&"object"==typeof a}function p(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function q(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=P,f[++e]=c);return f}function r(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function s(a){for(var b=-1,c=a.length;++b<c&&p(a.charCodeAt(b)););return b}function t(a){for(var b=a.length;b--&&p(a.charCodeAt(b)););return b}function u(a){return Ra[a]}function v(p){function W(a){if(o(a)&&!Ch(a)&&!(a instanceof Pa)){if(a instanceof aa)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new aa(a)}function $(){}function aa(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Pa(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function Qa(){var a=new Pa(this.__wrapped__);return a.__actions__=cb(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=cb(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=cb(this.__views__),a}function Ra(){if(this.__filtered__){var a=new Pa(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Sa(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||L>e||e==i&&n==i)return cc(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==N)q=u;else if(!u){if(t==M)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?w:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function bb(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function cb(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function db(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===w?b:a}function pb(a,b,c,d){return a!==w&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==w||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:w:h[c]=d?w:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===w?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===w?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==w)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return cb(a,h)}else{var j=cg.call(a),k=j==V;if(j!=Y&&j!=Q&&(!k||e))return Oa[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?db:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(O);return lg(function(){a.apply(w,c)},b)}function xb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=Qc(),h=g===c,i=h&&b.length>=L?oc(b):null,j=b.length;i&&(g=Za,h=!1,b=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k,0)<0&&e.push(k)}return e}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===w||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];o(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==w&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:w}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!o(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=R,k=R;h||(j=cg.call(a),j==Q?j=Y:j!=Y&&(h=Qe(a))),i||(k=cg.call(b),k==Q?k=Y:k!=Y&&(i=Qe(b)));var l=j==Y,m=k==Y,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===w&&!(h in a))return!1}else{var k=c?c(i,j,h):w;if(!(k===w?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==w||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==w||g in f:Jb(b,f[g],w,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?w:Nh(b);return db(g||b,function(h,i){if(g&&(i=h,h=b[i]),o(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):w,l=k===w;l&&(k=h),k===w&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):w,l=k===w;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?cb(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?w:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===w||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return i(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var d=-1,e=Qc(),f=a.length,g=e===c,h=g&&f>=L,i=h?oc():null,j=[];i?(e=Za,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof Pa&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===w;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==w,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===w)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:w,g=e>2?c[2]:w,h=e>1?c[e-1]:w;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:w,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?w:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==_a&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=w);var f=Kc(c,a,w,w,w,w,w,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(w,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=w),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,c){return function(d,e,f){if(e=Oc(e,f,3),Ch(d)){var g=b(d,e,c);return g>-1?d[g]:w}return Cb(d,e,a)}}function vc(a){return function(c,d,e){return c&&c.length?(d=Oc(d,e,3),b(c,d,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Of(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Xf(O);!b&&aa.prototype.thru&&"wrapper"==Pc(g)&&(b=new aa([],!0))}for(d=b?-1:c;++d<c;){g=f[d];var h=Pc(g),i="wrapper"==h?Og(g):w;b=i&&ad(i[0])&&i[1]==(F|B|D|G)&&!i[4].length&&1==i[9]?b[Pc(i[0])].apply(b,i[3]):1==g.length&&ad(g)?b[h]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=L)return b.plant(d).value();for(var e=0,g=c?f[e].apply(this,a):d;++e<c;)g=f[e].call(this,g);return g}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===w&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return"function"==typeof c&&d===w||(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return"function"==typeof c&&d===w||(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=e(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=q(d,b.placeholder);return Kc(c,a,w,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===w&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,u=t,v=Of(t);u--;)v[u]=arguments[u];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||r){var x=k.placeholder,A=q(v,x);if(t-=A.length,j>t){var B=h?cb(h):w,C=vg(j-t,0),F=o?A:w,G=o?w:A,H=o?v:w,I=o?w:v;b|=o?D:E,b&=~(o?E:D),p||(b&=~(y|z));var J=[a,b,c,H,F,I,G,B,i,C],K=Fc.apply(w,J);return ad(a)&&Qg(K,J),K.placeholder=x,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==_a&&this instanceof k&&(M=s||qc(a)),M.apply(L,v)}var l=b&F,m=b&y,n=b&z,o=b&B,p=b&A,r=b&C,s=n?w:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==_a&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&y,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===w?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&z;if(!i&&"function"!=typeof a)throw new Xf(O);var j=d?d.length:0;if(j||(b&=~(D|E),d=e=w),j-=e?e.length:0,b&E){var k=d,l=e;d=e=w}var m=i?w:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==y)var o=nc(n[0],n[2]);else o=b!=D&&b!=(y|D)||n[4].length?Fc.apply(w,n):Hc.apply(w,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):w;if(m!==w){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case S:case T:return+a==+b;case U:return a.name==b.name&&a.message==b.message;case X:return a!=+a?b!=+b:a==+b;case Z:case _:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):w;if(!(q===w?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,b,c){var d=W.callback||zf;return d=d===zf?ub:d,c?d(a,b,c):d}function Pc(a){for(var b=a.name+"",c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,b,d){var e=W.indexOf||xd;return e=e===xd?c:e,a?e(a,b,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?w:a[b];return Ke(c)?c:w}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case ba:return gc(a);case S:case T:return new d(+a);case ca:case da:case ea:case fa:case ga:case ha:case ia:case ja:case ka:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case X:case _:return new d(a);case Z:var f=new d(a.source,Da.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?w:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ga.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&wa.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!va.test(a);return d||null!=b&&a in kd(b)}function ad(a){var b=Pc(a),c=W[b];if("function"!=typeof c||!(b in Pa.prototype))return!1;if(a===c)return!0;var d=Og(c);return!!d&&a===d[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=F>e,g=d==F&&c==B||d==F&&c==G&&a[7].length<=b[8]||d==(F|G)&&c==B;if(!f&&!g)return a;d&y&&(a[2]=b[2],e|=c&y?0:A);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):cb(h),a[4]=i?q(a[3],P):cb(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):cb(h),a[6]=i?q(a[5],P):cb(b[6])),h=b[7],h&&(a[7]=cb(h)),d&F&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===w?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=cb(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:w}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return e(a).replace(xa,function(a,c,d,e){b.push(d?e.replace(Ba,"$1"):c||a)}),b}function md(a){return a instanceof Pa?a.clone():new aa(a.__wrapped__,a.__chain__,cb(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:w}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?vg(e+d,0):d;else if(d){var f=dc(a,b);return e>f&&(b===b?b===a[f]:a[f]!==a[f])?f:-1}return c(a,b,d||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:w}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return n(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,d,e){var f=a?a.length:0;if(!f)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=$c(a,b,e)?w:b,b=!1);var g=Oc();return null==d&&g===ub||(d=g(d,e,3)),b&&Qc()===c?r(a,d):_b(a,d)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,w,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var b=W(a);return b.__chain__=!0,b}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new aa(this.value(),this.__chain__)}function Td(a){for(var b,c=this;c instanceof $;){var d=md(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return a.reverse()};if(a instanceof Pa){var c=a;return this.__actions__.length&&(c=new Pa(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:w}),new aa(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=w),"function"==typeof b&&c===w||(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:w}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=w),"function"==typeof b&&c===w||(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=w);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,h)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=w),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=w),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,F,w,w,w,w,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=w),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=w}function e(b,c){c&&gg(c),j=n=o=w,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=w))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=w),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(O);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(O);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(O);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(O);return b=vg(b===w?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(O);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(O);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,D,w,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,3)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,3)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return o(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||o(a)&&cg.call(a)==S}function Ae(a){return o(a)&&cg.call(a)==T}function Be(a){return!!a&&1===a.nodeType&&o(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||o(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):w;
var e=c?c(a,b):w;return e===w?Jb(a,b,c):!!e}function Ee(a){return o(a)&&"string"==typeof a.message&&cg.call(a)==U}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==V}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):w,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):o(a)&&Fa.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||o(a)&&cg.call(a)==X}function Ne(a){var b;if(!o(a)||cg.call(a)!=Y||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===w||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==Z}function Pe(a){return"string"==typeof a||o(a)&&cg.call(a)==_}function Qe(a){return o(a)&&bd(a.length)&&!!Na[cg.call(a)]}function Re(a){return a===w}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?cb(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=w),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?w:Ib(a,ld(b),b+"");return d===w?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=w);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?w:a[b];return d===w&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?w:a[zd(b)]),d=d===w?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:w)}else c={};return(e?db:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===w?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=w);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=e(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=e(a),a&&a.replace(Ha,j).replace(Aa,"")}function lf(a,b,c){a=e(a),b+="";var d=a.length;return c=c===w?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=e(a),a&&ra.test(a)?a.replace(pa,k):a}function nf(a){return a=e(a),a&&za.test(a)?a.replace(ya,l):a||"(?:)"}function of(a,b,c){a=e(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var f=(b-d)/2,g=rg(f),h=pg(f);return c=Gc("",h,c),c.slice(0,g)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ea.test(a)?16:10))}function qf(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=e(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,b,c){var d=W.templateSettings;c&&$c(a,b,c)&&(b=c=w),a=e(a),b=qb(rb({},c||b),d,pb);var f,g,h=qb(rb({},b.imports),d.imports,pb),i=Nh(h),j=ac(h,i),k=0,l=b.interpolate||Ia,n="__p += '",o=Vf((b.escape||Ia).source+"|"+l.source+"|"+(l===ua?Ca:Ia).source+"|"+(b.evaluate||Ia).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Ma+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(k,i).replace(Ja,m),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),n+="';\n";var q=b.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(la,""):n).replace(ma,"$1").replace(na,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var r=Yh(function(){return Rf(i,p+"return "+n).apply(w,j)});if(r.source=n,Ee(r))throw r;return r}function tf(a,b,c){var d=a;return(a=e(a))?(c?$c(d,b,c):null==b)?a.slice(s(a),t(a)+1):(b+="",a.slice(f(a,b),g(a,b)+1)):a}function uf(a,b,c){var d=a;return a=e(a),a?(c?$c(d,b,c):null==b)?a.slice(s(a)):a.slice(f(a,b+"")):a}function vf(a,b,c){var d=a;return a=e(a),a?(c?$c(d,b,c):null==b)?a.slice(0,t(a)+1):a.slice(0,g(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=w);var d=H,f=I;if(null!=b)if(He(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,f="omission"in b?e(b.omission):f}else d=+b||0;if(a=e(a),d>=a.length)return a;var h=d-f.length;if(1>h)return f;var i=a.slice(0,h);if(null==g)return i+f;if(Oe(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=Vf(g.source,(Da.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+f}function xf(a){return a=e(a),a&&qa.test(a)?a.replace(oa,u):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=w),a=e(a),a.match(b||Ka)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=w),o(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):w,f=e&&e.length?Hb(b,e):w;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=cb(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return _a._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=w),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return e(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=w),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}p=p?ab.defaults(_a.Object(),p,ab.pick(_a,La)):_a;var Of=p.Array,Pf=p.Date,Qf=p.Error,Rf=p.Function,Sf=p.Math,Tf=p.Number,Uf=p.Object,Vf=p.RegExp,Wf=p.String,Xf=p.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=_a._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=p.ArrayBuffer,gg=p.clearTimeout,hg=p.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(p,"Set"),lg=p.setTimeout,mg=Yf.splice,ng=p.Uint8Array,og=Sc(p,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=p.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=p.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};W.support={};W.templateSettings={escape:sa,evaluate:ta,interpolate:ua,variable:"",imports:{_:W}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=w}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=K-(e-b);if(b=e,f>0){if(++a>=J)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return o(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,d=b,e=Of(l),f=Qc(),g=f===c,h=[];d--;){var i=a[d]=Yc(i=a[d])?i:[];e[d]=g&&i.length>=120?oc(d&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=e[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):f(h,i,0))<0){for(var d=b;--d;){var n=e[d];if((n?Za(n,i):f(a[d],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(b,c){c=Db(c);var d=sb(b,c);return Tb(b,c.sort(a)),d}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:w,d=b>1?a[b-1]:w;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):w,d=w),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return bb(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(db,Jg),gh=yc(eb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:w;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=y;if(c.length){var e=q(c,ph.placeholder);d|=D}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],y,a)}return a}),rh=qe(function(a,b,c){var d=y|z;if(c.length){var e=q(c,rh.placeholder);d|=D}return Kc(b,d,a,c,e)}),sh=rc(B),th=rc(C),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,d))throw new Xf(O);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(D),Ah=Dc(E),Bh=qe(function(a,b){return Kc(a,G,w,w,w,Db(b))}),Ch=sg||function(a){return o(a)&&bd(a.length)&&cg.call(a)==R},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?w:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(w,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return W.prototype=$.prototype,aa.prototype=Ig($.prototype),aa.prototype.constructor=aa,Pa.prototype=Ig($.prototype),Pa.prototype.constructor=Pa,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,W.after=je,W.ary=ke,W.assign=Eh,W.at=bh,W.before=le,W.bind=ph,W.bindAll=qh,W.bindKey=rh,W.callback=zf,W.chain=Od,W.chunk=nd,W.compact=od,W.constant=Af,W.countBy=ch,W.create=We,W.curry=sh,W.curryRight=th,W.debounce=me,W.defaults=Fh,W.defaultsDeep=Gh,W.defer=uh,W.delay=vh,W.difference=Rg,W.drop=pd,W.dropRight=qd,W.dropRightWhile=rd,W.dropWhile=sd,W.fill=td,W.filter=Yd,W.flatten=vd,W.flattenDeep=wd,W.flow=wh,W.flowRight=xh,W.forEach=fh,W.forEachRight=gh,W.forIn=Jh,W.forInRight=Kh,W.forOwn=Lh,W.forOwnRight=Mh,W.functions=Xe,W.groupBy=hh,W.indexBy=ih,W.initial=yd,W.intersection=Ug,W.invert=$e,W.invoke=jh,W.keys=Nh,W.keysIn=_e,W.map=_d,W.mapKeys=Oh,W.mapValues=Ph,W.matches=Cf,W.matchesProperty=Df,W.memoize=ne,W.merge=Dh,W.method=Zh,W.methodOf=$h,W.mixin=Ef,W.modArgs=yh,W.negate=oe,W.omit=Qh,W.once=pe,W.pairs=af,W.partial=zh,W.partialRight=Ah,W.partition=kh,W.pick=Rh,W.pluck=ae,W.property=Hf,W.propertyOf=If,W.pull=Bd,W.pullAt=Vg,W.range=Jf,W.rearg=Bh,W.reject=be,W.remove=Cd,W.rest=Dd,W.restParam=qe,W.set=cf,W.shuffle=de,W.slice=Ed,W.sortBy=ge,W.sortByAll=nh,W.sortByOrder=he,W.spread=re,W.take=Fd,W.takeRight=Gd,W.takeRightWhile=Hd,W.takeWhile=Id,W.tap=Pd,W.throttle=se,W.thru=Qd,W.times=Kf,W.toArray=Ue,W.toPlainObject=Ve,W.transform=df,W.union=Yg,W.uniq=Jd,W.unzip=Kd,W.unzipWith=Ld,W.values=ef,W.valuesIn=ff,W.where=ie,W.without=Zg,W.wrap=te,W.xor=Md,W.zip=$g,W.zipObject=Nd,W.zipWith=_g,W.backflow=xh,W.collect=_d,W.compose=xh,W.each=fh,W.eachRight=gh,W.extend=Eh,W.iteratee=zf,W.methods=Xe,W.object=Nd,W.select=Yd,W.tail=Dd,W.unique=Jd,Ef(W,W),W.add=Mf,W.attempt=Yh,W.camelCase=Sh,W.capitalize=jf,W.ceil=_h,W.clone=ue,W.cloneDeep=ve,W.deburr=kf,W.endsWith=lf,W.escape=mf,W.escapeRegExp=nf,W.every=Xd,W.find=dh,W.findIndex=Sg,W.findKey=Hh,W.findLast=eh,W.findLastIndex=Tg,W.findLastKey=Ih,W.findWhere=Zd,W.first=ud,W.floor=ai,W.get=Ye,W.gt=we,W.gte=xe,W.has=Ze,W.identity=Bf,W.includes=$d,W.indexOf=xd,W.inRange=gf,W.isArguments=ye,W.isArray=Ch,W.isBoolean=ze,W.isDate=Ae,W.isElement=Be,W.isEmpty=Ce,W.isEqual=De,W.isError=Ee,W.isFinite=Fe,W.isFunction=Ge,W.isMatch=Ie,W.isNaN=Je,W.isNative=Ke,W.isNull=Le,W.isNumber=Me,W.isObject=He,W.isPlainObject=Ne,W.isRegExp=Oe,W.isString=Pe,W.isTypedArray=Qe,W.isUndefined=Re,W.kebabCase=Th,W.last=zd,W.lastIndexOf=Ad,W.lt=Se,W.lte=Te,W.max=bi,W.min=ci,W.noConflict=Ff,W.noop=Gf,W.now=oh,W.pad=of,W.padLeft=Uh,W.padRight=Vh,W.parseInt=pf,W.random=hf,W.reduce=lh,W.reduceRight=mh,W.repeat=qf,W.result=bf,W.round=di,W.runInContext=v,W.size=ee,W.snakeCase=Wh,W.some=fe,W.sortedIndex=Wg,W.sortedLastIndex=Xg,W.startCase=Xh,W.startsWith=rf,W.sum=Nf,W.template=sf,W.trim=tf,W.trimLeft=uf,W.trimRight=vf,W.trunc=wf,W.unescape=xf,W.uniqueId=Lf,W.words=yf,W.all=Xd,W.any=fe,W.contains=$d,W.eq=De,W.detect=dh,W.foldl=lh,W.foldr=mh,W.head=ud,W.include=$d,W.inject=lh,Ef(W,function(){var a={};return Fb(W,function(b,c){W.prototype[c]||(a[c]=b)}),a}(),!1),W.sample=ce,W.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},W.VERSION=x,db(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){W[a].placeholder=W}),db(["drop","take"],function(a,b){Pa.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Pa(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},Pa.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),db(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=N;Pa.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),db(["first","last"],function(a,b){var c="take"+(b?"Right":"");Pa.prototype[a]=function(){return this[c](1).value()[0]}}),db(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Pa.prototype[a]=function(){return this.__filtered__?new Pa(this):this[c](1)}}),db(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;Pa.prototype[a]=function(a){return this[c](d(a))}}),Pa.prototype.compact=function(){return this.filter(Bf)},Pa.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},Pa.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new Pa(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==w&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Pa.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Pa.prototype.toArray=function(){return this.take(Bg)},Fb(Pa.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),e=W[d?"take"+("last"==b?"Right":""):b];e&&(W.prototype[b]=function(){var b=d?[1]:arguments,f=this.__chain__,g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Pa,j=b[0],k=i||Ch(g);k&&c&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=function(a){return d&&f?e(a,1)[0]:e.apply(w,jb([a],b))},m={func:Qd,args:[l],thisArg:w},n=i&&!h;if(d&&!f)return n?(g=g.clone(),g.__actions__.push(m),a.call(g)):e.call(w,this.value())[0];if(!d&&k){g=n?g:new Pa(this);var o=a.apply(g,b);return o.__actions__.push(m),new aa(o,f)}return this.thru(l)})}),db(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var b=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);W.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Fb(Pa.prototype,function(a,b){var c=W[b];if(c){var d=c.name+"",e=Hg[d]||(Hg[d]=[]);e.push({name:b,func:c})}}),Hg[Fc(w,z).name]=[{name:"wrapper",func:w}],Pa.prototype.clone=Qa,Pa.prototype.reverse=Ra,Pa.prototype.value=Sa,W.prototype.chain=Rd,W.prototype.commit=Sd,W.prototype.concat=ah,W.prototype.plant=Td,W.prototype.reverse=Ud,W.prototype.toString=Vd,W.prototype.run=W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Wd,W.prototype.collect=W.prototype.map,W.prototype.head=W.prototype.first,W.prototype.select=W.prototype.filter,W.prototype.tail=W.prototype.rest,W}var w,x="3.10.1",y=1,z=2,A=4,B=8,C=16,D=32,E=64,F=128,G=256,H=30,I="...",J=150,K=16,L=200,M=1,N=2,O="Expected a function",P="__lodash_placeholder__",Q="[object Arguments]",R="[object Array]",S="[object Boolean]",T="[object Date]",U="[object Error]",V="[object Function]",W="[object Map]",X="[object Number]",Y="[object Object]",Z="[object RegExp]",$="[object Set]",_="[object String]",aa="[object WeakMap]",ba="[object ArrayBuffer]",ca="[object Float32Array]",da="[object Float64Array]",ea="[object Int8Array]",fa="[object Int16Array]",ga="[object Int32Array]",ha="[object Uint8Array]",ia="[object Uint8ClampedArray]",ja="[object Uint16Array]",ka="[object Uint32Array]",la=/\b__p \+= '';/g,ma=/\b(__p \+=) '' \+/g,na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oa=/&(?:amp|lt|gt|quot|#39|#96);/g,pa=/[&<>"'`]/g,qa=RegExp(oa.source),ra=RegExp(pa.source),sa=/<%-([\s\S]+?)%>/g,ta=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,wa=/^\w*$/,xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ya=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,za=RegExp(ya.source),Aa=/[\u0300-\u036f\ufe20-\ufe23]/g,Ba=/\\(\\)?/g,Ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Da=/\w*$/,Ea=/^0[xX]/,Fa=/^\[object .+?Constructor\]$/,Ga=/^\d+$/,Ha=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ia=/($^)/,Ja=/['\n\r\u2028\u2029\\]/g,Ka=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),La=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ma=-1,Na={};Na[ca]=Na[da]=Na[ea]=Na[fa]=Na[ga]=Na[ha]=Na[ia]=Na[ja]=Na[ka]=!0,Na[Q]=Na[R]=Na[ba]=Na[S]=Na[T]=Na[U]=Na[V]=Na[W]=Na[X]=Na[Y]=Na[Z]=Na[$]=Na[_]=Na[aa]=!1;var Oa={};Oa[Q]=Oa[R]=Oa[ba]=Oa[S]=Oa[T]=Oa[ca]=Oa[da]=Oa[ea]=Oa[fa]=Oa[ga]=Oa[X]=Oa[Y]=Oa[Z]=Oa[_]=Oa[ha]=Oa[ia]=Oa[ja]=Oa[ka]=!0,Oa[U]=Oa[V]=Oa[W]=Oa[$]=Oa[aa]=!1;var Pa={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Qa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ra={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Sa={"function":!0,object:!0},Ta={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ua={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Va=Sa[typeof exports]&&exports&&!exports.nodeType&&exports,Wa=Sa[typeof module]&&module&&!module.nodeType&&module,Xa=Va&&Wa&&"object"==typeof global&&global&&global.Object&&global,Ya=Sa[typeof self]&&self&&self.Object&&self,Za=Sa[typeof window]&&window&&window.Object&&window,$a=Wa&&Wa.exports===Va&&Va,_a=Xa||Za!==(this&&this.window)&&Za||Ya||this,ab=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(_a._=ab,define("lodash",[],function(){return ab})):Va&&Wa?$a?(Wa.exports=ab)._=ab:Va._=ab:_a._=ab}.call(this),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("react",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.React=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a(22),e=a(26),f=a(37),g=a(29),h=a(64),i=a(94),j=a(96),k=a(118),l=a(140),m=a(143),n=a(173),o=!1;e.addons={CSSTransitionGroup:g,LinkedStateMixin:d,PureRenderMixin:f,TransitionGroup:i,batchedUpdates:function(){return n(o,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),o=!0,j.batchedUpdates.apply(this,arguments)},cloneWithProps:k,createFragment:h.create,shallowCompare:l,update:m},e.addons.Perf=a(55),e.addons.TestUtils=a(91),b.exports=e},{118:118,140:140,143:143,173:173,22:22,26:26,29:29,37:37,55:55,64:64,91:91,94:94,96:96}],2:[function(a,b,c){"use strict";var d=a(72),e=a(122),f=a(155),g={componentDidMount:function(){this.props.autoFocus&&f(e(this))}},h={Mixin:g,focusDOMComponent:function(){f(d.getNode(this._rootNodeID))}};b.exports=h},{122:122,155:155,72:72}],3:[function(a,b,c){"use strict";function d(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function e(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function f(a){switch(a){case C.topCompositionStart:return D.compositionStart;case C.topCompositionEnd:return D.compositionEnd;case C.topCompositionUpdate:return D.compositionUpdate}}function g(a,b){return a===C.topKeyDown&&b.keyCode===v}function h(a,b){switch(a){case C.topKeyUp:return-1!==u.indexOf(b.keyCode);case C.topKeyDown:return b.keyCode!==v;case C.topKeyPress:case C.topMouseDown:case C.topBlur:return!0;default:return!1}}function i(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function j(a,b,c,d,e){var j,k;if(w?j=f(a):F?h(a,d)&&(j=D.compositionEnd):g(a,d)&&(j=D.compositionStart),!j)return null;z&&(F||j!==D.compositionStart?j===D.compositionEnd&&F&&(k=F.getData()):F=q.getPooled(b));var l=r.getPooled(j,c,d,e);if(k)l.data=k;else{var m=i(d);null!==m&&(l.data=m)}return o.accumulateTwoPhaseDispatches(l),l}function k(a,b){switch(a){case C.topCompositionEnd:return i(b);case C.topKeyPress:var c=b.which;return c!==A?null:(E=!0,B);case C.topTextInput:var d=b.data;return d===B&&E?null:d;default:return null}}function l(a,b){if(F){if(a===C.topCompositionEnd||h(a,b)){var c=F.getData();return q.release(F),F=null,c}return null}switch(a){case C.topPaste:return null;case C.topKeyPress:return b.which&&!e(b)?String.fromCharCode(b.which):null;case C.topCompositionEnd:return z?null:b.data;default:return null}}function m(a,b,c,d,e){var f;if(f=y?k(a,d):l(a,d),!f)return null;var g=s.getPooled(D.beforeInput,c,d,e);return g.data=f,o.accumulateTwoPhaseDispatches(g),g}var n=a(15),o=a(19),p=a(147),q=a(20),r=a(103),s=a(107),t=a(166),u=[9,13,27,32],v=229,w=p.canUseDOM&&"CompositionEvent"in window,x=null;p.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var y=p.canUseDOM&&"TextEvent"in window&&!x&&!d(),z=p.canUseDOM&&(!w||x&&x>8&&11>=x),A=32,B=String.fromCharCode(A),C=n.topLevelTypes,D={beforeInput:{phasedRegistrationNames:{bubbled:t({onBeforeInput:null}),captured:t({onBeforeInputCapture:null})},dependencies:[C.topCompositionEnd,C.topKeyPress,C.topTextInput,C.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:t({onCompositionEnd:null}),captured:t({onCompositionEndCapture:null})},dependencies:[C.topBlur,C.topCompositionEnd,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:t({onCompositionStart:null}),captured:t({onCompositionStartCapture:null})},dependencies:[C.topBlur,C.topCompositionStart,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:t({onCompositionUpdate:null}),captured:t({onCompositionUpdateCapture:null})},dependencies:[C.topBlur,C.topCompositionUpdate,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]}},E=!1,F=null,G={eventTypes:D,extractEvents:function(a,b,c,d,e){return[j(a,b,c,d,e),m(a,b,c,d,e)]}};b.exports=G},{103:103,107:107,147:147,15:15,166:166,19:19,20:20}],4:[function(a,b,c){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var e={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(a){f.forEach(function(b){e[d(b,a)]=e[a]})});var g={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},h={isUnitlessNumber:e,shorthandPropertyExpansions:g};b.exports=h},{}],5:[function(a,b,c){"use strict";var d=a(4),e=a(147),f=a(78),g=a(149),h=a(119),i=a(160),j=a(168),k=a(173),l=j(function(a){return i(a)}),m=!1,n="cssFloat";if(e.canUseDOM){var o=document.createElement("div").style;try{o.font=""}catch(p){m=!0}void 0===document.documentElement.style.cssFloat&&(n="styleFloat")}var q=/^(?:webkit|moz|o)[A-Z]/,r=/;\s*$/,s={},t={},u=function(a){s.hasOwnProperty(a)&&s[a]||(s[a]=!0,k(!1,"Unsupported style property %s. Did you mean %s?",a,g(a)))},v=function(a){s.hasOwnProperty(a)&&s[a]||(s[a]=!0,k(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1)))},w=function(a,b){t.hasOwnProperty(b)&&t[b]||(t[b]=!0,k(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',a,b.replace(r,"")))},x=function(a,b){a.indexOf("-")>-1?u(a):q.test(a)?v(a):r.test(b)&&w(a,b)},y={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];x(c,d),null!=d&&(b+=l(c)+":",b+=h(c,d)+";")}return b||null},setValueForStyles:function(a,b){var c=a.style;for(var e in b)if(b.hasOwnProperty(e)){x(e,b[e]);var f=h(e,b[e]);if("float"===e&&(e=n),f)c[e]=f;else{var g=m&&d.shorthandPropertyExpansions[e];if(g)for(var i in g)c[i]="";else c[e]=""}}}};f.measureMethods(y,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),b.exports=y},{119:119,147:147,149:149,160:160,168:168,173:173,4:4,78:78}],6:[function(a,b,c){"use strict";function d(){this._callbacks=null,this._contexts=null}var e=a(25),f=a(24),g=a(161);f(d.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){a.length!==b.length?g(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var c=0;c<a.length;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{161:161,24:24,25:25}],7:[function(a,b,c){"use strict";function d(a){var b=a.nodeName&&a.nodeName.toLowerCase();return"select"===b||"input"===b&&"file"===a.type}function e(a){var b=x.getPooled(D.change,F,a,y(a));u.accumulateTwoPhaseDispatches(b),w.batchedUpdates(f,b)}function f(a){t.enqueueEvents(a),t.processEventQueue(!1)}function g(a,b){E=a,F=b,E.attachEvent("onchange",e)}function h(){E&&(E.detachEvent("onchange",e),E=null,F=null)}function i(a,b,c){return a===C.topChange?c:void 0}function j(a,b,c){a===C.topFocus?(h(),g(b,c)):a===C.topBlur&&h()}function k(a,b){E=a,F=b,G=a.value,H=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(E,"value",K),E.attachEvent("onpropertychange",m)}function l(){E&&(delete E.value,E.detachEvent("onpropertychange",m),E=null,F=null,G=null,H=null)}function m(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==G&&(G=b,e(a))}}function n(a,b,c){return a===C.topInput?c:void 0}function o(a,b,c){a===C.topFocus?(l(),k(b,c)):a===C.topBlur&&l()}function p(a,b,c){return a!==C.topSelectionChange&&a!==C.topKeyUp&&a!==C.topKeyDown||!E||E.value===G?void 0:(G=E.value,F)}function q(a){return a.nodeName&&"input"===a.nodeName.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)}function r(a,b,c){return a===C.topClick?c:void 0}var s=a(15),t=a(16),u=a(19),v=a(147),w=a(96),x=a(105),y=a(128),z=a(133),A=a(134),B=a(166),C=s.topLevelTypes,D={change:{phasedRegistrationNames:{bubbled:B({onChange:null}),captured:B({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},E=null,F=null,G=null,H=null,I=!1;v.canUseDOM&&(I=z("change")&&(!("documentMode"in document)||document.documentMode>8));
var J=!1;v.canUseDOM&&(J=z("input")&&(!("documentMode"in document)||document.documentMode>9));var K={get:function(){return H.get.call(this)},set:function(a){G=""+a,H.set.call(this,a)}},L={eventTypes:D,extractEvents:function(a,b,c,e,f){var g,h;if(d(b)?I?g=i:h=j:A(b)?J?g=n:(g=p,h=o):q(b)&&(g=r),g){var k=g(a,b,c);if(k){var l=x.getPooled(D.change,k,e,f);return l.type="change",u.accumulateTwoPhaseDispatches(l),l}}h&&h(a,b,c)}};b.exports=L},{105:105,128:128,133:133,134:134,147:147,15:15,16:16,166:166,19:19,96:96}],8:[function(a,b,c){"use strict";var d=0,e={createReactRootIndex:function(){return d++}};b.exports=e},{}],9:[function(a,b,c){"use strict";function d(a,b,c){var d=c>=a.childNodes.length?null:a.childNodes.item(c);a.insertBefore(b,d)}var e=a(12),f=a(74),g=a(78),h=a(138),i=a(139),j=a(161),k={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:i,processUpdates:function(a,b){for(var c,g=null,k=null,l=0;l<a.length;l++)if(c=a[l],c.type===f.MOVE_EXISTING||c.type===f.REMOVE_NODE){var m=c.fromIndex,n=c.parentNode.childNodes[m],o=c.parentID;n?void 0:j(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",m,o),g=g||{},g[o]=g[o]||[],g[o][m]=n,k=k||[],k.push(n)}var p;if(p=b.length&&"string"==typeof b[0]?e.dangerouslyRenderMarkup(b):b,k)for(var q=0;q<k.length;q++)k[q].parentNode.removeChild(k[q]);for(var r=0;r<a.length;r++)switch(c=a[r],c.type){case f.INSERT_MARKUP:d(c.parentNode,p[c.markupIndex],c.toIndex);break;case f.MOVE_EXISTING:d(c.parentNode,g[c.parentID][c.fromIndex],c.toIndex);break;case f.SET_MARKUP:h(c.parentNode,c.content);break;case f.TEXT_CONTENT:i(c.parentNode,c.content);break;case f.REMOVE_NODE:}}};g.measureMethods(k,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),b.exports=k},{12:12,138:138,139:139,161:161,74:74,78:78}],10:[function(a,b,c){"use strict";function d(a,b){return(a&b)===b}var e=a(161),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=f,c=a.Properties||{},g=a.DOMAttributeNamespaces||{},i=a.DOMAttributeNames||{},j=a.DOMPropertyNames||{},k=a.DOMMutationMethods||{};a.isCustomAttribute&&h._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var l in c){h.properties.hasOwnProperty(l)?e(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",l):void 0;var m=l.toLowerCase(),n=c[l],o={attributeName:m,attributeNamespace:null,propertyName:l,mutationMethod:null,mustUseAttribute:d(n,b.MUST_USE_ATTRIBUTE),mustUseProperty:d(n,b.MUST_USE_PROPERTY),hasSideEffects:d(n,b.HAS_SIDE_EFFECTS),hasBooleanValue:d(n,b.HAS_BOOLEAN_VALUE),hasNumericValue:d(n,b.HAS_NUMERIC_VALUE),hasPositiveNumericValue:d(n,b.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:d(n,b.HAS_OVERLOADED_BOOLEAN_VALUE)};if(o.mustUseAttribute&&o.mustUseProperty?e(!1,"DOMProperty: Cannot require using both attribute and property: %s",l):void 0,!o.mustUseProperty&&o.hasSideEffects?e(!1,"DOMProperty: Properties that have side effects must use property: %s",l):void 0,o.hasBooleanValue+o.hasNumericValue+o.hasOverloadedBooleanValue<=1?void 0:e(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",l),h.getPossibleStandardName[m]=l,i.hasOwnProperty(l)){var p=i[l];o.attributeName=p,h.getPossibleStandardName[p]=l}g.hasOwnProperty(l)&&(o.attributeNamespace=g[l]),j.hasOwnProperty(l)&&(o.propertyName=j[l]),k.hasOwnProperty(l)&&(o.mutationMethod=k[l]),h.properties[l]=o}}},g={},h={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<h._isCustomAttributeFunctions.length;b++){var c=h._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=g[a];return d||(g[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:f};b.exports=h},{161:161}],11:[function(a,b,c){"use strict";function d(a){return l.hasOwnProperty(a)?!0:k.hasOwnProperty(a)?!1:j.test(a)?(l[a]=!0,!0):(k[a]=!0,i(!1,"Invalid attribute name: `%s`",a),!1)}function e(a,b){return null==b||a.hasBooleanValue&&!b||a.hasNumericValue&&isNaN(b)||a.hasPositiveNumericValue&&1>b||a.hasOverloadedBooleanValue&&b===!1}var f=a(10),g=a(78),h=a(136),i=a(173),j=/^[a-zA-Z_][\w\.\-]*$/,k={},l={},m={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},n={},o=function(a){if(!(m.hasOwnProperty(a)&&m[a]||n.hasOwnProperty(a)&&n[a])){n[a]=!0;var b=a.toLowerCase(),c=f.isCustomAttribute(b)?b:f.getPossibleStandardName.hasOwnProperty(b)?f.getPossibleStandardName[b]:null;i(null==c,"Unknown DOM property %s. Did you mean %s?",a,c)}},p={createMarkupForID:function(a){return f.ID_ATTRIBUTE_NAME+"="+h(a)},setAttributeForID:function(a,b){a.setAttribute(f.ID_ATTRIBUTE_NAME,b)},createMarkupForProperty:function(a,b){var c=f.properties.hasOwnProperty(a)?f.properties[a]:null;if(c){if(e(c,b))return"";var d=c.attributeName;return c.hasBooleanValue||c.hasOverloadedBooleanValue&&b===!0?d+'=""':d+"="+h(b)}return f.isCustomAttribute(a)?null==b?"":a+"="+h(b):(o(a),null)},createMarkupForCustomAttribute:function(a,b){return d(a)&&null!=b?a+"="+h(b):""},setValueForProperty:function(a,b,c){var d=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(d){var g=d.mutationMethod;if(g)g(a,c);else if(e(d,c))this.deleteValueForProperty(a,b);else if(d.mustUseAttribute){var h=d.attributeName,i=d.attributeNamespace;i?a.setAttributeNS(i,h,""+c):d.hasBooleanValue||d.hasOverloadedBooleanValue&&c===!0?a.setAttribute(h,""):a.setAttribute(h,""+c)}else{var j=d.propertyName;d.hasSideEffects&&""+a[j]==""+c||(a[j]=c)}}else f.isCustomAttribute(b)?p.setValueForAttribute(a,b,c):o(b)},setValueForAttribute:function(a,b,c){d(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))},deleteValueForProperty:function(a,b){var c=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(c){var d=c.mutationMethod;if(d)d(a,void 0);else if(c.mustUseAttribute)a.removeAttribute(c.attributeName);else{var e=c.propertyName,g=f.getDefaultValueForProperty(a.nodeName,e);c.hasSideEffects&&""+a[e]===g||(a[e]=g)}}else f.isCustomAttribute(b)?a.removeAttribute(b):o(b)}};g.measureMethods(p,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),b.exports=p},{10:10,136:136,173:173,78:78}],12:[function(a,b,c){"use strict";function d(a){return a.substring(1,a.indexOf(" "))}var e=a(147),f=a(152),g=a(153),h=a(157),i=a(161),j=/^(<[^ \/>]+)/,k="data-danger-index",l={dangerouslyRenderMarkup:function(a){e.canUseDOM?void 0:i(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var b,c={},l=0;l<a.length;l++)a[l]?void 0:i(!1,"dangerouslyRenderMarkup(...): Missing markup."),b=d(a[l]),b=h(b)?b:"*",c[b]=c[b]||[],c[b][l]=a[l];var m=[],n=0;for(b in c)if(c.hasOwnProperty(b)){var o,p=c[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(j,"$1 "+k+'="'+o+'" ')}for(var r=f(p.join(""),g),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(k)?(o=+t.getAttribute(k),t.removeAttribute(k),m.hasOwnProperty(o)?i(!1,"Danger: Assigning to an already-occupied result index."):void 0,m[o]=t,n+=1):console.error("Danger: Discarding unexpected node:",t)}}return n!==m.length?i(!1,"Danger: Did not assign to every index of resultList."):void 0,m.length!==a.length?i(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",a.length,m.length):void 0,m},dangerouslyReplaceNodeWithMarkup:function(a,b){e.canUseDOM?void 0:i(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),b?void 0:i(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===a.tagName.toLowerCase()?i(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0;var c;c="string"==typeof b?f(b,g)[0]:b,a.parentNode.replaceChild(c,a)}};b.exports=l},{147:147,152:152,153:153,157:157,161:161}],13:[function(a,b,c){"use strict";var d=a(166),e=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null})];b.exports=e},{166:166}],14:[function(a,b,c){"use strict";var d=a(15),e=a(19),f=a(109),g=a(72),h=a(166),i=d.topLevelTypes,j=g.getFirstReactDOM,k={mouseEnter:{registrationName:h({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:h({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},l=[null,null],m={eventTypes:k,extractEvents:function(a,b,c,d,h){if(a===i.topMouseOver&&(d.relatedTarget||d.fromElement))return null;if(a!==i.topMouseOut&&a!==i.topMouseOver)return null;var m;if(b.window===b)m=b;else{var n=b.ownerDocument;m=n?n.defaultView||n.parentWindow:window}var o,p,q="",r="";if(a===i.topMouseOut?(o=b,q=c,p=j(d.relatedTarget||d.toElement),p?r=g.getID(p):p=m,p=p||m):(o=m,p=b,r=c),o===p)return null;var s=f.getPooled(k.mouseLeave,q,d,h);s.type="mouseleave",s.target=o,s.relatedTarget=p;var t=f.getPooled(k.mouseEnter,r,d,h);return t.type="mouseenter",t.target=p,t.relatedTarget=o,e.accumulateEnterLeaveDispatches(s,t,q,r),l[0]=s,l[1]=t,l}};b.exports=m},{109:109,15:15,166:166,19:19,72:72}],15:[function(a,b,c){"use strict";var d=a(165),e=d({bubbled:null,captured:null}),f=d({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),g={topLevelTypes:f,PropagationPhases:e};b.exports=g},{165:165}],16:[function(a,b,c){"use strict";function d(){var a=q&&q.traverseTwoPhase&&q.traverseEnterLeave;k(a,"InstanceHandle not injected before use!")}var e=a(17),f=a(18),g=a(61),h=a(115),i=a(124),j=a(161),k=a(173),l={},m=null,n=function(a,b){a&&(f.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a))},o=function(a){return n(a,!0)},p=function(a){return n(a,!1)},q=null,r={injection:{injectMount:f.injection.injectMount,injectInstanceHandle:function(a){q=a,d()},getInstanceHandle:function(){return d(),q},injectEventPluginOrder:e.injectEventPluginOrder,injectEventPluginsByName:e.injectEventPluginsByName},eventNameDispatchConfigs:e.eventNameDispatchConfigs,registrationNameModules:e.registrationNameModules,putListener:function(a,b,c){"function"!=typeof c?j(!1,"Expected %s listener to be a function, instead got type %s",b,typeof c):void 0;var d=l[b]||(l[b]={});d[a]=c;var f=e.registrationNameModules[b];f&&f.didPutListener&&f.didPutListener(a,b,c)},getListener:function(a,b){var c=l[b];return c&&c[a]},deleteListener:function(a,b){var c=e.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b);var d=l[b];d&&delete d[a]},deleteAllListeners:function(a){for(var b in l)if(l[b][a]){var c=e.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b),delete l[b][a]}},extractEvents:function(a,b,c,d,f){for(var g,i=e.plugins,j=0;j<i.length;j++){var k=i[j];if(k){var l=k.extractEvents(a,b,c,d,f);l&&(g=h(g,l))}}return g},enqueueEvents:function(a){a&&(m=h(m,a))},processEventQueue:function(a){var b=m;m=null,a?i(b,o):i(b,p),m?j(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,g.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};b.exports=r},{115:115,124:124,161:161,17:17,173:173,18:18,61:61}],17:[function(a,b,c){"use strict";function d(){if(h)for(var a in i){var b=i[a],c=h.indexOf(a);if(c>-1?void 0:g(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",a),!j.plugins[c]){b.extractEvents?void 0:g(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",a),j.plugins[c]=b;var d=b.eventTypes;for(var f in d)e(d[f],b,f)?void 0:g(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",f,a)}}}function e(a,b,c){j.eventNameDispatchConfigs.hasOwnProperty(c)?g(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",c):void 0,j.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var e in d)if(d.hasOwnProperty(e)){var h=d[e];f(h,b,c)}return!0}return a.registrationName?(f(a.registrationName,b,c),!0):!1}function f(a,b,c){j.registrationNameModules[a]?g(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a):void 0,j.registrationNameModules[a]=b,j.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var g=a(161),h=null,i={},j={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){h?g(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,h=Array.prototype.slice.call(a),d()},injectEventPluginsByName:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];i.hasOwnProperty(c)&&i[c]===e||(i[c]?g(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",c):void 0,i[c]=e,b=!0)}b&&d()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return j.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=j.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){h=null;for(var a in i)i.hasOwnProperty(a)&&delete i[a];j.plugins.length=0;var b=j.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=j.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};b.exports=j},{161:161}],18:[function(a,b,c){"use strict";function d(a){return a===s.topMouseUp||a===s.topTouchEnd||a===s.topTouchCancel}function e(a){return a===s.topMouseMove||a===s.topTouchMove}function f(a){return a===s.topMouseDown||a===s.topTouchStart}function g(a,b,c,d){var e=a.type||"unknown-event";a.currentTarget=r.Mount.getNode(d),b?o.invokeGuardedCallbackWithCatch(e,c,a,d):o.invokeGuardedCallback(e,c,a,d),a.currentTarget=null}function h(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(m(a),Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)g(a,b,c[e],d[e]);else c&&g(a,b,c,d);a._dispatchListeners=null,a._dispatchIDs=null}function i(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(m(a),Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function j(a){var b=i(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function k(a){m(a);var b=a._dispatchListeners,c=a._dispatchIDs;Array.isArray(b)?p(!1,"executeDirectDispatch(...): Invalid `event`."):void 0;var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function l(a){return!!a._dispatchListeners}var m,n=a(15),o=a(61),p=a(161),q=a(173),r={Mount:null,injectMount:function(a){r.Mount=a,q(a&&a.getNode&&a.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},s=n.topLevelTypes;m=function(a){var b=a._dispatchListeners,c=a._dispatchIDs,d=Array.isArray(b),e=Array.isArray(c),f=e?c.length:c?1:0,g=d?b.length:b?1:0;q(e===d&&f===g,"EventPluginUtils: Invalid `event`.")};var t={isEndish:d,isMoveish:e,isStartish:f,executeDirectDispatch:k,executeDispatchesInOrder:h,executeDispatchesInOrderStopAtTrue:j,hasDispatches:l,getNode:function(a){return r.Mount.getNode(a)},getID:function(a){return r.Mount.getID(a)},injection:r};b.exports=t},{15:15,161:161,173:173,61:61}],19:[function(a,b,c){"use strict";function d(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return t(a,d)}function e(a,b,c){p(a,"Dispatching id must not be null");var e=b?s.bubbled:s.captured,f=d(a,c,e);f&&(c._dispatchListeners=q(c._dispatchListeners,f),c._dispatchIDs=q(c._dispatchIDs,a))}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,e,a)}function g(a){a&&a.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(a.dispatchMarker,e,a)}function h(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=t(a,d);e&&(c._dispatchListeners=q(c._dispatchListeners,e),c._dispatchIDs=q(c._dispatchIDs,a))}}function i(a){a&&a.dispatchConfig.registrationName&&h(a.dispatchMarker,null,a)}function j(a){r(a,f)}function k(a){r(a,g)}function l(a,b,c,d){o.injection.getInstanceHandle().traverseEnterLeave(c,d,h,a,b)}function m(a){r(a,i)}var n=a(15),o=a(16),p=a(173),q=a(115),r=a(124),s=n.PropagationPhases,t=o.getListener,u={accumulateTwoPhaseDispatches:j,accumulateTwoPhaseDispatchesSkipTarget:k,accumulateDirectDispatches:m,accumulateEnterLeaveDispatches:l};b.exports=u},{115:115,124:124,15:15,16:16,173:173}],20:[function(a,b,c){"use strict";function d(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var e=a(25),f=a(24),g=a(131);f(d.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[g()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),e.addPoolingTo(d),b.exports=d},{131:131,24:24,25:25}],21:[function(a,b,c){"use strict";var d,e=a(10),f=a(147),g=e.injection.MUST_USE_ATTRIBUTE,h=e.injection.MUST_USE_PROPERTY,i=e.injection.HAS_BOOLEAN_VALUE,j=e.injection.HAS_SIDE_EFFECTS,k=e.injection.HAS_NUMERIC_VALUE,l=e.injection.HAS_POSITIVE_NUMERIC_VALUE,m=e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(f.canUseDOM){var n=document.implementation;d=n&&n.hasFeature&&n.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var o={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:g|i,allowTransparency:g,alt:null,async:i,autoComplete:null,autoPlay:i,capture:g|i,cellPadding:null,cellSpacing:null,charSet:g,challenge:g,checked:h|i,classID:g,className:d?g:h,cols:g|l,colSpan:null,content:null,contentEditable:null,contextMenu:g,controls:h|i,coords:null,crossOrigin:null,data:null,dateTime:g,"default":i,defer:i,dir:null,disabled:g|i,download:m,draggable:null,encType:null,form:g,formAction:g,formEncType:g,formMethod:g,formNoValidate:i,formTarget:g,frameBorder:g,headers:null,height:g,hidden:g|i,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:h,inputMode:g,integrity:null,is:g,keyParams:g,keyType:g,kind:null,label:null,lang:null,list:g,loop:h|i,low:null,manifest:g,marginHeight:null,marginWidth:null,max:null,maxLength:g,media:g,mediaGroup:null,method:null,min:null,minLength:g,multiple:h|i,muted:h|i,name:null,nonce:g,noValidate:i,open:i,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:h|i,rel:null,required:i,reversed:i,role:g,rows:g|l,rowSpan:null,sandbox:null,scope:null,scoped:i,scrolling:null,seamless:g|i,selected:h|i,shape:null,size:g|l,sizes:g,span:l,spellCheck:null,src:null,srcDoc:h,srcLang:null,srcSet:g,start:k,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:h|j,width:g,wmode:g,wrap:null,about:g,datatype:g,inlist:g,prefix:g,property:g,resource:g,"typeof":g,vocab:g,autoCapitalize:g,autoCorrect:g,autoSave:null,color:null,itemProp:g,itemScope:g|i,itemType:g,itemID:g,itemRef:g,results:null,security:g,unselectable:g},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};b.exports=o},{10:10,147:147}],22:[function(a,b,c){"use strict";var d=a(70),e=a(90),f={linkState:function(a){return new d(this.state[a],e.createStateKeySetter(this,a))}};b.exports=f},{70:70,90:90}],23:[function(a,b,c){"use strict";function d(a){null!=a.checkedLink&&null!=a.valueLink?j(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function e(a){d(a),null!=a.value||null!=a.onChange?j(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function f(a){d(a),null!=a.checked||null!=a.onChange?j(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function g(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}var h=a(82),i=a(81),j=a(161),k=a(173),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},m={value:function(a,b,c){return!a[b]||l[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},n={},o={checkPropTypes:function(a,b,c){for(var d in m){if(m.hasOwnProperty(d))var e=m[d](b,d,a,i.prop);if(e instanceof Error&&!(e.message in n)){n[e.message]=!0;var f=g(c);k(!1,"Failed form propType: %s%s",e.message,f)}}},getValue:function(a){return a.valueLink?(e(a),a.valueLink.value):a.value},getChecked:function(a){return a.checkedLink?(f(a),a.checkedLink.value):a.checked},executeOnChange:function(a,b){return a.valueLink?(e(a),a.valueLink.requestChange(b.target.value)):a.checkedLink?(f(a),a.checkedLink.requestChange(b.target.checked)):a.onChange?a.onChange.call(void 0,b):void 0}};b.exports=o},{161:161,173:173,81:81,82:82}],24:[function(a,b,c){"use strict";function d(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}b.exports=d},{}],25:[function(a,b,c){"use strict";var d=a(161),e=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},f=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},g=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},h=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();return e.call(f,a,b,c,d),f}return new e(a,b,c,d)},i=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},j=function(a){var b=this;a instanceof b?void 0:d(!1,"Trying to release an instance into a pool of a different type."),a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},k=10,l=e,m=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||l,c.poolSize||(c.poolSize=k),c.release=j,c},n={addPoolingTo:m,oneArgumentPooler:e,twoArgumentPooler:f,threeArgumentPooler:g,fourArgumentPooler:h,fiveArgumentPooler:i};b.exports=n},{161:161}],26:[function(a,b,c){"use strict";var d=a(40),e=a(50),f=a(69),g=a(24),h=a(120),i={};g(i,f),g(i,{findDOMNode:h("findDOMNode","ReactDOM","react-dom",d,d.findDOMNode),render:h("render","ReactDOM","react-dom",d,d.render),unmountComponentAtNode:h("unmountComponentAtNode","ReactDOM","react-dom",d,d.unmountComponentAtNode),renderToString:h("renderToString","ReactDOMServer","react-dom/server",e,e.renderToString),renderToStaticMarkup:h("renderToStaticMarkup","ReactDOMServer","react-dom/server",e,e.renderToStaticMarkup)}),i.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d,i.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e,i.Injection=a(65),b.exports=i},{120:120,24:24,40:40,50:50,69:69}],27:[function(a,b,c){"use strict";var d=a(68),e=a(122),f=a(173),g="_getDOMNodeDidWarn",h={getDOMNode:function(){return f(this.constructor[g],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",d.get(this).getName()||this.tagName||"Unknown"),this.constructor[g]=!0,e(this)}};b.exports=h},{122:122,173:173,68:68}],28:[function(a,b,c){"use strict";function d(a){return Object.prototype.hasOwnProperty.call(a,q)||(a[q]=o++,m[a[q]]={}),m[a[q]]}var e=a(15),f=a(16),g=a(17),h=a(62),i=a(78),j=a(114),k=a(24),l=a(133),m={},n=!1,o=0,p={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},q="_reactListenersID"+String(Math.random()).slice(2),r=k({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(r.handleTopLevel),r.ReactEventListener=a}},setEnabled:function(a){r.ReactEventListener&&r.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!r.ReactEventListener||!r.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,f=d(c),h=g.registrationNameDependencies[a],i=e.topLevelTypes,j=0;j<h.length;j++){var k=h[j];f.hasOwnProperty(k)&&f[k]||(k===i.topWheel?l("wheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",c):l("mousewheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",c):r.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",c):k===i.topScroll?l("scroll",!0)?r.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",c):r.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",r.ReactEventListener.WINDOW_HANDLE):k===i.topFocus||k===i.topBlur?(l("focus",!0)?(r.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",c),r.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",c)):l("focusin")&&(r.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",c),r.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",c)),f[i.topBlur]=!0,f[i.topFocus]=!0):p.hasOwnProperty(k)&&r.ReactEventListener.trapBubbledEvent(k,p[k],c),f[k]=!0)}},trapBubbledEvent:function(a,b,c){return r.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return r.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!n){var a=j.refreshScrollValues;r.ReactEventListener.monitorScrollValue(a),n=!0}},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});i.measureMethods(r,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),b.exports=r},{114:114,133:133,15:15,16:16,17:17,24:24,62:62,78:78}],29:[function(a,b,c){"use strict";function d(a){var b="transition"+a+"Timeout",c="transition"+a;return function(a){if(a[c]){if(null==a[b])return new Error(b+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof a[b])return new Error(b+" must be a number (in milliseconds)")}}}var e=a(26),f=a(24),g=a(94),h=a(30),i=e.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:h.propTypes.name,transitionAppear:e.PropTypes.bool,transitionEnter:e.PropTypes.bool,transitionLeave:e.PropTypes.bool,transitionAppearTimeout:d("Appear"),transitionEnterTimeout:d("Enter"),transitionLeaveTimeout:d("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(a){return e.createElement(h,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},a)},render:function(){return e.createElement(g,f({},this.props,{childFactory:this._wrapChild}))}});b.exports=i},{24:24,26:26,30:30,94:94}],30:[function(a,b,c){"use strict";var d=a(26),e=a(40),f=a(145),g=a(93),h=a(135),i=17,j=d.createClass({
displayName:"ReactCSSTransitionGroupChild",propTypes:{name:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.shape({enter:d.PropTypes.string,leave:d.PropTypes.string,active:d.PropTypes.string}),d.PropTypes.shape({enter:d.PropTypes.string,enterActive:d.PropTypes.string,leave:d.PropTypes.string,leaveActive:d.PropTypes.string,appear:d.PropTypes.string,appearActive:d.PropTypes.string})]).isRequired,appear:d.PropTypes.bool,enter:d.PropTypes.bool,leave:d.PropTypes.bool,appearTimeout:d.PropTypes.number,enterTimeout:d.PropTypes.number,leaveTimeout:d.PropTypes.number},transition:function(a,b,c){var d=e.findDOMNode(this);if(!d)return void(b&&b());var h=this.props.name[a]||this.props.name+"-"+a,i=this.props.name[a+"Active"]||h+"-active",j=null,k=function(a){a&&a.target!==d||(clearTimeout(j),f.removeClass(d,h),f.removeClass(d,i),g.removeEndEventListener(d,k),b&&b())};f.addClass(d,h),this.queueClass(i),c?(j=setTimeout(k,c),this.transitionTimeouts.push(j)):g.addEndEventListener(d,k)},queueClass:function(a){this.classNameQueue.push(a),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,i))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(f.addClass.bind(f,e.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(a){clearTimeout(a)})},componentWillAppear:function(a){this.props.appear?this.transition("appear",a,this.props.appearTimeout):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a,this.props.enterTimeout):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a,this.props.leaveTimeout):a()},render:function(){return h(this.props.children)}});b.exports=j},{135:135,145:145,26:26,40:40,93:93}],31:[function(a,b,c){"use strict";function d(a,b,c){var d=void 0===a[c];i(d,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",c),null!=b&&d&&(a[c]=f(b,null))}var e=a(84),f=a(132),g=a(141),h=a(142),i=a(173),j={instantiateChildren:function(a,b,c){if(null==a)return null;var e={};return h(a,d,e),e},updateChildren:function(a,b,c,d){if(!b&&!a)return null;var h;for(h in b)if(b.hasOwnProperty(h)){var i=a&&a[h],j=i&&i._currentElement,k=b[h];if(null!=i&&g(j,k))e.receiveComponent(i,k,c,d),b[h]=i;else{i&&e.unmountComponent(i,h);var l=f(k,null);b[h]=l}}for(h in a)!a.hasOwnProperty(h)||b&&b.hasOwnProperty(h)||e.unmountComponent(a[h]);return b},unmountChildren:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];e.unmountComponent(c)}}};b.exports=j},{132:132,141:141,142:142,173:173,84:84}],32:[function(a,b,c){"use strict";function d(a){return(""+a).replace(u,"//")}function e(a,b){this.func=a,this.context=b,this.count=0}function f(a,b,c){var d=a.func,e=a.context;d.call(e,b,a.count++)}function g(a,b,c){if(null==a)return a;var d=e.getPooled(b,c);r(a,f,d),e.release(d)}function h(a,b,c,d){this.result=a,this.keyPrefix=b,this.func=c,this.context=d,this.count=0}function i(a,b,c){var e=a.result,f=a.keyPrefix,g=a.func,h=a.context,i=g.call(h,b,a.count++);Array.isArray(i)?j(i,e,c,q.thatReturnsArgument):null!=i&&(p.isValidElement(i)&&(i=p.cloneAndReplaceKey(i,f+(i!==b?d(i.key||"")+"/":"")+c)),e.push(i))}function j(a,b,c,e,f){var g="";null!=c&&(g=d(c)+"/");var j=h.getPooled(b,g,e,f);r(a,i,j),h.release(j)}function k(a,b,c){if(null==a)return a;var d=[];return j(a,d,null,b,c),d}function l(a,b,c){return null}function m(a,b){return r(a,l,null)}function n(a){var b=[];return j(a,b,null,q.thatReturnsArgument),b}var o=a(25),p=a(57),q=a(153),r=a(142),s=o.twoArgumentPooler,t=o.fourArgumentPooler,u=/\/(?!\/)/g;e.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},o.addPoolingTo(e,s),h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},o.addPoolingTo(h,t);var v={forEach:g,map:k,mapIntoWithKeyPrefixInternal:j,count:m,toArray:n};b.exports=v},{142:142,153:153,25:25,57:57}],33:[function(a,b,c){"use strict";function d(){B||(B=!0,x(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function e(a,b,c){for(var d in b)b.hasOwnProperty(d)&&x("function"==typeof b[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a.displayName||"ReactClass",q[c],d)}function f(a,b){var c=C.hasOwnProperty(b)?C[b]:null;E.hasOwnProperty(b)&&(c!==z.OVERRIDE_BASE?u(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",b):void 0),a.hasOwnProperty(b)&&(c!==z.DEFINE_MANY&&c!==z.DEFINE_MANY_MERGED?u(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",b):void 0)}function g(a,b){if(b){"function"==typeof b?u(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):void 0,o.isValidElement(b)?u(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var c=a.prototype;b.hasOwnProperty(y)&&D.mixins(a,b.mixins);for(var d in b)if(b.hasOwnProperty(d)&&d!==y){var e=b[d];if(f(c,d),D.hasOwnProperty(d))D[d](a,e);else{var g=C.hasOwnProperty(d),h=c.hasOwnProperty(d),i="function"==typeof e,l=i&&!g&&!h&&b.autobind!==!1;if(l)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[d]=e,c[d]=e;else if(h){var m=C[d];!g||m!==z.DEFINE_MANY_MERGED&&m!==z.DEFINE_MANY?u(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,d):void 0,m===z.DEFINE_MANY_MERGED?c[d]=j(c[d],e):m===z.DEFINE_MANY&&(c[d]=k(c[d],e))}else c[d]=e,"function"==typeof e&&b.displayName&&(c[d].displayName=b.displayName+"_"+d)}}}}function h(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in D;e?u(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',c):void 0;var f=c in a;f?u(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",c):void 0,a[c]=d}}}function i(a,b){a&&b&&"object"==typeof a&&"object"==typeof b?void 0:u(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var c in b)b.hasOwnProperty(c)&&(void 0!==a[c]?u(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",c):void 0,a[c]=b[c]);return a}function j(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return i(e,c),i(e,d),e}}function k(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function l(a,b){var c=b.bind(a);c.__reactBoundContext=a,c.__reactBoundMethod=b,c.__reactBoundArguments=null;var d=a.constructor.displayName,e=c.bind;return c.bind=function(f){for(var g=arguments.length,h=Array(g>1?g-1:0),i=1;g>i;i++)h[i-1]=arguments[i];if(f!==a&&null!==f)x(!1,"bind(): React component methods may only be bound to the component instance. See %s",d);else if(!h.length)return x(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",d),c;var j=e.apply(c,arguments);return j.__reactBoundContext=a,j.__reactBoundMethod=b,j.__reactBoundArguments=h,j},c}function m(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=l(a,c)}}var n=a(34),o=a(57),p=a(81),q=a(80),r=a(76),s=a(24),t=a(154),u=a(161),v=a(165),w=a(166),x=a(173),y=w({mixins:null}),z=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),A=[],B=!1,C={mixins:z.DEFINE_MANY,statics:z.DEFINE_MANY,propTypes:z.DEFINE_MANY,contextTypes:z.DEFINE_MANY,childContextTypes:z.DEFINE_MANY,getDefaultProps:z.DEFINE_MANY_MERGED,getInitialState:z.DEFINE_MANY_MERGED,getChildContext:z.DEFINE_MANY_MERGED,render:z.DEFINE_ONCE,componentWillMount:z.DEFINE_MANY,componentDidMount:z.DEFINE_MANY,componentWillReceiveProps:z.DEFINE_MANY,shouldComponentUpdate:z.DEFINE_ONCE,componentWillUpdate:z.DEFINE_MANY,componentDidUpdate:z.DEFINE_MANY,componentWillUnmount:z.DEFINE_MANY,updateComponent:z.OVERRIDE_BASE},D={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)g(a,b[c])},childContextTypes:function(a,b){e(a,b,p.childContext),a.childContextTypes=s({},a.childContextTypes,b)},contextTypes:function(a,b){e(a,b,p.context),a.contextTypes=s({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=j(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){e(a,b,p.prop),a.propTypes=s({},a.propTypes,b)},statics:function(a,b){h(a,b)},autobind:function(){}},E={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a),b&&this.updater.enqueueCallback(this,b)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(a,b){d(),this.updater.enqueueSetProps(this,a),b&&this.updater.enqueueCallback(this,b)},replaceProps:function(a,b){d(),this.updater.enqueueReplaceProps(this,a),b&&this.updater.enqueueCallback(this,b)}},F=function(){};s(F.prototype,n.prototype,E);var G={createClass:function(a){var b=function(a,c,d){x(this instanceof b,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&m(this),this.props=a,this.context=c,this.refs=t,this.updater=d||r,this.state=null;var e=this.getInitialState?this.getInitialState():null;"undefined"==typeof e&&this.getInitialState._isMockFunction&&(e=null),"object"!=typeof e||Array.isArray(e)?u(!1,"%s.getInitialState(): must return an object or null",b.displayName||"ReactCompositeComponent"):void 0,this.state=e};b.prototype=new F,b.prototype.constructor=b,A.forEach(g.bind(null,b)),g(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),b.getDefaultProps&&(b.getDefaultProps.isReactClassApproved={}),b.prototype.getInitialState&&(b.prototype.getInitialState.isReactClassApproved={}),b.prototype.render?void 0:u(!1,"createClass(...): Class specification must implement a `render` method."),x(!b.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",a.displayName||"A component"),x(!b.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",a.displayName||"A component");for(var c in C)b.prototype[c]||(b.prototype[c]=null);return b},injection:{injectMixin:function(a){A.push(a)}}};b.exports=G},{154:154,161:161,165:165,166:166,173:173,24:24,34:34,57:57,76:76,80:80,81:81}],34:[function(a,b,c){"use strict";function d(a,b,c){this.props=a,this.context=b,this.refs=g,this.updater=c||e}var e=a(76),f=a(117),g=a(154),h=a(161),i=a(173);d.prototype.isReactComponent={},d.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a?h(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,i(null!=a,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,a),b&&this.updater.enqueueCallback(this,b)},d.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this),a&&this.updater.enqueueCallback(this,a)};var j={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},k=function(a,b){f&&Object.defineProperty(d.prototype,a,{get:function(){i(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",b[0],b[1])}})};for(var l in j)j.hasOwnProperty(l)&&k(l,j[l]);b.exports=d},{117:117,154:154,161:161,173:173,76:76}],35:[function(a,b,c){"use strict";var d=a(45),e=a(72),f={processChildrenUpdates:d.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:d.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){e.purgeID(a)}};b.exports=f},{45:45,72:72}],36:[function(a,b,c){"use strict";var d=a(161),e=!1,f={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){e?d(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,f.unmountIDFromEnvironment=a.unmountIDFromEnvironment,f.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,f.processChildrenUpdates=a.processChildrenUpdates,e=!0}}};b.exports=f},{161:161}],37:[function(a,b,c){"use strict";var d=a(140),e={shouldComponentUpdate:function(a,b){return d(this,a,b)}};b.exports=e},{140:140}],38:[function(a,b,c){"use strict";function d(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}function e(a){}var f=a(36),g=a(39),h=a(57),i=a(68),j=a(78),k=a(81),l=a(80),m=a(84),n=a(95),o=a(24),p=a(154),q=a(161),r=a(141),s=a(173);e.prototype.render=function(){var a=i.get(this)._currentElement.type;return a(this.props,this.context,this.updater)};var t=1,u={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=t++,this._rootNodeID=a;var d,f,j=this._processProps(this._currentElement.props),k=this._processContext(c),l=this._currentElement.type,o="prototype"in l;if(o){g.current=this;try{d=new l(j,k,n)}finally{g.current=null}}o&&null!==d&&d!==!1&&!h.isValidElement(d)||(f=d,d=new e(l)),null==d.render?s(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",l.displayName||l.name||"Component"):s(l.prototype&&l.prototype.isReactComponent||!o||!(d instanceof l),"%s(...): React component classes must extend React.Component.",l.displayName||l.name||"Component"),d.props=j,d.context=k,d.refs=p,d.updater=n,this._instance=d,i.set(d,this),s(!d.getInitialState||d.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),s(!d.getDefaultProps||d.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),s(!d.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),s(!d.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),s("function"!=typeof d.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),s("function"!=typeof d.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),s("function"!=typeof d.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var r=d.state;void 0===r&&(d.state=r=null),"object"!=typeof r||Array.isArray(r)?q(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,d.componentWillMount&&(d.componentWillMount(),this._pendingStateQueue&&(d.state=this._processPendingState(d.props,d.context))),void 0===f&&(f=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(f);var u=m.mountComponent(this._renderedComponent,a,b,this._processChildContext(c));return d.componentDidMount&&b.getReactMountReady().enqueue(d.componentDidMount,d),u},unmountComponent:function(){var a=this._instance;a.componentWillUnmount&&a.componentWillUnmount(),m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,i.remove(a)},_maskContext:function(a){var b=null,c=this._currentElement.type,d=c.contextTypes;if(!d)return p;b={};for(var e in d)b[e]=a[e];return b},_processContext:function(a){var b=this._maskContext(a),c=this._currentElement.type;return c.contextTypes&&this._checkPropTypes(c.contextTypes,b,k.context),b},_processChildContext:function(a){var b=this._currentElement.type,c=this._instance,d=c.getChildContext&&c.getChildContext();if(d){"object"!=typeof b.childContextTypes?q(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(b.childContextTypes,d,k.childContext);for(var e in d)e in b.childContextTypes?void 0:q(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",e);return o({},a,d)}return a},_processProps:function(a){var b=this._currentElement.type;return b.propTypes&&this._checkPropTypes(b.propTypes,a,k.prop),a},_checkPropTypes:function(a,b,c){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{"function"!=typeof a[f]?q(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",l[c],f):void 0,g=a[f](b,f,e,c)}catch(h){g=h}if(g instanceof Error){var i=d(this);c===k.prop?s(!1,"Failed Composite propType: %s%s",g.message,i):s(!1,"Failed Context Types: %s%s",g.message,i)}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(a,b,c,d,e){var f,g=this._instance,h=this._context===e?g.context:this._processContext(e);b===c?f=c.props:(f=this._processProps(c.props),g.componentWillReceiveProps&&g.componentWillReceiveProps(f,h));var i=this._processPendingState(f,h),j=this._pendingForceUpdate||!g.shouldComponentUpdate||g.shouldComponentUpdate(f,i,h);s("undefined"!=typeof j,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,f,i,h,a,e)):(this._currentElement=c,this._context=e,g.props=f,g.state=i,g.context=h)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];for(var f=o({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];o(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g,h,i,j=this._instance,k=Boolean(j.componentDidUpdate);k&&(g=j.props,h=j.state,i=j.context),j.componentWillUpdate&&j.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,j.props=b,j.state=c,j.context=d,this._updateRenderedComponent(e,f),k&&e.getReactMountReady().enqueue(j.componentDidUpdate.bind(j,g,h,i),j)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._renderValidatedComponent();if(r(d,e))m.receiveComponent(c,e,a,this._processChildContext(b));else{var f=this._rootNodeID,g=c._rootNodeID;m.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(e);var h=m.mountComponent(this._renderedComponent,f,a,this._processChildContext(b));this._replaceNodeWithMarkupByID(g,h)}},_replaceNodeWithMarkupByID:function(a,b){f.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return"undefined"==typeof b&&a.render._isMockFunction&&(b=null),b},_renderValidatedComponent:function(){var a;g.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{g.current=null}return null===a||a===!1||h.isValidElement(a)?void 0:q(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),a},attachRef:function(a,b){var c=this.getPublicInstance();null==c?q(!1,"Stateless function components cannot have refs."):void 0;var d=b.getPublicInstance(),e=b&&b.getName?b.getName():"a component";s(null!=d,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',a,e,this.getName());var f=c.refs===p?c.refs={}:c.refs;f[a]=d},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof e?null:a},_instantiateReactComponent:null};j.measureMethods(u,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var v={Mixin:u};b.exports=v},{141:141,154:154,161:161,173:173,24:24,36:36,39:39,57:57,68:68,78:78,80:80,81:81,84:84,95:95}],39:[function(a,b,c){"use strict";var d={current:null};b.exports=d},{}],40:[function(a,b,c){"use strict";var d=a(39),e=a(51),f=a(54),g=a(67),h=a(72),i=a(78),j=a(84),k=a(96),l=a(97),m=a(122),n=a(137),o=a(173);f.inject();var p=i.measure("React","render",h.render),q={findDOMNode:m,render:p,unmountComponentAtNode:h.unmountComponentAtNode,version:l,unstable_batchedUpdates:k.batchedUpdates,unstable_renderSubtreeIntoContainer:n};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:d,InstanceHandles:g,Mount:h,Reconciler:j,TextComponent:e});var r=a(147);if(r.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var s=document.documentMode&&document.documentMode<8;o(!s,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var t=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],u=0;u<t.length;u++)if(!t[u]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}b.exports=q},{122:122,137:137,147:147,173:173,39:39,51:51,54:54,67:67,72:72,78:78,84:84,96:96,97:97}],41:[function(a,b,c){"use strict";var d={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},e={getNativeProps:function(a,b,c){if(!b.disabled)return b;var e={};for(var f in b)b.hasOwnProperty(f)&&!d[f]&&(e[f]=b[f]);return e}};b.exports=e},{}],42:[function(a,b,c){"use strict";function d(a){if(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" This DOM node was rendered by `"+c+"`."}}return""}function e(){var a=this._reactInternalComponent;return W(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",d(a)),this}function f(){var a=this._reactInternalComponent;return W(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",d(a)),!!a}function g(){var a=this._reactInternalComponent;W(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",d(a))}function h(a,b){var c=this._reactInternalComponent;W(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",d(c)),c&&(L.enqueueSetPropsInternal(c,a),b&&L.enqueueCallbackInternal(c,b))}function i(a,b){var c=this._reactInternalComponent;W(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",d(c)),c&&(L.enqueueReplacePropsInternal(c,a),b&&L.enqueueCallbackInternal(c,b))}function j(a){if("object"==typeof a){if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";var b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=/^[a-z$_][\w$_]*$/i.test(c)?c:JSON.stringify(c);b.push(d+": "+j(a[c]))}return"{"+b.join(", ")+"}"}return"string"==typeof a?JSON.stringify(a):"function"==typeof a?"[function object]":String(a)}function k(a,b,c){if(null!=a&&null!=b&&!U(a,b)){var d,e=c._tag,f=c._currentElement._owner;f&&(d=f.getName());var g=d+"|"+e;da.hasOwnProperty(g)||(da[g]=!0,W(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",e,f?"of `"+d+"`":"using <"+e+">",j(a),j(b)))}}function l(a,b){b&&(ha[a._tag]&&W(null==b.children&&null==b.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",a._tag,a._currentElement._owner?" Check the render method of "+a._currentElement._owner.getName()+".":""),null!=b.dangerouslySetInnerHTML&&(null!=b.children?P(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof b.dangerouslySetInnerHTML&&ba in b.dangerouslySetInnerHTML?void 0:P(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),W(null==b.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),W(!b.contentEditable||null==b.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=b.style&&"object"!=typeof b.style?P(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",d(a)):void 0)}function m(a,b,c,d){W("onScroll"!==b||Q("scroll",!0),"This browser doesn't support the `onScroll` event");var e=I.findReactContainerForID(a);if(e){var f=e.nodeType===ca?e.ownerDocument:e;Y(b,f)}d.getReactMountReady().enqueue(n,{id:a,registrationName:b,listener:c})}function n(){var a=this;B.putListener(a.id,a.registrationName,a.listener)}function o(){var a=this;a._rootNodeID?void 0:P(!1,"Must be mounted to trap events");var b=I.getNode(a._rootNodeID);switch(b?void 0:P(!1,"trapBubbledEvent(...): Requires node to be rendered."),a._tag){case"iframe":a._wrapperState.listeners=[B.trapBubbledEvent(A.topLevelTypes.topLoad,"load",b)];break;case"video":case"audio":a._wrapperState.listeners=[];for(var c in ea)ea.hasOwnProperty(c)&&a._wrapperState.listeners.push(B.trapBubbledEvent(A.topLevelTypes[c],ea[c],b));break;case"img":a._wrapperState.listeners=[B.trapBubbledEvent(A.topLevelTypes.topError,"error",b),B.trapBubbledEvent(A.topLevelTypes.topLoad,"load",b)];break;case"form":a._wrapperState.listeners=[B.trapBubbledEvent(A.topLevelTypes.topReset,"reset",b),B.trapBubbledEvent(A.topLevelTypes.topSubmit,"submit",b)]}}function p(){E.mountReadyWrapper(this)}function q(){G.postUpdateWrapper(this)}function r(a){ka.call(ja,a)||(ia.test(a)?void 0:P(!1,"Invalid tag: %s",a),ja[a]=!0)}function s(a,b){a=M({},a);var c=a[V.ancestorInfoContextKey];return a[V.ancestorInfoContextKey]=V.updatedAncestorInfo(c,b._tag,b),a}function t(a,b){return a.indexOf("-")>=0||null!=b.is}function u(a){r(a),this._tag=a.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var v,w=a(2),x=a(5),y=a(10),z=a(11),A=a(15),B=a(28),C=a(35),D=a(41),E=a(46),F=a(47),G=a(48),H=a(52),I=a(72),J=a(73),K=a(78),L=a(95),M=a(24),N=a(117),O=a(121),P=a(161),Q=a(133),R=a(166),S=a(138),T=a(139),U=a(171),V=a(144),W=a(173),X=B.deleteListener,Y=B.listenTo,Z=B.registrationNameModules,$={string:!0,number:!0},_=R({children:null}),aa=R({style:null}),ba=R({__html:null}),ca=1;v={props:{enumerable:!1,get:function(){var a=this._reactInternalComponent;return W(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",d(a)),a._currentElement.props}}};var da={},ea={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},fa={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ga={listing:!0,pre:!0,textarea:!0},ha=M({menuitem:!0},fa),ia=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ja={},ka={}.hasOwnProperty;u.displayName="ReactDOMComponent",u.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a;var d=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},b.getReactMountReady().enqueue(o,this);
break;case"button":d=D.getNativeProps(this,d,c);break;case"input":E.mountWrapper(this,d,c),d=E.getNativeProps(this,d,c);break;case"option":F.mountWrapper(this,d,c),d=F.getNativeProps(this,d,c);break;case"select":G.mountWrapper(this,d,c),d=G.getNativeProps(this,d,c),c=G.processChildContext(this,d,c);break;case"textarea":H.mountWrapper(this,d,c),d=H.getNativeProps(this,d,c)}l(this,d),c[V.ancestorInfoContextKey]&&V(this._tag,this,c[V.ancestorInfoContextKey]),this._unprocessedContextDev=c,this._processedContextDev=s(c,this),c=this._processedContextDev;var e;if(b.useCreateElement){var f=c[I.ownerDocumentContextKey],g=f.createElement(this._currentElement.type);z.setAttributeForID(g,this._rootNodeID),I.getID(g),this._updateDOMProperties({},d,b,g),this._createInitialChildren(b,d,c,g),e=g}else{var h=this._createOpenTagMarkupAndPutListeners(b,d),i=this._createContentMarkup(b,d,c);e=!i&&fa[this._tag]?h+"/>":h+">"+i+"</"+this._currentElement.type+">"}switch(this._tag){case"input":b.getReactMountReady().enqueue(p,this);case"button":case"select":case"textarea":d.autoFocus&&b.getReactMountReady().enqueue(w.focusDOMComponent,this)}return e},_createOpenTagMarkupAndPutListeners:function(a,b){var c="<"+this._currentElement.type;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(null!=e)if(Z.hasOwnProperty(d))e&&m(this._rootNodeID,d,e,a);else{d===aa&&(e&&(this._previousStyle=e,e=this._previousStyleCopy=M({},b.style)),e=x.createMarkupForStyles(e));var f=null;null!=this._tag&&t(this._tag,b)?d!==_&&(f=z.createMarkupForCustomAttribute(d,e)):f=z.createMarkupForProperty(d,e),f&&(c+=" "+f)}}if(a.renderToStaticMarkup)return c;var g=z.createMarkupForID(this._rootNodeID);return c+" "+g},_createContentMarkup:function(a,b,c){var d="",e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&(d=e.__html);else{var f=$[typeof b.children]?b.children:null,g=null!=f?null:b.children;if(null!=f)d=O(f);else if(null!=g){var h=this.mountChildren(g,a,c);d=h.join("")}}return ga[this._tag]&&"\n"===d.charAt(0)?"\n"+d:d},_createInitialChildren:function(a,b,c,d){var e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&S(d,e.__html);else{var f=$[typeof b.children]?b.children:null,g=null!=f?null:b.children;if(null!=f)T(d,f);else if(null!=g)for(var h=this.mountChildren(g,a,c),i=0;i<h.length;i++)d.appendChild(h[i])}},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,d){var e=b.props,f=this._currentElement.props;switch(this._tag){case"button":e=D.getNativeProps(this,e),f=D.getNativeProps(this,f);break;case"input":E.updateWrapper(this),e=E.getNativeProps(this,e),f=E.getNativeProps(this,f);break;case"option":e=F.getNativeProps(this,e),f=F.getNativeProps(this,f);break;case"select":e=G.getNativeProps(this,e),f=G.getNativeProps(this,f);break;case"textarea":H.updateWrapper(this),e=H.getNativeProps(this,e),f=H.getNativeProps(this,f)}this._unprocessedContextDev!==d&&(this._unprocessedContextDev=d,this._processedContextDev=s(d,this)),d=this._processedContextDev,l(this,f),this._updateDOMProperties(e,f,a,null),this._updateDOMChildren(e,f,a,d),!N&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=f),"select"===this._tag&&a.getReactMountReady().enqueue(q,this)},_updateDOMProperties:function(a,b,c,d){var e,f,g;for(e in a)if(!b.hasOwnProperty(e)&&a.hasOwnProperty(e))if(e===aa){var h=this._previousStyleCopy;for(f in h)h.hasOwnProperty(f)&&(g=g||{},g[f]="");this._previousStyleCopy=null}else Z.hasOwnProperty(e)?a[e]&&X(this._rootNodeID,e):(y.properties[e]||y.isCustomAttribute(e))&&(d||(d=I.getNode(this._rootNodeID)),z.deleteValueForProperty(d,e));for(e in b){var i=b[e],j=e===aa?this._previousStyleCopy:a[e];if(b.hasOwnProperty(e)&&i!==j)if(e===aa)if(i?(k(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=i,i=this._previousStyleCopy=M({},i)):this._previousStyleCopy=null,j){for(f in j)!j.hasOwnProperty(f)||i&&i.hasOwnProperty(f)||(g=g||{},g[f]="");for(f in i)i.hasOwnProperty(f)&&j[f]!==i[f]&&(g=g||{},g[f]=i[f])}else g=i;else Z.hasOwnProperty(e)?i?m(this._rootNodeID,e,i,c):j&&X(this._rootNodeID,e):t(this._tag,b)?(d||(d=I.getNode(this._rootNodeID)),e===_&&(i=null),z.setValueForAttribute(d,e,i)):(y.properties[e]||y.isCustomAttribute(e))&&(d||(d=I.getNode(this._rootNodeID)),null!=i?z.setValueForProperty(d,e,i):z.deleteValueForProperty(d,e))}g&&(d||(d=I.getNode(this._rootNodeID)),x.setValueForStyles(d,g))},_updateDOMChildren:function(a,b,c,d){var e=$[typeof a.children]?a.children:null,f=$[typeof b.children]?b.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:b.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,c,d):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&this.updateMarkup(""+h):null!=j&&this.updateChildren(j,c,d)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var a=this._wrapperState.listeners;if(a)for(var b=0;b<a.length;b++)a[b].remove();break;case"input":E.unmountWrapper(this);break;case"html":case"head":case"body":P(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}if(this.unmountChildren(),B.deleteAllListeners(this._rootNodeID),C.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var c=this._nodeWithLegacyProperties;c._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var a=I.getNode(this._rootNodeID);a._reactInternalComponent=this,a.getDOMNode=e,a.isMounted=f,a.setState=g,a.replaceState=g,a.forceUpdate=g,a.setProps=h,a.replaceProps=i,N?Object.defineProperties(a,v):a.props=this._currentElement.props,this._nodeWithLegacyProperties=a}return this._nodeWithLegacyProperties}},K.measureMethods(u,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),M(u.prototype,u.Mixin,J.Mixin),b.exports=u},{10:10,11:11,117:117,121:121,133:133,138:138,139:139,144:144,15:15,161:161,166:166,171:171,173:173,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,72:72,73:73,78:78,95:95}],43:[function(a,b,c){"use strict";function d(a){return e.createFactory(a)}var e=(a(57),a(58)),f=a(167),g=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},d);b.exports=g},{167:167,57:57,58:58}],44:[function(a,b,c){"use strict";var d={useCreateElement:!1};b.exports=d},{}],45:[function(a,b,c){"use strict";var d=a(9),e=a(11),f=a(72),g=a(78),h=a(161),i={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},j={updatePropertyByID:function(a,b,c){var d=f.getNode(a);i.hasOwnProperty(b)?h(!1,"updatePropertyByID(...): %s",i[b]):void 0,null!=c?e.setValueForProperty(d,b,c):e.deleteValueForProperty(d,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=f.getNode(a);d.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=f.getNode(a[c].parentID);d.processUpdates(a,b)}};g.measureMethods(j,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),b.exports=j},{11:11,161:161,72:72,78:78,9:9}],46:[function(a,b,c){"use strict";function d(){this._rootNodeID&&m.updateWrapper(this)}function e(a){var b=this._currentElement.props,c=g.executeOnChange(b,a);i.asap(d,this);var e=b.name;if("radio"===b.type&&null!=e){for(var f=h.getNode(this._rootNodeID),j=f;j.parentNode;)j=j.parentNode;for(var m=j.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),n=0;n<m.length;n++){var o=m[n];if(o!==f&&o.form===f.form){var p=h.getID(o);p?void 0:k(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var q=l[p];q?void 0:k(!1,"ReactDOMInput: Unknown radio button ID %s.",p),i.asap(d,q)}}}return c}var f=a(45),g=a(23),h=a(72),i=a(96),j=a(24),k=a(161),l={},m={getNativeProps:function(a,b,c){var d=g.getValue(b),e=g.getChecked(b),f=j({},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=d?d:a._wrapperState.initialValue,checked:null!=e?e:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange});return f},mountWrapper:function(a,b){g.checkPropTypes("input",b,a._currentElement._owner);var c=b.defaultValue;a._wrapperState={initialChecked:b.defaultChecked||!1,initialValue:null!=c?c:null,onChange:e.bind(a)}},mountReadyWrapper:function(a){l[a._rootNodeID]=a},unmountWrapper:function(a){delete l[a._rootNodeID]},updateWrapper:function(a){var b=a._currentElement.props,c=b.checked;null!=c&&f.updatePropertyByID(a._rootNodeID,"checked",c||!1);var d=g.getValue(b);null!=d&&f.updatePropertyByID(a._rootNodeID,"value",""+d)}};b.exports=m},{161:161,23:23,24:24,45:45,72:72,96:96}],47:[function(a,b,c){"use strict";var d=a(32),e=a(48),f=a(24),g=a(173),h=e.valueContextKey,i={mountWrapper:function(a,b,c){g(null==b.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var d=c[h],e=null;if(null!=d)if(e=!1,Array.isArray(d)){for(var f=0;f<d.length;f++)if(""+d[f]==""+b.value){e=!0;break}}else e=""+d==""+b.value;a._wrapperState={selected:e}},getNativeProps:function(a,b,c){var e=f({selected:void 0,children:void 0},b);null!=a._wrapperState.selected&&(e.selected=a._wrapperState.selected);var h="";return d.forEach(b.children,function(a){null!=a&&("string"==typeof a||"number"==typeof a?h+=a:g(!1,"Only strings and numbers are supported as <option> children."))}),e.children=h,e}};b.exports=i},{173:173,24:24,32:32,48:48}],48:[function(a,b,c){"use strict";function d(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var a=this._currentElement.props,b=i.getValue(a);null!=b&&g(this,Boolean(a.multiple),b)}}function e(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}function f(a,b){var c=a._currentElement._owner;i.checkPropTypes("select",b,c);for(var d=0;d<o.length;d++){var f=o[d];null!=b[f]&&(b.multiple?m(Array.isArray(b[f]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",f,e(c)):m(!Array.isArray(b[f]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",f,e(c)))}}function g(a,b,c){var d,e,f=j.getNode(a._rootNodeID).options;if(b){for(d={},e=0;e<c.length;e++)d[""+c[e]]=!0;for(e=0;e<f.length;e++){var g=d.hasOwnProperty(f[e].value);f[e].selected!==g&&(f[e].selected=g)}}else{for(d=""+c,e=0;e<f.length;e++)if(f[e].value===d)return void(f[e].selected=!0);f.length&&(f[0].selected=!0)}}function h(a){var b=this._currentElement.props,c=i.executeOnChange(b,a);return this._wrapperState.pendingUpdate=!0,k.asap(d,this),c}var i=a(23),j=a(72),k=a(96),l=a(24),m=a(173),n="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),o=["value","defaultValue"],p={valueContextKey:n,getNativeProps:function(a,b,c){return l({},b,{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(a,b){f(a,b);var c=i.getValue(b);a._wrapperState={pendingUpdate:!1,initialValue:null!=c?c:b.defaultValue,onChange:h.bind(a),wasMultiple:Boolean(b.multiple)}},processChildContext:function(a,b,c){var d=l({},c);return d[n]=a._wrapperState.initialValue,d},postUpdateWrapper:function(a){var b=a._currentElement.props;a._wrapperState.initialValue=void 0;var c=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=Boolean(b.multiple);var d=i.getValue(b);null!=d?(a._wrapperState.pendingUpdate=!1,g(a,Boolean(b.multiple),d)):c!==Boolean(b.multiple)&&(null!=b.defaultValue?g(a,Boolean(b.multiple),b.defaultValue):g(a,Boolean(b.multiple),b.multiple?[]:""))}};b.exports=p},{173:173,23:23,24:24,72:72,96:96}],49:[function(a,b,c){"use strict";function d(a,b,c,d){return a===c&&b===d}function e(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function f(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(i){return null}var j=d(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),k=j?0:h.toString().length,l=h.cloneRange();l.selectNodeContents(a),l.setEnd(h.startContainer,h.startOffset);var m=d(l.startContainer,l.startOffset,l.endContainer,l.endOffset),n=m?0:l.toString().length,o=n+k,p=document.createRange();p.setStart(c,e),p.setEnd(f,g);var q=p.collapsed;return{start:q?o:n,end:q?n:o}}function g(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function h(a,b){if(window.getSelection){var c=window.getSelection(),d=a[k()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=j(a,e),i=j(a,f);if(h&&i){var l=document.createRange();l.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(i.node,i.offset)):(l.setEnd(i.node,i.offset),c.addRange(l))}}}var i=a(147),j=a(130),k=a(131),l=i.canUseDOM&&"selection"in document&&!("getSelection"in window),m={getOffsets:l?e:f,setOffsets:l?g:h};b.exports=m},{130:130,131:131,147:147}],50:[function(a,b,c){"use strict";var d=a(54),e=a(88),f=a(97);d.inject();var g={renderToString:e.renderToString,renderToStaticMarkup:e.renderToStaticMarkup,version:f};b.exports=g},{54:54,88:88,97:97}],51:[function(a,b,c){"use strict";var d=a(9),e=a(11),f=a(35),g=a(72),h=a(24),i=a(121),j=a(139),k=a(144),l=function(a){};h(l.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b,c){if(c[k.ancestorInfoContextKey]&&k("span",null,c[k.ancestorInfoContextKey]),this._rootNodeID=a,b.useCreateElement){var d=c[g.ownerDocumentContextKey],f=d.createElement("span");return e.setAttributeForID(f,a),g.getID(f),j(f,this._stringText),f}var h=i(this._stringText);return b.renderToStaticMarkup?h:"<span "+e.createMarkupForID(a)+">"+h+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var c=""+a;if(c!==this._stringText){this._stringText=c;var e=g.getNode(this._rootNodeID);d.updateTextContent(e,c)}}},unmountComponent:function(){f.unmountIDFromEnvironment(this._rootNodeID)}}),b.exports=l},{11:11,121:121,139:139,144:144,24:24,35:35,72:72,9:9}],52:[function(a,b,c){"use strict";function d(){this._rootNodeID&&l.updateWrapper(this)}function e(a){var b=this._currentElement.props,c=f.executeOnChange(b,a);return h.asap(d,this),c}var f=a(23),g=a(45),h=a(96),i=a(24),j=a(161),k=a(173),l={getNativeProps:function(a,b,c){null!=b.dangerouslySetInnerHTML?j(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var d=i({},b,{defaultValue:void 0,value:void 0,children:a._wrapperState.initialValue,onChange:a._wrapperState.onChange});return d},mountWrapper:function(a,b){f.checkPropTypes("textarea",b,a._currentElement._owner);var c=b.defaultValue,d=b.children;null!=d&&(k(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=c?j(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(d)&&(d.length<=1?void 0:j(!1,"<textarea> can only have at most one child."),d=d[0]),c=""+d),null==c&&(c="");var g=f.getValue(b);a._wrapperState={initialValue:""+(null!=g?g:c),onChange:e.bind(a)}},updateWrapper:function(a){var b=a._currentElement.props,c=f.getValue(b);null!=c&&g.updatePropertyByID(a._rootNodeID,"value",""+c)}};b.exports=l},{161:161,173:173,23:23,24:24,45:45,96:96}],53:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction()}var e=a(96),f=a(113),g=a(24),h=a(153),i={initialize:h,close:function(){m.isBatchingUpdates=!1}},j={initialize:h,close:e.flushBatchedUpdates.bind(e)},k=[j,i];g(d.prototype,f.Mixin,{getTransactionWrappers:function(){return k}});var l=new d,m={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e,f){var g=m.isBatchingUpdates;m.isBatchingUpdates=!0,g?a(b,c,d,e,f):l.perform(a,null,b,c,d,e,f)}};b.exports=m},{113:113,153:153,24:24,96:96}],54:[function(a,b,c){"use strict";function d(){if(!z){z=!0,r.EventEmitter.injectReactEventListener(q),r.EventPluginHub.injectEventPluginOrder(h),r.EventPluginHub.injectInstanceHandle(s),r.EventPluginHub.injectMount(t),r.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:i,ChangeEventPlugin:f,SelectEventPlugin:v,BeforeInputEventPlugin:e}),r.NativeComponent.injectGenericComponentClass(o),r.NativeComponent.injectTextComponentClass(p),r.Class.injectMixin(l),r.DOMProperty.injectDOMPropertyConfig(k),r.DOMProperty.injectDOMPropertyConfig(y),r.EmptyComponent.injectEmptyComponent("noscript"),r.Updates.injectReconcileTransaction(u),r.Updates.injectBatchingStrategy(n),r.RootIndex.injectCreateReactRootIndex(j.canUseDOM?g.createReactRootIndex:w.createReactRootIndex),r.Component.injectEnvironment(m);var b=j.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(b)){var c=a(55);c.start()}}}var e=a(3),f=a(7),g=a(8),h=a(13),i=a(14),j=a(147),k=a(21),l=a(27),m=a(35),n=a(53),o=a(42),p=a(51),q=a(63),r=a(65),s=a(67),t=a(72),u=a(83),v=a(99),w=a(100),x=a(101),y=a(98),z=!1;b.exports={inject:d}},{100:100,101:101,13:13,14:14,147:147,21:21,27:27,3:3,35:35,42:42,51:51,53:53,55:55,63:63,65:65,67:67,7:7,72:72,8:8,83:83,98:98,99:99}],55:[function(a,b,c){"use strict";function d(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var f=a(10),g=a(56),h=a(72),i=a(78),j=a(170),k={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){k._injected||i.injection.injectMeasure(k.measure),k._allMeasurements.length=0,i.enableMeasure=!0},stop:function(){i.enableMeasure=!1},getLastMeasurements:function(){return k._allMeasurements},printExclusive:function(a){a=a||k._allMeasurements;var b=g.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":d(a.inclusive),"Exclusive mount time (ms)":d(a.exclusive),"Exclusive render time (ms)":d(a.render),"Mount time per instance (ms)":d(a.exclusive/a.count),"Render time per instance (ms)":d(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||k._allMeasurements;var b=g.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":d(a.time),Instances:a.count}})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=g.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||k._allMeasurements,console.table(k.getMeasurementsSummaryMap(a)),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||k._allMeasurements;var b=g.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[f.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=k._allMeasurements[k._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var d=arguments.length,f=Array(d),g=0;d>g;g++)f[g]=arguments[g];var i,l,m;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return k._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),m=j(),l=c.apply(this,f),k._allMeasurements[k._allMeasurements.length-1].totalTime=j()-m,l;if("_mountImageIntoNode"===b||"ReactBrowserEventEmitter"===a||"ReactDOMIDOperations"===a||"CSSPropertyOperations"===a||"DOMChildrenOperations"===a||"DOMPropertyOperations"===a){if(m=j(),l=c.apply(this,f),i=j()-m,"_mountImageIntoNode"===b){var n=h.getID(f[1]);k._recordWrite(n,b,i,f[0])}else if("dangerouslyProcessChildrenUpdates"===b)f[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=f[1][a.markupIndex]),k._recordWrite(a.parentID,a.type,i,b)});else{var o=f[0];"object"==typeof o&&(o=h.getID(f[0])),k._recordWrite(o,b,i,Array.prototype.slice.call(f,1))}return l}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,f);if(this._currentElement.type===h.TopLevelWrapper)return c.apply(this,f);var p="mountComponent"===b?f[0]:this._rootNodeID,q="_renderValidatedComponent"===b,r="mountComponent"===b,s=k._mountStack,t=k._allMeasurements[k._allMeasurements.length-1];if(q?e(t.counts,p,1):r&&(t.created[p]=!0,s.push(0)),m=j(),l=c.apply(this,f),i=j()-m,q)e(t.render,p,i);else if(r){var u=s.pop();s[s.length-1]+=i,e(t.exclusive,p,i-u),e(t.inclusive,p,i)}else e(t.inclusive,p,i);return t.displayNames[p]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};b.exports=k},{10:10,170:170,56:56,72:72,78:78}],56:[function(a,b,c){"use strict";function d(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function e(a){var b=[];return a.forEach(function(a){Object.keys(a.writes).forEach(function(c){a.writes[c].forEach(function(a){b.push({id:c,type:k[a.type]||a.type,args:a.args})})})}),b}function f(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=i({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var h=[];for(b in c)c[b].exclusive>=j&&h.push(c[b]);return h.sort(function(a,b){return b.exclusive-a.exclusive}),h}function g(a,b){for(var c,d={},e=0;e<a.length;e++){var f,g=a[e],k=i({},g.exclusive,g.inclusive);b&&(f=h(g));for(var l in k)if(!b||f[l]){var m=g.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},g.inclusive[l]&&(d[c].time+=g.inclusive[l]),g.counts[l]&&(d[c].count+=g.counts[l])}}var n=[];for(c in d)d[c].time>=j&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function h(a){var b={},c=Object.keys(a.writes),d=i({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}a.created[e]&&(f=!0),!f&&a.counts[e]>0&&(b[e]=!0)}return b}var i=a(24),j=1.2,k={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},l={getExclusiveSummary:f,getInclusiveSummary:g,getDOMSummary:e,getTotalTime:d};b.exports=l},{24:24}],57:[function(a,b,c){"use strict";var d=a(39),e=a(24),f=a(117),g="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,h={key:!0,ref:!0,__self:!0,__source:!0},i=function(a,b,c,d,e,h,i){var j={$$typeof:g,type:a,key:b,ref:c,props:i,_owner:h};return j._store={},f?(Object.defineProperty(j._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(j,"_self",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.defineProperty(j,"_source",{configurable:!1,enumerable:!1,writable:!1,value:e})):(j._store.validated=!1,j._self=d,j._source=e),Object.freeze(j.props),Object.freeze(j),j};i.createElement=function(a,b,c){var e,f={},g=null,j=null,k=null,l=null;if(null!=b){j=void 0===b.ref?null:b.ref,g=void 0===b.key?null:""+b.key,k=void 0===b.__self?null:b.__self,l=void 0===b.__source?null:b.__source;for(e in b)b.hasOwnProperty(e)&&!h.hasOwnProperty(e)&&(f[e]=b[e])}var m=arguments.length-2;if(1===m)f.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];f.children=n}if(a&&a.defaultProps){var p=a.defaultProps;for(e in p)"undefined"==typeof f[e]&&(f[e]=p[e])}return i(a,g,j,k,l,d.current,f)},i.createFactory=function(a){var b=i.createElement.bind(null,a);return b.type=a,b},i.cloneAndReplaceKey=function(a,b){var c=i(a.type,b,a.ref,a._self,a._source,a._owner,a.props);return c},i.cloneAndReplaceProps=function(a,b){var c=i(a.type,a.key,a.ref,a._self,a._source,a._owner,b);return c._store.validated=a._store.validated,c},i.cloneElement=function(a,b,c){var f,g=e({},a.props),j=a.key,k=a.ref,l=a._self,m=a._source,n=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,n=d.current),void 0!==b.key&&(j=""+b.key);for(f in b)b.hasOwnProperty(f)&&!h.hasOwnProperty(f)&&(g[f]=b[f])}var o=arguments.length-2;if(1===o)g.children=c;else if(o>1){for(var p=Array(o),q=0;o>q;q++)p[q]=arguments[q+2];g.children=p}return i(a.type,j,k,l,m,n,g)},i.isValidElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===g},b.exports=i},{117:117,24:24,39:39}],58:[function(a,b,c){"use strict";function d(){if(m.current){var a=m.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function e(a,b){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=!0;var c=f("uniqueKey",a,b);null!==c&&q(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',c.parentOrOwner||"",c.childOwner||"",c.url||"")}}function f(a,b,c){var e=d();if(!e){var f="string"==typeof c?c:c.displayName||c.name;f&&(e=" Check the top-level render call using <"+f+">.")}var g=r[a]||(r[a]={});if(g[e])return null;g[e]=!0;var h={parentOrOwner:e,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return b&&b._owner&&b._owner!==m.current&&(h.childOwner=" It was passed a child from "+b._owner.getName()+"."),h}function g(a,b){if("object"==typeof a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];j.isValidElement(d)&&e(d,b)}else if(j.isValidElement(a))a._store&&(a._store.validated=!0);else if(a){var f=o(a);if(f&&f!==a.entries)for(var g,h=f.call(a);!(g=h.next()).done;)j.isValidElement(g.value)&&e(g.value,b)}}function h(a,b,c,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{"function"!=typeof b[f]?p(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",l[e],f):void 0,g=b[f](c,f,a,e)}catch(h){g=h}if(q(!g||g instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",l[e],f,typeof g),g instanceof Error&&!(g.message in s)){s[g.message]=!0;var i=d();q(!1,"Failed propType: %s%s",g.message,i)}}}function i(a){var b=a.type;if("function"==typeof b){var c=b.displayName||b.name;b.propTypes&&h(c,b.propTypes,a.props,k.prop),"function"==typeof b.getDefaultProps&&q(b.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var j=a(57),k=a(81),l=a(80),m=a(39),n=a(117),o=a(129),p=a(161),q=a(173),r={},s={},t={createElement:function(a,b,c){var e="string"==typeof a||"function"==typeof a;q(e,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",d());var f=j.createElement.apply(this,arguments);if(null==f)return f;if(e)for(var h=2;h<arguments.length;h++)g(arguments[h],a);return i(f),f},createFactory:function(a){var b=t.createElement.bind(null,a);return b.type=a,n&&Object.defineProperty(b,"type",{enumerable:!1,get:function(){return q(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:a}),a}}),b},cloneElement:function(a,b,c){for(var d=j.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)g(arguments[e],d.type);return i(d),d}};b.exports=t},{117:117,129:129,161:161,173:173,39:39,57:57,80:80,81:81}],59:[function(a,b,c){"use strict";var d,e=a(57),f=a(60),g=a(84),h=a(24),i={injectEmptyComponent:function(a){d=e.createElement(a)}},j=function(a){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=a(d)};h(j.prototype,{construct:function(a){},mountComponent:function(a,b,c){return f.registerNullComponentID(a),this._rootNodeID=a,g.mountComponent(this._renderedComponent,a,b,c)},receiveComponent:function(){},unmountComponent:function(a,b,c){g.unmountComponent(this._renderedComponent),f.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),j.injection=i,b.exports=j},{24:24,57:57,60:60,84:84}],60:[function(a,b,c){"use strict";function d(a){return!!g[a]}function e(a){g[a]=!0}function f(a){delete g[a]}var g={},h={isNullComponentID:d,registerNullComponentID:e,deregisterNullComponentID:f};b.exports=h},{}],61:[function(a,b,c){"use strict";function d(a,b,c,d){try{return b(c,d)}catch(f){return void(null===e&&(e=f))}}var e=null,f={invokeGuardedCallback:d,invokeGuardedCallbackWithCatch:d,rethrowCaughtError:function(){if(e){var a=e;throw e=null,a}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var g=document.createElement("react");f.invokeGuardedCallback=function(a,b,c,d){var e=b.bind(null,c,d),f="react-"+a;g.addEventListener(f,e,!1);var h=document.createEvent("Event");
h.initEvent(f,!1,!1),g.dispatchEvent(h),g.removeEventListener(f,e,!1)}}b.exports=f},{}],62:[function(a,b,c){"use strict";function d(a){e.enqueueEvents(a),e.processEventQueue(!1)}var e=a(16),f={handleTopLevel:function(a,b,c,f,g){var h=e.extractEvents(a,b,c,f,g);d(h)}};b.exports=f},{16:16}],63:[function(a,b,c){"use strict";function d(a){var b=m.getID(a),c=l.getReactRootIDFromNodeID(b),d=m.findReactContainerForID(c),e=m.getFirstReactDOM(d);return e}function e(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function f(a){g(a)}function g(a){for(var b=m.getFirstReactDOM(p(a.nativeEvent))||window,c=b;c;)a.ancestors.push(c),c=d(c);for(var e=0;e<a.ancestors.length;e++){b=a.ancestors[e];var f=m.getID(b)||"";r._handleTopLevel(a.topLevelType,b,f,a.nativeEvent,p(a.nativeEvent))}}function h(a){var b=q(window);a(b)}var i=a(146),j=a(147),k=a(25),l=a(67),m=a(72),n=a(96),o=a(24),p=a(128),q=a(158);o(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),k.addPoolingTo(e,k.twoArgumentPooler);var r={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:j.canUseDOM?window:null,setHandleTopLevel:function(a){r._handleTopLevel=a},setEnabled:function(a){r._enabled=!!a},isEnabled:function(){return r._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?i.listen(d,b,r.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?i.capture(d,b,r.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=h.bind(null,a);i.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(r._enabled){var c=e.getPooled(a,b);try{n.batchedUpdates(f,c)}finally{e.release(c)}}}};b.exports=r},{128:128,146:146,147:147,158:158,24:24,25:25,67:67,72:72,96:96}],64:[function(a,b,c){"use strict";var d=a(32),e=a(57),f=a(153),g=a(161),h=a(173),i=/^\d+$/,j=!1,k={create:function(a){if("object"!=typeof a||!a||Array.isArray(a))return h(!1,"React.addons.createFragment only accepts a single object. Got: %s",a),a;if(e.isValidElement(a))return h(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),a;1===a.nodeType?g(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components."):void 0;var b=[];for(var c in a)!j&&i.test(c)&&(h(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),j=!0),d.mapIntoWithKeyPrefixInternal(a[c],b,c,f.thatReturnsArgument);return b}};b.exports=k},{153:153,161:161,173:173,32:32,57:57}],65:[function(a,b,c){"use strict";var d=a(10),e=a(16),f=a(36),g=a(33),h=a(59),i=a(28),j=a(75),k=a(78),l=a(86),m=a(96),n={Component:f.injection,Class:g.injection,DOMProperty:d.injection,EmptyComponent:h.injection,EventPluginHub:e.injection,EventEmitter:i.injection,NativeComponent:j.injection,Perf:k.injection,RootIndex:l.injection,Updates:m.injection};b.exports=n},{10:10,16:16,28:28,33:33,36:36,59:59,75:75,78:78,86:86,96:96}],66:[function(a,b,c){"use strict";function d(a){return f(document.documentElement,a)}var e=a(49),f=a(150),g=a(155),h=a(156),i={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},getSelectionInformation:function(){var a=h();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){var b=h(),c=a.focusedElem,e=a.selectionRange;b!==c&&d(c)&&(i.hasSelectionCapabilities(c)&&i.setSelection(c,e),g(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=e.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;if("undefined"==typeof d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",d-c),f.select()}else e.setOffsets(a,b)}};b.exports=i},{150:150,155:155,156:156,49:49}],67:[function(a,b,c){"use strict";function d(a){return n+a.toString(36)}function e(a,b){return a.charAt(b)===n||b===a.length}function f(a){return""===a||a.charAt(0)===n&&a.charAt(a.length-1)!==n}function g(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function h(a){return a?a.substr(0,a.lastIndexOf(n)):""}function i(a,b){if(f(a)&&f(b)?void 0:m(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",a,b),g(a,b)?void 0:m(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",a,b),a===b)return a;var c,d=a.length+o;for(c=d;c<b.length&&!e(b,c);c++);return b.substr(0,c)}function j(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var d=0,g=0;c>=g;g++)if(e(a,g)&&e(b,g))d=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,d);return f(h)?void 0:m(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",a,b,h),h}function k(a,b,c,d,e,f){a=a||"",b=b||"",a===b?m(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",a):void 0;var j=g(b,a);j||g(a,b)?void 0:m(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",a,b);for(var k=0,l=j?h:i,n=a;;n=l(n,b)){var o;if(e&&n===a||f&&n===b||(o=c(n,j,d)),o===!1||n===b)break;k++<p?void 0:m(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",a,b,n)}}var l=a(86),m=a(161),n=".",o=n.length,p=1e4,q={createReactRootID:function(){return d(l.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===n&&a.length>1){var b=a.indexOf(n,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=j(a,b);f!==a&&k(a,f,c,d,!1,!0),f!==b&&k(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(k("",a,b,c,!0,!1),k(a,"",b,c,!1,!0))},traverseTwoPhaseSkipTarget:function(a,b,c){a&&(k("",a,b,c,!0,!0),k(a,"",b,c,!0,!0))},traverseAncestors:function(a,b,c){k("",a,b,c,!0,!1)},getFirstCommonAncestorID:j,_getNextDescendantID:i,isAncestorIDOf:g,SEPARATOR:n};b.exports=q},{161:161,86:86}],68:[function(a,b,c){"use strict";var d={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};b.exports=d},{}],69:[function(a,b,c){"use strict";var d=a(32),e=a(34),f=a(33),g=a(43),h=a(57),i=a(58),j=a(82),k=a(97),l=a(24),m=a(135),n=h.createElement,o=h.createFactory,p=h.cloneElement;n=i.createElement,o=i.createFactory,p=i.cloneElement;var q={Children:{map:d.map,forEach:d.forEach,count:d.count,toArray:d.toArray,only:m},Component:e,createElement:n,cloneElement:p,isValidElement:h.isValidElement,PropTypes:j,createClass:f.createClass,createFactory:o,createMixin:function(a){return a},DOM:g,version:k,__spread:l};b.exports=q},{135:135,24:24,32:32,33:33,34:34,43:43,57:57,58:58,82:82,97:97}],70:[function(a,b,c){"use strict";function d(a,b){this.value=a,this.requestChange=b}function e(a){var b={value:"undefined"==typeof a?f.PropTypes.any.isRequired:a.isRequired,requestChange:f.PropTypes.func.isRequired};return f.PropTypes.shape(b)}var f=a(26);d.PropTypes={link:e},b.exports=d},{26:26}],71:[function(a,b,c){"use strict";var d=a(116),e=/\/?>/,f={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=d(a);return a.replace(e," "+f.CHECKSUM_ATTR_NAME+'="'+b+'"$&')},canReuseMarkup:function(a,b){var c=b.getAttribute(f.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var e=d(a);return e===c}};b.exports=f},{116:116}],72:[function(a,b,c){"use strict";function d(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function e(a){return a?a.nodeType===T?a.documentElement:a.firstChild:null}function f(a){var b=e(a);return b&&aa.getID(b)}function g(a){var b=h(a);if(b)if(R.hasOwnProperty(b)){var c=R[b];c!==a&&(l(c,b)?L(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",Q,b):void 0,R[b]=a)}else R[b]=a;return b}function h(a){return a&&a.getAttribute&&a.getAttribute(Q)||""}function i(a,b){var c=h(a);c!==b&&delete R[c],a.setAttribute(Q,b),R[b]=a}function j(a){return R.hasOwnProperty(a)&&l(R[a],a)||(R[a]=aa.findReactNodeByID(a)),R[a]}function k(a){var b=B.get(a)._rootNodeID;return z.isNullComponentID(b)?null:(R.hasOwnProperty(b)&&l(R[b],b)||(R[b]=aa.findReactNodeByID(b)),R[b])}function l(a,b){if(a){h(a)!==b?L(!1,"ReactMount: Unexpected modification of `%s`",Q):void 0;var c=aa.findReactContainerForID(b);if(c&&J(c,a))return!0}return!1}function m(a){delete R[a]}function n(a){var b=R[a];return b&&l(b,a)?void($=b):!1}function o(a){$=null,A.traverseAncestors(a,n);var b=$;return $=null,b}function p(a,b,c,d,e,f){x.useCreateElement&&(f=H({},f),c.nodeType===T?f[V]=c:f[V]=c.ownerDocument),f===I&&(f={});var g=c.nodeName.toLowerCase();f[O.ancestorInfoContextKey]=O.updatedAncestorInfo(null,g,null);var h=E.mountComponent(a,b,d,f);a._renderedComponent._topLevelWrapper=a,aa._mountImageIntoNode(h,c,e,d)}function q(a,b,c,d,e){var f=G.ReactReconcileTransaction.getPooled(d);f.perform(p,null,a,b,c,f,d,e),G.ReactReconcileTransaction.release(f)}function r(a,b){for(E.unmountComponent(a),b.nodeType===T&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)}function s(a){var b=f(a);return b?b!==A.getReactRootIDFromNodeID(b):!1}function t(a){for(;a&&a.parentNode!==a;a=a.parentNode)if(1===a.nodeType){var b=h(a);if(b){var c,d=A.getReactRootIDFromNodeID(b),e=a;do if(c=h(e),e=e.parentNode,null==e)return null;while(c!==d);if(e===X[d])return a}}return null}var u=a(10),v=a(28),w=a(39),x=a(44),y=a(57),z=a(60),A=a(67),B=a(68),C=a(71),D=a(78),E=a(84),F=a(95),G=a(96),H=a(24),I=a(154),J=a(150),K=a(132),L=a(161),M=a(138),N=a(141),O=a(144),P=a(173),Q=u.ID_ATTRIBUTE_NAME,R={},S=1,T=9,U=11,V="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),W={},X={},Y={},Z=[],$=null,_=function(){};_.prototype.isReactComponent={},_.displayName="TopLevelWrapper",_.prototype.render=function(){return this.props};var aa={TopLevelWrapper:_,_instancesByReactRootID:W,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return aa.scrollMonitor(c,function(){F.enqueueElementInternal(a,b),d&&F.enqueueCallbackInternal(a,d)}),Y[f(c)]=e(c),a},_registerComponent:function(a,b){!b||b.nodeType!==S&&b.nodeType!==T&&b.nodeType!==U?L(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,v.ensureScrollValueMonitoring();var c=aa.registerContainer(b);return W[c]=a,c},_renderNewRootComponent:function(a,b,c,d){P(null==w.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",w.current&&w.current.getName()||"ReactCompositeComponent");var f=K(a,null),g=aa._registerComponent(f,b);return G.batchedUpdates(q,f,g,b,c,d),Y[g]=e(b),f},renderSubtreeIntoContainer:function(a,b,c,d){return null==a||null==a._reactInternalInstance?L(!1,"parentComponent must be a valid React Component"):void 0,aa._renderSubtreeIntoContainer(a,b,c,d)},_renderSubtreeIntoContainer:function(a,b,c,d){y.isValidElement(b)?void 0:L(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof b?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof b?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=b&&void 0!==b.props?" This may be caused by unintentionally loading two independent copies of React.":""),P(!c||!c.tagName||"BODY"!==c.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var g=new y(_,null,null,null,null,null,b),i=W[f(c)];if(i){var j=i._currentElement,k=j.props;if(N(k,b)){var l=i._renderedComponent.getPublicInstance(),m=d&&function(){d.call(l)};return aa._updateRootComponent(i,g,c,m),l}aa.unmountComponentAtNode(c)}var n=e(c),o=n&&!!h(n),p=s(c);if(P(!p,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!o||n.nextSibling)for(var q=n;q;){if(h(q)){P(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}q=q.nextSibling}var r=o&&!i&&!p,t=aa._renderNewRootComponent(g,c,r,null!=a?a._reactInternalInstance._processChildContext(a._reactInternalInstance._context):I)._renderedComponent.getPublicInstance();return d&&d.call(t),t},render:function(a,b,c){return aa._renderSubtreeIntoContainer(null,a,b,c)},registerContainer:function(a){var b=f(a);return b&&(b=A.getReactRootIDFromNodeID(b)),b||(b=A.createReactRootID()),X[b]=a,b},unmountComponentAtNode:function(a){P(null==w.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",w.current&&w.current.getName()||"ReactCompositeComponent"),!a||a.nodeType!==S&&a.nodeType!==T&&a.nodeType!==U?L(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var b=f(a),c=W[b];if(!c){var d=s(a),e=h(a),g=e&&e===A.getReactRootIDFromNodeID(e);return P(!d,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",g?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return G.batchedUpdates(r,c,a),delete W[b],delete X[b],delete Y[b],!0},findReactContainerForID:function(a){var b=A.getReactRootIDFromNodeID(a),c=X[b],d=Y[b];if(d&&d.parentNode!==c){P(h(d)===b,"ReactMount: Root element ID differed from reactRootID.");var e=c.firstChild;e&&b===h(e)?Y[b]=e:P(!1,"ReactMount: Root element has been removed from its original container. New container: %s",d.parentNode)}return c},findReactNodeByID:function(a){var b=aa.findReactContainerForID(a);return aa.findComponentRoot(b,a)},getFirstReactDOM:function(a){return t(a)},findComponentRoot:function(a,b){var c=Z,d=0,e=o(b)||a;for(P(null!=e,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",b),c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=aa.getID(g);h?b===h?f=g:A.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,L(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",b,aa.getID(a))},_mountImageIntoNode:function(a,b,c,f){if(!b||b.nodeType!==S&&b.nodeType!==T&&b.nodeType!==U?L(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,c){var g=e(b);if(C.canReuseMarkup(a,g))return;var h=g.getAttribute(C.CHECKSUM_ATTR_NAME);g.removeAttribute(C.CHECKSUM_ATTR_NAME);var i=g.outerHTML;g.setAttribute(C.CHECKSUM_ATTR_NAME,h);var j,k=a;b.nodeType===S?(j=document.createElement("div"),j.innerHTML=a,k=j.innerHTML):(j=document.createElement("iframe"),document.body.appendChild(j),j.contentDocument.write(a),k=j.contentDocument.documentElement.outerHTML,document.body.removeChild(j));var l=d(k,i),m=" (client) "+k.substring(l-20,l+20)+"\n (server) "+i.substring(l-20,l+20);b.nodeType===T?L(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",m):void 0,P(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",m)}if(b.nodeType===T?L(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,f.useCreateElement){for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(a)}else M(b,a)},ownerDocumentContextKey:V,getReactRootID:f,getID:g,setID:i,getNode:j,getNodeFromInstance:k,isValid:l,purgeID:m};D.measureMethods(aa,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),b.exports=aa},{10:10,132:132,138:138,141:141,144:144,150:150,154:154,161:161,173:173,24:24,28:28,39:39,44:44,57:57,60:60,67:67,68:68,71:71,78:78,84:84,95:95,96:96}],73:[function(a,b,c){"use strict";function d(a,b,c){r.push({parentID:a,parentNode:null,type:l.INSERT_MARKUP,markupIndex:s.push(b)-1,content:null,fromIndex:null,toIndex:c})}function e(a,b,c){r.push({parentID:a,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:b,toIndex:c})}function f(a,b){r.push({parentID:a,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,content:null,fromIndex:b,toIndex:null})}function g(a,b){r.push({parentID:a,parentNode:null,type:l.SET_MARKUP,markupIndex:null,content:b,fromIndex:null,toIndex:null})}function h(a,b){r.push({parentID:a,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,content:b,fromIndex:null,toIndex:null})}function i(){r.length&&(k.processChildrenUpdates(r,s),j())}function j(){r.length=0,s.length=0}var k=a(36),l=a(74),m=a(39),n=a(84),o=a(31),p=a(123),q=0,r=[],s=[],t={Mixin:{_reconcilerInstantiateChildren:function(a,b,c){if(this._currentElement)try{return m.current=this._currentElement._owner,o.instantiateChildren(a,b,c)}finally{m.current=null}return o.instantiateChildren(a,b,c)},_reconcilerUpdateChildren:function(a,b,c,d){var e;if(this._currentElement){try{m.current=this._currentElement._owner,e=p(b)}finally{m.current=null}return o.updateChildren(a,e,c,d)}return e=p(b),o.updateChildren(a,e,c,d)},mountChildren:function(a,b,c){var d=this._reconcilerInstantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=n.mountComponent(h,i,b,c);h._mountIndex=f++,e.push(j)}return e},updateTextContent:function(a){q++;var b=!0;try{var c=this._renderedChildren;o.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChild(c[d]);this.setTextContent(a),b=!1}finally{q--,q||(b?j():i())}},updateMarkup:function(a){q++;var b=!0;try{var c=this._renderedChildren;o.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setMarkup(a),b=!1}finally{q--,q||(b?j():i())}},updateChildren:function(a,b,c){q++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{q--,q||(d?j():i())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=this._reconcilerUpdateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChild(i)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChild(d[f])}},unmountChildren:function(){var a=this._renderedChildren;o.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){d(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){f(this._rootNodeID,a._mountIndex)},setTextContent:function(a){h(this._rootNodeID,a)},setMarkup:function(a){g(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=n.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChild:function(a){this.removeChild(a),a._mountIndex=null}}};b.exports=t},{123:123,31:31,36:36,39:39,74:74,84:84}],74:[function(a,b,c){"use strict";var d=a(165),e=d({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});b.exports=e},{165:165}],75:[function(a,b,c){"use strict";function d(a){if("function"==typeof a.type)return a.type;var b=a.type,c=l[b];return null==c&&(l[b]=c=j(b)),c}function e(a){return k?void 0:i(!1,"There is no registered component for the tag %s",a.type),new k(a.type,a.props)}function f(a){return new m(a)}function g(a){return a instanceof m}var h=a(24),i=a(161),j=null,k=null,l={},m=null,n={injectGenericComponentClass:function(a){k=a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){h(l,a)}},o={getComponentClassForElement:d,createInternalComponent:e,createInstanceForText:f,isTextComponent:g,injection:n};b.exports=o},{161:161,24:24}],76:[function(a,b,c){"use strict";function d(a,b){e(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",b,b,a.constructor&&a.constructor.displayName||"")}var e=a(173),f={isMounted:function(a){return!1},enqueueCallback:function(a,b){},enqueueForceUpdate:function(a){d(a,"forceUpdate")},enqueueReplaceState:function(a,b){d(a,"replaceState")},enqueueSetState:function(a,b){d(a,"setState")},enqueueSetProps:function(a,b){d(a,"setProps")},enqueueReplaceProps:function(a,b){d(a,"replaceProps")}};b.exports=f},{173:173}],77:[function(a,b,c){"use strict";var d=a(161),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){e.isValidOwner(c)?void 0:d(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){e.isValidOwner(c)?void 0:d(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),c.getPublicInstance().refs[b]===a.getPublicInstance()&&c.detachRef(b)}};b.exports=e},{161:161}],78:[function(a,b,c){"use strict";function d(a,b,c){return c}var e={enableMeasure:!1,storedMeasure:d,measureMethods:function(a,b,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=e.measure(b,c[d],a[d]))},measure:function(a,b,c){var d=null,f=function(){return e.enableMeasure?(d||(d=e.storedMeasure(a,b,c)),d.apply(this,arguments)):c.apply(this,arguments)};return f.displayName=a+"_"+b,f},injection:{injectMeasure:function(a){e.storedMeasure=a}}};b.exports=e},{}],79:[function(a,b,c){"use strict";function d(a){return function(b,c,d){b.hasOwnProperty(c)?b[c]=a(b[c],d):b[c]=d}}function e(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=j[c];d&&j.hasOwnProperty(c)?d(a,c,b[c]):a.hasOwnProperty(c)||(a[c]=b[c])}return a}var f=a(24),g=a(153),h=a(164),i=d(function(a,b){return f({},b,a)}),j={children:g,className:d(h),style:i},k={mergeProps:function(a,b){return e(f({},a),b)}};b.exports=k},{153:153,164:164,24:24}],80:[function(a,b,c){"use strict";var d={};d={prop:"prop",context:"context",childContext:"child context"},b.exports=d},{}],81:[function(a,b,c){"use strict";var d=a(165),e=d({prop:null,context:null,childContext:null});b.exports=e},{165:165}],82:[function(a,b,c){"use strict";function d(a){function b(b,c,d,e,f,g){if(e=e||w,g=g||d,null==c[d]){var h=t[f];return b?new Error("Required "+h+" `"+g+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f,g)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function e(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if(h!==a){var i=t[e],j=q(g);return new Error("Invalid "+i+" `"+f+"` of type "+("`"+j+"` supplied to `"+d+"`, expected ")+("`"+a+"`."))}return null}return d(b)}function f(){return d(u.thatReturns(null))}function g(a){function b(b,c,d,e,f){var g=b[c];if(!Array.isArray(g)){var h=t[e],i=p(g);return new Error("Invalid "+h+" `"+f+"` of type "+("`"+i+"` supplied to `"+d+"`, expected an array."))}for(var j=0;j<g.length;j++){var k=a(g,j,d,e,f+"["+j+"]");if(k instanceof Error)return k}return null}return d(b)}function h(){function a(a,b,c,d,e){if(!s.isValidElement(a[b])){var f=t[d];return new Error("Invalid "+f+" `"+e+"` supplied to "+("`"+c+"`, expected a single ReactElement."))}return null}return d(a)}function i(a){function b(b,c,d,e,f){if(!(b[c]instanceof a)){var g=t[e],h=a.name||w,i=r(b[c]);return new Error("Invalid "+g+" `"+f+"` of type "+("`"+i+"` supplied to `"+d+"`, expected ")+("instance of `"+h+"`."))}return null}return d(b)}function j(a){function b(b,c,d,e,f){for(var g=b[c],h=0;h<a.length;h++)if(g===a[h])return null;var i=t[e],j=JSON.stringify(a);return new Error("Invalid "+i+" `"+f+"` of value `"+g+"` "+("supplied to `"+d+"`, expected one of "+j+"."))}return d(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function k(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if("object"!==h){var i=t[e];return new Error("Invalid "+i+" `"+f+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an object."))}for(var j in g)if(g.hasOwnProperty(j)){var k=a(g,j,d,e,f+"."+j);if(k instanceof Error)return k}return null}return d(b)}function l(a){function b(b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g];if(null==h(b,c,d,e,f))return null}var i=t[e];return new Error("Invalid "+i+" `"+f+"` supplied to "+("`"+d+"`."))}return d(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function m(){function a(a,b,c,d,e){if(!o(a[b])){var f=t[d];return new Error("Invalid "+f+" `"+e+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return d(a)}function n(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if("object"!==h){var i=t[e];return new Error("Invalid "+i+" `"+f+"` of type `"+h+"` "+("supplied to `"+d+"`, expected `object`."))}for(var j in a){var k=a[j];if(k){var l=k(g,j,d,e,f+"."+j);if(l)return l}}return null}return d(b)}function o(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(o);if(null===a||s.isValidElement(a))return!0;var b=v(a);if(!b)return!1;var c,d=b.call(a);if(b!==a.entries){for(;!(c=d.next()).done;)if(!o(c.value))return!1}else for(;!(c=d.next()).done;){var e=c.value;if(e&&!o(e[1]))return!1}return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function q(a){var b=p(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function r(a){return a.constructor&&a.constructor.name?a.constructor.name:"<<anonymous>>"}var s=a(57),t=a(80),u=a(153),v=a(129),w="<<anonymous>>",x={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:f(),arrayOf:g,element:h(),instanceOf:i,node:m(),objectOf:k,oneOf:j,oneOfType:l,shape:n};b.exports=x},{129:129,153:153,57:57,80:80}],83:[function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.useCreateElement=!a&&h.useCreateElement}var e=a(6),f=a(25),g=a(28),h=a(44),i=a(66),j=a(113),k=a(24),l={initialize:i.getSelectionInformation,close:i.restoreSelection},m={initialize:function(){var a=g.isEnabled();return g.setEnabled(!1),a},close:function(a){g.setEnabled(a)}},n={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},o=[l,m,n],p={getTransactionWrappers:function(){return o},getReactMountReady:function(){return this.reactMountReady},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null}};k(d.prototype,j.Mixin,p),f.addPoolingTo(d),b.exports=d},{113:113,24:24,25:25,28:28,44:44,6:6,66:66}],84:[function(a,b,c){"use strict";function d(){e.attachRefs(this,this._currentElement)}var e=a(85),f={mountComponent:function(a,b,c,e){var f=a.mountComponent(b,c,e);return a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(d,a),f},unmountComponent:function(a){e.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,c,f){var g=a._currentElement;if(b!==g||f!==a._context){var h=e.shouldUpdateRefs(g,b);h&&e.detachRefs(a,g),a.receiveComponent(b,c,f),h&&a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(d,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}};b.exports=f},{85:85}],85:[function(a,b,c){"use strict";function d(a,b,c){"function"==typeof a?a(b.getPublicInstance()):f.addComponentAsRefTo(b,a,c)}function e(a,b,c){"function"==typeof a?a(null):f.removeComponentAsRefFrom(b,a,c)}var f=a(77),g={};g.attachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&d(c,a,b._owner)}},g.shouldUpdateRefs=function(a,b){var c=null===a||a===!1,d=null===b||b===!1;return c||d||b._owner!==a._owner||b.ref!==a.ref},g.detachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&e(c,a,b._owner)}},b.exports=g},{77:77}],86:[function(a,b,c){"use strict";var d={injectCreateReactRootIndex:function(a){e.createReactRootIndex=a}},e={createReactRootIndex:null,injection:d};b.exports=e},{}],87:[function(a,b,c){"use strict";var d={isBatchingUpdates:!1,batchedUpdates:function(a){}};b.exports=d},{}],88:[function(a,b,c){"use strict";function d(a){g.isValidElement(a)?void 0:o(!1,"renderToString(): You must pass a valid ReactElement.");var b;try{l.injection.injectBatchingStrategy(j);var c=h.createReactRootID();return b=k.getPooled(!1),b.perform(function(){var d=n(a,null),e=d.mountComponent(c,b,m);return i.addChecksumToMarkup(e)},null)}finally{k.release(b),l.injection.injectBatchingStrategy(f)}}function e(a){g.isValidElement(a)?void 0:o(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var b;try{l.injection.injectBatchingStrategy(j);var c=h.createReactRootID();return b=k.getPooled(!0),b.perform(function(){var d=n(a,null);return d.mountComponent(c,b,m)},null)}finally{k.release(b),l.injection.injectBatchingStrategy(f)}}var f=a(53),g=a(57),h=a(67),i=a(71),j=a(87),k=a(89),l=a(96),m=a(154),n=a(132),o=a(161);
b.exports={renderToString:d,renderToStaticMarkup:e}},{132:132,154:154,161:161,53:53,57:57,67:67,71:71,87:87,89:89,96:96}],89:[function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=f.getPooled(null),this.useCreateElement=!1}var e=a(25),f=a(6),g=a(113),h=a(24),i=a(153),j={initialize:function(){this.reactMountReady.reset()},close:i},k=[j],l={getTransactionWrappers:function(){return k},getReactMountReady:function(){return this.reactMountReady},destructor:function(){f.release(this.reactMountReady),this.reactMountReady=null}};h(d.prototype,g.Mixin,l),e.addPoolingTo(d),b.exports=d},{113:113,153:153,24:24,25:25,6:6}],90:[function(a,b,c){"use strict";function d(a,b){var c={};return function(d){c[b]=d,a.setState(c)}}var e={createStateSetter:function(a,b){return function(c,d,e,f,g,h){var i=b.call(a,c,d,e,f,g,h);i&&a.setState(i)}},createStateKeySetter:function(a,b){var c=a.__keySetters||(a.__keySetters={});return c[b]||(c[b]=d(a,b))}};e.Mixin={createStateSetter:function(a){return e.createStateSetter(this,a)},createStateKeySetter:function(a){return e.createStateKeySetter(this,a)}},b.exports=e},{}],91:[function(a,b,c){"use strict";function d(a){}function e(a,b){if(!a||!a.getPublicInstance)return[];var c=a.getPublicInstance(),d=b(c)?[c]:[],f=a._currentElement;if(A.isDOMComponent(c)){var g,h=a._renderedChildren;for(g in h)h.hasOwnProperty(g)&&(d=d.concat(e(h[g],b)))}else n.isValidElement(f)&&"function"==typeof f.type&&(d=d.concat(e(a._renderedComponent,b)));return d}function f(a){return function(b,c){var e;A.isDOMComponent(b)?e=x(b):b.tagName&&(e=b);var f=o.eventNameDispatchConfigs[a],g=new d;g.target=e;var h=new u(f,s.getID(e),g,e);v(h,c),f.phasedRegistrationNames?k.accumulateTwoPhaseDispatches(h):k.accumulateDirectDispatches(h),t.batchedUpdates(function(){j.enqueueEvents(h),j.processEventQueue(!0)})}}function g(){A.Simulate={};var a;for(a in o.eventNameDispatchConfigs)A.Simulate[a]=f(a)}function h(a){return function(b,c){var e=new d(a);v(e,c),A.isDOMComponent(b)?A.simulateNativeEventOnDOMComponent(a,b,e):b.tagName&&A.simulateNativeEventOnNode(a,b,e)}}var i=a(15),j=a(16),k=a(19),l=a(26),m=a(40),n=a(57),o=a(28),p=a(38),q=a(67),r=a(68),s=a(72),t=a(96),u=a(105),v=a(24),w=a(154),x=a(122),y=a(161),z=i.topLevelTypes,A={renderIntoDocument:function(a){var b=document.createElement("div");return m.render(a,b)},isElement:function(a){return n.isValidElement(a)},isElementOfType:function(a,b){return n.isValidElement(a)&&a.type===b},isDOMComponent:function(a){return!(!a||1!==a.nodeType||!a.tagName)},isDOMComponentElement:function(a){return!!(a&&n.isValidElement(a)&&a.tagName)},isCompositeComponent:function(a){return A.isDOMComponent(a)?!1:null!=a&&"function"==typeof a.render&&"function"==typeof a.setState},isCompositeComponentWithType:function(a,b){if(!A.isCompositeComponent(a))return!1;var c=r.get(a),d=c._currentElement.type;return d===b},isCompositeComponentElement:function(a){if(!n.isValidElement(a))return!1;var b=a.type.prototype;return"function"==typeof b.render&&"function"==typeof b.setState},isCompositeComponentElementWithType:function(a,b){var c=r.get(a),d=c._currentElement.type;return!(!A.isCompositeComponentElement(a)||d!==b)},getRenderedChildOfCompositeComponent:function(a){if(!A.isCompositeComponent(a))return null;var b=r.get(a);return b._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(a,b){return a?(A.isCompositeComponent(a)?void 0:y(!1,"findAllInRenderedTree(...): instance must be a composite component"),e(r.get(a),b)):[]},scryRenderedDOMComponentsWithClass:function(a,b){return Array.isArray(b)||(b=b.split(/\s+/)),A.findAllInRenderedTree(a,function(a){if(A.isDOMComponent(a)){var c=a.className;"string"!=typeof c&&(c=a.getAttribute("class")||"");var d=c.split(/\s+/);return b.every(function(a){return-1!==d.indexOf(a)})}return!1})},findRenderedDOMComponentWithClass:function(a,b){var c=A.scryRenderedDOMComponentsWithClass(a,b);if(1!==c.length)throw new Error("Did not find exactly one match (found: "+c.length+") for class:"+b);return c[0]},scryRenderedDOMComponentsWithTag:function(a,b){return A.findAllInRenderedTree(a,function(a){return A.isDOMComponent(a)&&a.tagName.toUpperCase()===b.toUpperCase()})},findRenderedDOMComponentWithTag:function(a,b){var c=A.scryRenderedDOMComponentsWithTag(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for tag:"+b);return c[0]},scryRenderedComponentsWithType:function(a,b){return A.findAllInRenderedTree(a,function(a){return A.isCompositeComponentWithType(a,b)})},findRenderedComponentWithType:function(a,b){var c=A.scryRenderedComponentsWithType(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for componentType:"+b+" (found "+c.length+")");return c[0]},mockComponent:function(a,b){return b=b||a.mockTagName||"div",a.prototype.render.mockImplementation(function(){return l.createElement(b,null,this.props.children)}),this},simulateNativeEventOnNode:function(a,b,c){c.target=b,o.ReactEventListener.dispatchEvent(a,c)},simulateNativeEventOnDOMComponent:function(a,b,c){A.simulateNativeEventOnNode(a,x(b),c)},nativeTouchData:function(a,b){return{touches:[{pageX:a,pageY:b}]}},createRenderer:function(){return new B},Simulate:null,SimulateNative:{}},B=function(){this._instance=null};B.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var C=function(a){this._renderedOutput=a,this._currentElement=a};C.prototype={mountComponent:function(){},receiveComponent:function(a){this._renderedOutput=a,this._currentElement=a},unmountComponent:function(){},getPublicInstance:function(){return null}};var D=function(){};v(D.prototype,p.Mixin,{_instantiateReactComponent:function(a){return new C(a)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:p.Mixin._renderValidatedComponentWithoutOwnerOrContext}),B.prototype.render=function(a,b){n.isValidElement(a)?void 0:y(!1,"ReactShallowRenderer render(): Invalid component element.%s","function"==typeof a?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),"string"==typeof a.type?y(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",a.type):void 0,b||(b=w);var c=t.ReactReconcileTransaction.getPooled(!1);this._render(a,c,b),t.ReactReconcileTransaction.release(c)},B.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},B.prototype._render=function(a,b,c){if(this._instance)this._instance.receiveComponent(a,b,c);else{var d=q.createReactRootID(),e=new D(a.type);e.construct(a),e.mountComponent(d,b,c),this._instance=e}};var E=j.injection.injectEventPluginOrder;j.injection.injectEventPluginOrder=function(){E.apply(this,arguments),g()};var F=j.injection.injectEventPluginsByName;j.injection.injectEventPluginsByName=function(){F.apply(this,arguments),g()},g(),Object.keys(z).forEach(function(a){var b=0===a.indexOf("top")?a.charAt(3).toLowerCase()+a.substr(4):a;A.SimulateNative[b]=h(a)}),b.exports=A},{105:105,122:122,15:15,154:154,16:16,161:161,19:19,24:24,26:26,28:28,38:38,40:40,57:57,67:67,68:68,72:72,96:96}],92:[function(a,b,c){"use strict";var d=a(123),e={getChildMapping:function(a){return a?d(a):a},mergeChildMappings:function(a,b){function c(c){return b.hasOwnProperty(c)?b[c]:a[c]}a=a||{},b=b||{};var d={},e=[];for(var f in a)b.hasOwnProperty(f)?e.length&&(d[f]=e,e=[]):e.push(f);var g,h={};for(var i in b){if(d.hasOwnProperty(i))for(g=0;g<d[i].length;g++){var j=d[i][g];h[d[i][g]]=c(j)}h[i]=c(i)}for(g=0;g<e.length;g++)h[e[g]]=c(e[g]);return h}};b.exports=e},{123:123}],93:[function(a,b,c){"use strict";function d(){var a=document.createElement("div"),b=a.style;"AnimationEvent"in window||delete h.animationend.animation,"TransitionEvent"in window||delete h.transitionend.transition;for(var c in h){var d=h[c];for(var e in d)if(e in b){i.push(d[e]);break}}}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}var g=a(147),h={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[];g.canUseDOM&&d();var j={addEndEventListener:function(a,b){return 0===i.length?void window.setTimeout(b,0):void i.forEach(function(c){e(a,c,b)})},removeEndEventListener:function(a,b){0!==i.length&&i.forEach(function(c){f(a,c,b)})}};b.exports=j},{147:147}],94:[function(a,b,c){"use strict";var d=a(26),e=a(92),f=a(24),g=a(153),h=d.createClass({displayName:"ReactTransitionGroup",propTypes:{component:d.PropTypes.any,childFactory:d.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:g.thatReturnsArgument}},getInitialState:function(){return{children:e.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var a=this.state.children;for(var b in a)a[b]&&this.performAppear(b)},componentWillReceiveProps:function(a){var b=e.getChildMapping(a.children),c=this.state.children;this.setState({children:e.mergeChildMappings(c,b)});var d;for(d in b){var f=c&&c.hasOwnProperty(d);!b[d]||f||this.currentlyTransitioningKeys[d]||this.keysToEnter.push(d)}for(d in c){var g=b&&b.hasOwnProperty(d);!c[d]||g||this.currentlyTransitioningKeys[d]||this.keysToLeave.push(d)}},componentDidUpdate:function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var b=this.keysToLeave;this.keysToLeave=[],b.forEach(this.performLeave)},performAppear:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillAppear?b.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},_handleDoneAppearing:function(a){var b=this.refs[a];b.componentDidAppear&&b.componentDidAppear(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performEnter:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillEnter?b.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},_handleDoneEntering:function(a){var b=this.refs[a];b.componentDidEnter&&b.componentDidEnter(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performLeave:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillLeave?b.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)},_handleDoneLeaving:function(a){var b=this.refs[a];b.componentDidLeave&&b.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)?this.performEnter(a):this.setState(function(b){var c=f({},b.children);return delete c[a],{children:c}})},render:function(){var a=[];for(var b in this.state.children){var c=this.state.children[b];c&&a.push(d.cloneElement(this.props.childFactory(c),{ref:b,key:b}))}return d.createElement(this.props.component,this.props,a)}});b.exports=h},{153:153,24:24,26:26,92:92}],95:[function(a,b,c){"use strict";function d(a){i.enqueueUpdate(a)}function e(a,b){var c=h.get(a);return c?(l(null==f.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",b),c):(l(!b,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",b,b,a.constructor.displayName),null)}var f=a(39),g=a(57),h=a(68),i=a(96),j=a(24),k=a(161),l=a(173),m={isMounted:function(a){var b=f.current;null!==b&&(l(b._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",b.getName()||"A component"),b._warnedAboutRefsInRender=!0);var c=h.get(a);return c?!!c._renderedComponent:!1},enqueueCallback:function(a,b){"function"!=typeof b?k(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0;var c=e(a);return c?(c._pendingCallbacks?c._pendingCallbacks.push(b):c._pendingCallbacks=[b],void d(c)):null},enqueueCallbackInternal:function(a,b){"function"!=typeof b?k(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0,a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],d(a)},enqueueForceUpdate:function(a){var b=e(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,d(b))},enqueueReplaceState:function(a,b){var c=e(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,d(c))},enqueueSetState:function(a,b){var c=e(a,"setState");if(c){var f=c._pendingStateQueue||(c._pendingStateQueue=[]);f.push(b),d(c)}},enqueueSetProps:function(a,b){var c=e(a,"setProps");c&&m.enqueueSetPropsInternal(c,b)},enqueueSetPropsInternal:function(a,b){var c=a._topLevelWrapper;c?void 0:k(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var e=c._pendingElement||c._currentElement,f=e.props,h=j({},f.props,b);c._pendingElement=g.cloneAndReplaceProps(e,g.cloneAndReplaceProps(f,h)),d(c)},enqueueReplaceProps:function(a,b){var c=e(a,"replaceProps");c&&m.enqueueReplacePropsInternal(c,b)},enqueueReplacePropsInternal:function(a,b){var c=a._topLevelWrapper;c?void 0:k(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var e=c._pendingElement||c._currentElement,f=e.props;c._pendingElement=g.cloneAndReplaceProps(e,g.cloneAndReplaceProps(f,b)),d(c)},enqueueElementInternal:function(a,b){a._pendingElement=b,d(a)}};b.exports=m},{161:161,173:173,24:24,39:39,57:57,68:68,96:96}],96:[function(a,b,c){"use strict";function d(){A.ReactReconcileTransaction&&u?void 0:q(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=k.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!1)}function f(a,b,c,e,f,g){d(),u.batchedUpdates(a,b,c,e,f,g)}function g(a,b){return a._mountOrder-b._mountOrder}function h(a){var b=a.dirtyComponentsLength;b!==r.length?q(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",b,r.length):void 0,r.sort(g);for(var c=0;b>c;c++){var d=r[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,n.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var f=0;f<e.length;f++)a.callbackQueue.enqueue(e[f],d.getPublicInstance())}}function i(a){return d(),u.isBatchingUpdates?void r.push(a):void u.batchedUpdates(i,a)}function j(a,b){u.isBatchingUpdates?void 0:q(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),s.enqueue(a,b),t=!0}var k=a(6),l=a(25),m=a(78),n=a(84),o=a(113),p=a(24),q=a(161),r=[],s=k.getPooled(),t=!1,u=null,v={initialize:function(){this.dirtyComponentsLength=r.length},close:function(){this.dirtyComponentsLength!==r.length?(r.splice(0,this.dirtyComponentsLength),y()):r.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[v,w];p(e.prototype,o.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,k.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return o.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),l.addPoolingTo(e);var y=function(){for(;r.length||t;){if(r.length){var a=e.getPooled();a.perform(h,null,a),e.release(a)}if(t){t=!1;var b=s;s=k.getPooled(),b.notifyAll(),k.release(b)}}};y=m.measure("ReactUpdates","flushBatchedUpdates",y);var z={injectReconcileTransaction:function(a){a?void 0:q(!1,"ReactUpdates: must provide a reconcile transaction class"),A.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){a?void 0:q(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof a.batchedUpdates?q(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof a.isBatchingUpdates?q(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,u=a}},A={ReactReconcileTransaction:null,batchedUpdates:f,enqueueUpdate:i,flushBatchedUpdates:y,injection:z,asap:j};b.exports=A},{113:113,161:161,24:24,25:25,6:6,78:78,84:84}],97:[function(a,b,c){"use strict";b.exports="0.14.6"},{}],98:[function(a,b,c){"use strict";var d=a(10),e=d.injection.MUST_USE_ATTRIBUTE,f={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},g={Properties:{clipPath:e,cx:e,cy:e,d:e,dx:e,dy:e,fill:e,fillOpacity:e,fontFamily:e,fontSize:e,fx:e,fy:e,gradientTransform:e,gradientUnits:e,markerEnd:e,markerMid:e,markerStart:e,offset:e,opacity:e,patternContentUnits:e,patternUnits:e,points:e,preserveAspectRatio:e,r:e,rx:e,ry:e,spreadMethod:e,stopColor:e,stopOpacity:e,stroke:e,strokeDasharray:e,strokeLinecap:e,strokeOpacity:e,strokeWidth:e,textAnchor:e,transform:e,version:e,viewBox:e,x1:e,x2:e,x:e,xlinkActuate:e,xlinkArcrole:e,xlinkHref:e,xlinkRole:e,xlinkShow:e,xlinkTitle:e,xlinkType:e,xmlBase:e,xmlLang:e,xmlSpace:e,y1:e,y2:e,y:e},DOMAttributeNamespaces:{xlinkActuate:f.xlink,xlinkArcrole:f.xlink,xlinkHref:f.xlink,xlinkRole:f.xlink,xlinkShow:f.xlink,xlinkTitle:f.xlink,xlinkType:f.xlink,xmlBase:f.xml,xmlLang:f.xml,xmlSpace:f.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};b.exports=g},{10:10}],99:[function(a,b,c){"use strict";function d(a){if("selectionStart"in a&&i.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function e(a,b){if(u||null==r||r!==k())return null;var c=d(r);if(!t||!n(t,c)){t=c;var e=j.getPooled(q.select,s,a,b);return e.type="select",e.target=r,g.accumulateTwoPhaseDispatches(e),e}return null}var f=a(15),g=a(19),h=a(147),i=a(66),j=a(105),k=a(156),l=a(134),m=a(166),n=a(171),o=f.topLevelTypes,p=h.canUseDOM&&"documentMode"in document&&document.documentMode<=11,q={select:{phasedRegistrationNames:{bubbled:m({onSelect:null}),captured:m({onSelectCapture:null})},dependencies:[o.topBlur,o.topContextMenu,o.topFocus,o.topKeyDown,o.topMouseDown,o.topMouseUp,o.topSelectionChange]}},r=null,s=null,t=null,u=!1,v=!1,w=m({onSelect:null}),x={eventTypes:q,extractEvents:function(a,b,c,d,f){if(!v)return null;switch(a){case o.topFocus:(l(b)||"true"===b.contentEditable)&&(r=b,s=c,t=null);break;case o.topBlur:r=null,s=null,t=null;break;case o.topMouseDown:u=!0;break;case o.topContextMenu:case o.topMouseUp:return u=!1,e(d,f);case o.topSelectionChange:if(p)break;case o.topKeyDown:case o.topKeyUp:return e(d,f)}return null},didPutListener:function(a,b,c){b===w&&(v=!0)}};b.exports=x},{105:105,134:134,147:147,15:15,156:156,166:166,171:171,19:19,66:66}],100:[function(a,b,c){"use strict";var d=Math.pow(2,53),e={createReactRootIndex:function(){return Math.ceil(Math.random()*d)}};b.exports=e},{}],101:[function(a,b,c){"use strict";var d=a(15),e=a(146),f=a(19),g=a(72),h=a(102),i=a(105),j=a(106),k=a(108),l=a(109),m=a(104),n=a(110),o=a(111),p=a(112),q=a(153),r=a(125),s=a(161),t=a(166),u=d.topLevelTypes,v={abort:{phasedRegistrationNames:{bubbled:t({onAbort:!0}),captured:t({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:t({onBlur:!0}),captured:t({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:t({onCanPlay:!0}),captured:t({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:t({onCanPlayThrough:!0}),captured:t({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:t({onClick:!0}),captured:t({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:t({onContextMenu:!0}),captured:t({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:t({onCopy:!0}),captured:t({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:t({onCut:!0}),captured:t({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:t({onDoubleClick:!0}),captured:t({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:t({onDrag:!0}),captured:t({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:t({onDragEnd:!0}),captured:t({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:t({onDragEnter:!0}),captured:t({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:t({onDragExit:!0}),captured:t({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:t({onDragLeave:!0}),captured:t({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:t({onDragOver:!0}),captured:t({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:t({onDragStart:!0}),captured:t({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:t({onDrop:!0}),captured:t({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:t({onDurationChange:!0}),captured:t({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:t({onEmptied:!0}),captured:t({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:t({onEncrypted:!0}),captured:t({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:t({onEnded:!0}),captured:t({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:t({onError:!0}),captured:t({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:t({onFocus:!0}),captured:t({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:t({onInput:!0}),captured:t({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:t({onKeyDown:!0}),captured:t({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:t({onKeyPress:!0}),captured:t({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:t({onKeyUp:!0}),captured:t({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:t({onLoad:!0}),captured:t({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:t({onLoadedData:!0}),captured:t({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:t({onLoadedMetadata:!0}),captured:t({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:t({onLoadStart:!0}),captured:t({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:t({onMouseDown:!0}),captured:t({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:t({onMouseMove:!0}),captured:t({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:t({onMouseOut:!0}),captured:t({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:t({onMouseOver:!0}),captured:t({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:t({onMouseUp:!0}),captured:t({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:t({onPaste:!0}),captured:t({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:t({onPause:!0}),captured:t({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:t({onPlay:!0}),captured:t({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:t({onPlaying:!0}),captured:t({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:t({onProgress:!0}),captured:t({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:t({onRateChange:!0}),captured:t({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:t({onReset:!0}),captured:t({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:t({onScroll:!0}),captured:t({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:t({onSeeked:!0}),captured:t({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:t({onSeeking:!0}),captured:t({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:t({onStalled:!0}),captured:t({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:t({onSubmit:!0}),captured:t({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:t({onSuspend:!0}),captured:t({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:t({onTimeUpdate:!0}),captured:t({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:t({onTouchCancel:!0}),captured:t({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:t({onTouchEnd:!0}),captured:t({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:t({onTouchMove:!0}),captured:t({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:t({onTouchStart:!0}),captured:t({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:t({onVolumeChange:!0}),captured:t({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:t({onWaiting:!0}),captured:t({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:t({onWheel:!0}),captured:t({onWheelCapture:!0})}}},w={topAbort:v.abort,topBlur:v.blur,topCanPlay:v.canPlay,topCanPlayThrough:v.canPlayThrough,topClick:v.click,topContextMenu:v.contextMenu,topCopy:v.copy,topCut:v.cut,topDoubleClick:v.doubleClick,topDrag:v.drag,topDragEnd:v.dragEnd,topDragEnter:v.dragEnter,topDragExit:v.dragExit,topDragLeave:v.dragLeave,topDragOver:v.dragOver,topDragStart:v.dragStart,topDrop:v.drop,topDurationChange:v.durationChange,topEmptied:v.emptied,topEncrypted:v.encrypted,topEnded:v.ended,topError:v.error,topFocus:v.focus,topInput:v.input,topKeyDown:v.keyDown,topKeyPress:v.keyPress,topKeyUp:v.keyUp,topLoad:v.load,topLoadedData:v.loadedData,topLoadedMetadata:v.loadedMetadata,topLoadStart:v.loadStart,topMouseDown:v.mouseDown,topMouseMove:v.mouseMove,topMouseOut:v.mouseOut,topMouseOver:v.mouseOver,topMouseUp:v.mouseUp,topPaste:v.paste,topPause:v.pause,topPlay:v.play,topPlaying:v.playing,topProgress:v.progress,topRateChange:v.rateChange,topReset:v.reset,topScroll:v.scroll,topSeeked:v.seeked,topSeeking:v.seeking,topStalled:v.stalled,topSubmit:v.submit,topSuspend:v.suspend,topTimeUpdate:v.timeUpdate,topTouchCancel:v.touchCancel,topTouchEnd:v.touchEnd,topTouchMove:v.touchMove,topTouchStart:v.touchStart,topVolumeChange:v.volumeChange,topWaiting:v.waiting,topWheel:v.wheel};for(var x in w)w[x].dependencies=[x];var y=t({onClick:null}),z={},A={eventTypes:v,extractEvents:function(a,b,c,d,e){var g=w[a];if(!g)return null;var q;switch(a){case u.topAbort:case u.topCanPlay:case u.topCanPlayThrough:case u.topDurationChange:case u.topEmptied:case u.topEncrypted:case u.topEnded:case u.topError:case u.topInput:case u.topLoad:case u.topLoadedData:case u.topLoadedMetadata:case u.topLoadStart:case u.topPause:case u.topPlay:case u.topPlaying:case u.topProgress:case u.topRateChange:case u.topReset:case u.topSeeked:case u.topSeeking:case u.topStalled:case u.topSubmit:case u.topSuspend:case u.topTimeUpdate:case u.topVolumeChange:case u.topWaiting:q=i;break;case u.topKeyPress:if(0===r(d))return null;case u.topKeyDown:case u.topKeyUp:q=k;break;case u.topBlur:case u.topFocus:q=j;break;case u.topClick:if(2===d.button)return null;case u.topContextMenu:case u.topDoubleClick:case u.topMouseDown:case u.topMouseMove:case u.topMouseOut:case u.topMouseOver:case u.topMouseUp:q=l;break;case u.topDrag:case u.topDragEnd:case u.topDragEnter:case u.topDragExit:case u.topDragLeave:case u.topDragOver:case u.topDragStart:case u.topDrop:q=m;break;case u.topTouchCancel:case u.topTouchEnd:case u.topTouchMove:case u.topTouchStart:q=n;break;case u.topScroll:q=o;break;case u.topWheel:q=p;break;case u.topCopy:case u.topCut:case u.topPaste:q=h}q?void 0:s(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",a);var t=q.getPooled(g,c,d,e);return f.accumulateTwoPhaseDispatches(t),t},didPutListener:function(a,b,c){if(b===y){var d=g.getNode(a);z[a]||(z[a]=e.listen(d,"click",q))}},willDeleteListener:function(a,b){b===y&&(z[a].remove(),delete z[a])}};b.exports=A},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,125:125,146:146,15:15,153:153,161:161,166:166,19:19,72:72}],102:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(105),f={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};e.augmentClass(d,f),b.exports=d},{105:105}],103:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(105),f={data:null};e.augmentClass(d,f),b.exports=d},{105:105}],104:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(109),f={dataTransfer:null};e.augmentClass(d,f),b.exports=d},{109:109}],105:[function(a,b,c){"use strict";function d(a,b,c,d){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c,this.target=d,this.currentTarget=d;var e=this.constructor.Interface;for(var f in e)if(e.hasOwnProperty(f)){var h=e[f];h?this[f]=h(c):this[f]=c[f]}var i=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;i?this.isDefaultPrevented=g.thatReturnsTrue:this.isDefaultPrevented=g.thatReturnsFalse,this.isPropagationStopped=g.thatReturnsFalse}var e=a(25),f=a(24),g=a(153),h=a(173),i={type:null,currentTarget:g.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;h(a,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=g.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;h(a,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,
this.isPropagationStopped=g.thatReturnsTrue)},persist:function(){this.isPersistent=g.thatReturnsTrue},isPersistent:g.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),d.Interface=i,d.augmentClass=function(a,b){var c=this,d=Object.create(c.prototype);f(d,a.prototype),a.prototype=d,a.prototype.constructor=a,a.Interface=f({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.fourArgumentPooler)},e.addPoolingTo(d,e.fourArgumentPooler),b.exports=d},{153:153,173:173,24:24,25:25}],106:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(111),f={relatedTarget:null};e.augmentClass(d,f),b.exports=d},{111:111}],107:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(105),f={data:null};e.augmentClass(d,f),b.exports=d},{105:105}],108:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(111),f=a(125),g=a(126),h=a(127),i={key:g,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:h,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};e.augmentClass(d,i),b.exports=d},{111:111,125:125,126:126,127:127}],109:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(111),f=a(114),g=a(127),h={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:g,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.currentScrollTop}};e.augmentClass(d,h),b.exports=d},{111:111,114:114,127:127}],110:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(111),f=a(127),g={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f};e.augmentClass(d,g),b.exports=d},{111:111,127:127}],111:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(105),f=a(128),g={view:function(a){if(a.view)return a.view;var b=f(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};e.augmentClass(d,g),b.exports=d},{105:105,128:128}],112:[function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a(109),f={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};e.augmentClass(d,f),b.exports=d},{109:109}],113:[function(a,b,c){"use strict";var d=a(161),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,c,e,f,g,h,i){this.isInTransaction()?d(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,c,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=f.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===f.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(e){}}}},closeAll:function(a){this.isInTransaction()?void 0:d(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var b=this.transactionWrappers,c=a;c<b.length;c++){var e,g=b[c],h=this.wrapperInitData[c];try{e=!0,h!==f.OBSERVED_ERROR&&g.close&&g.close.call(this,h),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(i){}}}this.wrapperInitData.length=0}},f={Mixin:e,OBSERVED_ERROR:{}};b.exports=f},{161:161}],114:[function(a,b,c){"use strict";var d={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){d.currentScrollLeft=a.x,d.currentScrollTop=a.y}};b.exports=d},{}],115:[function(a,b,c){"use strict";function d(a,b){if(null==b?e(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==a)return b;var c=Array.isArray(a),d=Array.isArray(b);return c&&d?(a.push.apply(a,b),a):c?(a.push(b),a):d?[a].concat(b):[a,b]}var e=a(161);b.exports=d},{161:161}],116:[function(a,b,c){"use strict";function d(a){for(var b=1,c=0,d=0,f=a.length,g=-4&f;g>d;){for(;d<Math.min(d+4096,g);d+=4)c+=(b+=a.charCodeAt(d))+(b+=a.charCodeAt(d+1))+(b+=a.charCodeAt(d+2))+(b+=a.charCodeAt(d+3));b%=e,c%=e}for(;f>d;d++)c+=b+=a.charCodeAt(d);return b%=e,c%=e,b|c<<16}var e=65521;b.exports=d},{}],117:[function(a,b,c){"use strict";var d=!1;try{Object.defineProperty({},"x",{get:function(){}}),d=!0}catch(e){}b.exports=d},{}],118:[function(a,b,c){"use strict";function d(a,b){h(j,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),j=!0,h(!a.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var c=f.mergeProps(b,a.props);return!c.hasOwnProperty(i)&&a.props.hasOwnProperty(i)&&(c.children=a.props.children),e.createElement(a.type,c)}var e=a(57),f=a(79),g=a(166),h=a(173),i=g({children:null}),j=!1;b.exports=d},{166:166,173:173,57:57,79:79}],119:[function(a,b,c){"use strict";function d(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||f.hasOwnProperty(a)&&f[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var e=a(4),f=e.isUnitlessNumber;b.exports=d},{4:4}],120:[function(a,b,c){"use strict";function d(a,b,c,d,g){var h=!1,i=function(){return f(h,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",a,b,a,c),h=!0,g.apply(d,arguments)};return e(i,g)}var e=a(24),f=a(173);b.exports=d},{173:173,24:24}],121:[function(a,b,c){"use strict";function d(a){return f[a]}function e(a){return(""+a).replace(g,d)}var f={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},g=/[&><"']/g;b.exports=e},{}],122:[function(a,b,c){"use strict";function d(a){var b=e.current;return null!==b&&(i(b._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",b.getName()||"A component"),b._warnedAboutRefsInRender=!0),null==a?null:1===a.nodeType?a:f.has(a)?g.getNodeFromInstance(a):(null!=a.render&&"function"==typeof a.render?h(!1,"findDOMNode was called on an unmounted component."):void 0,void h(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(a)))}var e=a(39),f=a(68),g=a(72),h=a(161),i=a(173);b.exports=d},{161:161,173:173,39:39,68:68,72:72}],123:[function(a,b,c){"use strict";function d(a,b,c){var d=a,e=void 0===d[c];g(e,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",c),e&&null!=b&&(d[c]=b)}function e(a){if(null==a)return a;var b={};return f(a,d,b),b}var f=a(142),g=a(173);b.exports=e},{142:142,173:173}],124:[function(a,b,c){"use strict";var d=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};b.exports=d},{}],125:[function(a,b,c){"use strict";function d(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}b.exports=d},{}],126:[function(a,b,c){"use strict";function d(a){if(a.key){var b=f[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=e(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?g[a.keyCode]||"Unidentified":""}var e=a(125),f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};b.exports=d},{125:125}],127:[function(a,b,c){"use strict";function d(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=f[a];return d?!!c[d]:!1}function e(a){return d}var f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};b.exports=e},{}],128:[function(a,b,c){"use strict";function d(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}b.exports=d},{}],129:[function(a,b,c){"use strict";function d(a){var b=a&&(e&&a[e]||a[f]);return"function"==typeof b?b:void 0}var e="function"==typeof Symbol&&Symbol.iterator,f="@@iterator";b.exports=d},{}],130:[function(a,b,c){"use strict";function d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function f(a,b){for(var c=d(a),f=0,g=0;c;){if(3===c.nodeType){if(g=f+c.textContent.length,b>=f&&g>=b)return{node:c,offset:b-f};f=g}c=d(e(c))}}b.exports=f},{}],131:[function(a,b,c){"use strict";function d(){return!f&&e.canUseDOM&&(f="textContent"in document.documentElement?"textContent":"innerText"),f}var e=a(147),f=null;b.exports=d},{147:147}],132:[function(a,b,c){"use strict";function d(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}function e(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function f(a){var b;if(null===a||a===!1)b=new h(f);else if("object"==typeof a){var c=a;!c||"function"!=typeof c.type&&"string"!=typeof c.type?k(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==c.type?c.type:typeof c.type,d(c._owner)):void 0,b="string"==typeof c.type?i.createInternalComponent(c):e(c.type)?new c.type(c):new m}else"string"==typeof a||"number"==typeof a?b=i.createInstanceForText(a):k(!1,"Encountered invalid React node of type %s",typeof a);return l("function"==typeof b.construct&&"function"==typeof b.mountComponent&&"function"==typeof b.receiveComponent&&"function"==typeof b.unmountComponent,"Only React Components can be mounted."),b.construct(a),b._mountIndex=0,b._mountImage=null,b._isOwnerNecessary=!1,b._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(b),b}var g=a(38),h=a(59),i=a(75),j=a(24),k=a(161),l=a(173),m=function(){};j(m.prototype,g.Mixin,{_instantiateReactComponent:f}),b.exports=f},{161:161,173:173,24:24,38:38,59:59,75:75}],133:[function(a,b,c){"use strict";function d(a,b){if(!f.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,d=c in document;if(!d){var g=document.createElement("div");g.setAttribute(c,"return;"),d="function"==typeof g[c]}return!d&&e&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}var e,f=a(147);f.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),b.exports=d},{147:147}],134:[function(a,b,c){"use strict";function d(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&e[a.type]||"textarea"===b)}var e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};b.exports=d},{}],135:[function(a,b,c){"use strict";function d(a){return e.isValidElement(a)?void 0:f(!1,"onlyChild must be passed a children with exactly one child."),a}var e=a(57),f=a(161);b.exports=d},{161:161,57:57}],136:[function(a,b,c){"use strict";function d(a){return'"'+e(a)+'"'}var e=a(121);b.exports=d},{121:121}],137:[function(a,b,c){"use strict";var d=a(72);b.exports=d.renderSubtreeIntoContainer},{72:72}],138:[function(a,b,c){"use strict";var d=a(147),e=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,g=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(g=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),d.canUseDOM){var h=document.createElement("div");h.innerHTML=" ",""===h.innerHTML&&(g=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),e.test(b)||"<"===b[0]&&f.test(b)){a.innerHTML=String.fromCharCode(65279)+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}b.exports=g},{147:147}],139:[function(a,b,c){"use strict";var d=a(147),e=a(121),f=a(138),g=function(a,b){a.textContent=b};d.canUseDOM&&("textContent"in document.documentElement||(g=function(a,b){f(a,e(b))})),b.exports=g},{121:121,138:138,147:147}],140:[function(a,b,c){"use strict";function d(a,b,c){return!e(a.props,b)||!e(a.state,c)}var e=a(171);b.exports=d},{171:171}],141:[function(a,b,c){"use strict";function d(a,b){var c=null===a||a===!1,d=null===b||b===!1;if(c||d)return c===d;var e=typeof a,f=typeof b;return"string"===e||"number"===e?"string"===f||"number"===f:"object"===f&&a.type===b.type&&a.key===b.key}b.exports=d},{}],142:[function(a,b,c){"use strict";function d(a){return r[a]}function e(a,b){return a&&null!=a.key?g(a.key):b.toString(36)}function f(a){return(""+a).replace(s,d)}function g(a){return"$"+f(a)}function h(a,b,c,d){var f=typeof a;if("undefined"!==f&&"boolean"!==f||(a=null),null===a||"string"===f||"number"===f||k.isValidElement(a))return c(d,a,""===b?p+e(a,0):b),1;var i,l,r=0,s=""===b?p:b+q;if(Array.isArray(a))for(var u=0;u<a.length;u++)i=a[u],l=s+e(i,u),r+=h(i,l,c,d);else{var v=m(a);if(v){var w,x=v.call(a);if(v!==a.entries)for(var y=0;!(w=x.next()).done;)i=w.value,l=s+e(i,y++),r+=h(i,l,c,d);else for(o(t,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),t=!0;!(w=x.next()).done;){var z=w.value;z&&(i=z[1],l=s+g(z[0])+q+e(i,0),r+=h(i,l,c,d))}}else if("object"===f){var A="";if(A=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",a._isReactElement&&(A=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),j.current){var B=j.current.getName();B&&(A+=" Check the render method of `"+B+"`.")}var C=String(a);n(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===C?"object with keys {"+Object.keys(a).join(", ")+"}":C,A)}}return r}function i(a,b,c){return null==a?0:h(a,"",b,c)}var j=a(39),k=a(57),l=a(67),m=a(129),n=a(161),o=a(173),p=l.SEPARATOR,q=":",r={"=":"=0",".":"=1",":":"=2"},s=/[=.:]/g,t=!1;b.exports=i},{129:129,161:161,173:173,39:39,57:57,67:67}],143:[function(a,b,c){"use strict";function d(a){return Array.isArray(a)?a.concat():a&&"object"==typeof a?g(new a.constructor,a):a}function e(a,b,c){Array.isArray(a)?void 0:i(!1,"update(): expected target of %s to be an array; got %s.",c,a);var d=b[c];Array.isArray(d)?void 0:i(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",c,d)}function f(a,b){if("object"!=typeof b?i(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",q.join(", "),n):void 0,j.call(b,n))return 1!==Object.keys(b).length?i(!1,"Cannot have more than one key in an object with %s",n):void 0,b[n];var c=d(a);if(j.call(b,o)){var h=b[o];h&&"object"==typeof h?void 0:i(!1,"update(): %s expects a spec of type 'object'; got %s",o,h),c&&"object"==typeof c?void 0:i(!1,"update(): %s expects a target of type 'object'; got %s",o,c),g(c,b[o])}j.call(b,k)&&(e(a,b,k),b[k].forEach(function(a){c.push(a)})),j.call(b,l)&&(e(a,b,l),b[l].forEach(function(a){c.unshift(a)})),j.call(b,m)&&(Array.isArray(a)?void 0:i(!1,"Expected %s target to be an array; got %s",m,a),Array.isArray(b[m])?void 0:i(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,b[m]),b[m].forEach(function(a){Array.isArray(a)?void 0:i(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,b[m]),c.splice.apply(c,a)})),j.call(b,p)&&("function"!=typeof b[p]?i(!1,"update(): expected spec of %s to be a function; got %s.",p,b[p]):void 0,c=b[p](c));for(var s in b)r.hasOwnProperty(s)&&r[s]||(c[s]=f(a[s],b[s]));return c}var g=a(24),h=a(166),i=a(161),j={}.hasOwnProperty,k=h({$push:null}),l=h({$unshift:null}),m=h({$splice:null}),n=h({$set:null}),o=h({$merge:null}),p=h({$apply:null}),q=[k,l,m,n,o,p],r={};q.forEach(function(a){r[a]=!0}),b.exports=f},{161:161,166:166,24:24}],144:[function(a,b,c){"use strict";var d=a(24),e=a(153),f=a(173),g=e,h=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],i=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],j=i.concat(["button"]),k=["dd","dt","li","option","optgroup","p","rp","rt"],l={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},m=function(a,b,c){var e=d({},a||l),f={tag:b,instance:c};return-1!==i.indexOf(b)&&(e.aTagInScope=null,e.buttonTagInScope=null,e.nobrTagInScope=null),-1!==j.indexOf(b)&&(e.pTagInButtonScope=null),-1!==h.indexOf(b)&&"address"!==b&&"div"!==b&&"p"!==b&&(e.listItemTagAutoclosing=null,e.dlItemTagAutoclosing=null),e.parentTag=f,"form"===b&&(e.formTag=f),"a"===b&&(e.aTagInScope=f),"button"===b&&(e.buttonTagInScope=f),"nobr"===b&&(e.nobrTagInScope=f),"p"===b&&(e.pTagInButtonScope=f),"li"===b&&(e.listItemTagAutoclosing=f),"dd"!==b&&"dt"!==b||(e.dlItemTagAutoclosing=f),e},n=function(a,b){switch(b){case"select":return"option"===a||"optgroup"===a||"#text"===a;case"optgroup":return"option"===a||"#text"===a;case"option":return"#text"===a;case"tr":return"th"===a||"td"===a||"style"===a||"script"===a||"template"===a;case"tbody":case"thead":case"tfoot":return"tr"===a||"style"===a||"script"===a||"template"===a;case"colgroup":return"col"===a||"template"===a;case"table":return"caption"===a||"colgroup"===a||"tbody"===a||"tfoot"===a||"thead"===a||"style"===a||"script"===a||"template"===a;case"head":return"base"===a||"basefont"===a||"bgsound"===a||"link"===a||"meta"===a||"title"===a||"noscript"===a||"noframes"===a||"style"===a||"script"===a||"template"===a;case"html":return"head"===a||"body"===a}switch(a){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==b&&"h2"!==b&&"h3"!==b&&"h4"!==b&&"h5"!==b&&"h6"!==b;case"rp":case"rt":return-1===k.indexOf(b);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==b}return!0},o=function(a,b){switch(a){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return b.pTagInButtonScope;case"form":return b.formTag||b.pTagInButtonScope;case"li":return b.listItemTagAutoclosing;case"dd":case"dt":return b.dlItemTagAutoclosing;case"button":return b.buttonTagInScope;case"a":return b.aTagInScope;case"nobr":return b.nobrTagInScope}return null},p=function(a){if(!a)return[];var b=[];do b.push(a);while(a=a._currentElement._owner);return b.reverse(),b},q={};g=function(a,b,c){c=c||l;var d=c.parentTag,e=d&&d.tag,g=n(a,e)?null:d,h=g?null:o(a,c),i=g||h;if(i){var j,k=i.tag,m=i.instance,r=b&&b._currentElement._owner,s=m&&m._currentElement._owner,t=p(r),u=p(s),v=Math.min(t.length,u.length),w=-1;for(j=0;v>j&&t[j]===u[j];j++)w=j;var x="(unknown)",y=t.slice(w+1).map(function(a){return a.getName()||x}),z=u.slice(w+1).map(function(a){return a.getName()||x}),A=[].concat(-1!==w?t[w].getName()||x:[],z,k,h?["..."]:[],y,a).join(" > "),B=!!g+"|"+a+"|"+k+"|"+A;if(q[B])return;if(q[B]=!0,g){var C="";"table"===k&&"tr"===a&&(C+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),f(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",a,k,A,C)}else f(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",a,k,A)}},g.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),g.updatedAncestorInfo=m,g.isTagValidInContext=function(a,b){b=b||l;var c=b.parentTag,d=c&&c.tag;return n(a,d)&&!o(a,b)},b.exports=g},{153:153,173:173,24:24}],145:[function(a,b,c){"use strict";var d=a(161),e={addClass:function(a,b){return/\s/.test(b)?d(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',b):void 0,b&&(a.classList?a.classList.add(b):e.hasClass(a,b)||(a.className=a.className+" "+b)),a},removeClass:function(a,b){return/\s/.test(b)?d(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',b):void 0,b&&(a.classList?a.classList.remove(b):e.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),a},conditionClass:function(a,b,c){return(c?e.addClass:e.removeClass)(a,b)},hasClass:function(a,b){return/\s/.test(b)?d(!1,"CSS.hasClass takes only a single class name."):void 0,a.classList?!!b&&a.classList.contains(b):(" "+a.className+" ").indexOf(" "+b+" ")>-1}};b.exports=e},{161:161}],146:[function(a,b,c){"use strict";var d=a(153),e={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:d})},registerDefault:function(){}};b.exports=e},{153:153}],147:[function(a,b,c){"use strict";var d=!("undefined"==typeof window||!window.document||!window.document.createElement),e={canUseDOM:d,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:d&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d};b.exports=e},{}],148:[function(a,b,c){"use strict";function d(a){return a.replace(e,function(a,b){return b.toUpperCase()})}var e=/-(.)/g;b.exports=d},{}],149:[function(a,b,c){"use strict";function d(a){return e(a.replace(f,"ms-"))}var e=a(148),f=/^-ms-/;b.exports=d},{148:148}],150:[function(a,b,c){"use strict";function d(a,b){var c=!0;a:for(;c;){var d=a,f=b;if(c=!1,d&&f){if(d===f)return!0;if(e(d))return!1;if(e(f)){a=d,b=f.parentNode,c=!0;continue a}return d.contains?d.contains(f):d.compareDocumentPosition?!!(16&d.compareDocumentPosition(f)):!1}return!1}}var e=a(163);b.exports=d},{163:163}],151:[function(a,b,c){"use strict";function d(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function e(a){return d(a)?Array.isArray(a)?a.slice():f(a):[a]}var f=a(172);b.exports=e},{172:172}],152:[function(a,b,c){"use strict";function d(a){var b=a.match(k),c=b&&b[1].toLowerCase();return l.hasOwnProperty(c)?l[c]:c}function e(a,b){var c=j;j?void 0:i(!1,"createNodesFromMarkup dummy not initialized");var e=d(a),f=e&&h(e);if(f){c.innerHTML=f[1]+a+f[2];for(var k=f[0];k--;)c=c.lastChild}else c.innerHTML=a;var l=c.getElementsByTagName("script");l.length&&(b?void 0:i(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),g(l).forEach(b));for(var m=g(c.childNodes);c.lastChild;)c.removeChild(c.lastChild);return m}var f=a(147),g=a(151),h=a(157),i=a(161),j=f.canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/,l={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"};b.exports=e},{147:147,151:151,157:157,161:161}],153:[function(a,b,c){"use strict";function d(a){return function(){return a}}function e(){}e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},b.exports=e},{}],154:[function(a,b,c){"use strict";var d={};Object.freeze(d),b.exports=d},{}],155:[function(a,b,c){"use strict";function d(a){try{a.focus()}catch(b){}}b.exports=d},{}],156:[function(a,b,c){"use strict";function d(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(a){return document.body}}b.exports=d},{}],157:[function(a,b,c){"use strict";function d(a){return g?void 0:f(!1,"Markup wrapping node not initialized"),m.hasOwnProperty(a)||(a="*"),h.hasOwnProperty(a)||("*"===a?g.innerHTML="<link />":g.innerHTML="<"+a+"></"+a+">",h[a]=!g.firstChild),h[a]?m[a]:null}var e=a(147),f=a(161),g=e.canUseDOM?document.createElement("div"):null,h={},i=[1,'<select multiple="true">',"</select>"],j=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:j,colgroup:j,tbody:j,tfoot:j,thead:j,td:k,th:k},n=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan","use","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feTile","feTurbulence"];n.forEach(function(a){m[a]=l,h[a]=!0}),b.exports=d},{147:147,161:161}],158:[function(a,b,c){"use strict";function d(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}b.exports=d},{}],159:[function(a,b,c){"use strict";function d(a){return a.replace(e,"-$1").toLowerCase()}var e=/([A-Z])/g;b.exports=d},{}],160:[function(a,b,c){"use strict";function d(a){return e(a).replace(f,"-ms-")}var e=a(159),f=/^ms-/;b.exports=d},{159:159}],161:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h){if(void 0===b)throw new Error("invariant requires an error message argument");if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error(b.replace(/%s/g,function(){return j[k++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}b.exports=d},{}],162:[function(a,b,c){"use strict";function d(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}b.exports=d},{}],163:[function(a,b,c){"use strict";function d(a){return e(a)&&3==a.nodeType}var e=a(162);b.exports=d},{162:162}],164:[function(a,b,c){"use strict";function d(a){a||(a="");var b,c=arguments.length;if(c>1)for(var d=1;c>d;d++)b=arguments[d],b&&(a=(a?a+" ":"")+b);return a}b.exports=d},{}],165:[function(a,b,c){"use strict";var d=a(161),e=function(a){var b,c={};a instanceof Object&&!Array.isArray(a)?void 0:d(!1,"keyMirror(...): Argument must be an object.");for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};b.exports=e},{161:161}],166:[function(a,b,c){"use strict";var d=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};b.exports=d},{}],167:[function(a,b,c){"use strict";function d(a,b,c){if(!a)return null;var d={};for(var f in a)e.call(a,f)&&(d[f]=b.call(c,a[f],f,a));return d}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],168:[function(a,b,c){"use strict";function d(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}b.exports=d},{}],169:[function(a,b,c){"use strict";var d,e=a(147);e.canUseDOM&&(d=window.performance||window.msPerformance||window.webkitPerformance),b.exports=d||{}},{147:147}],170:[function(a,b,c){"use strict";var d,e=a(169);d=e.now?function(){return e.now()}:function(){return Date.now()},b.exports=d},{169:169}],171:[function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var f=e.bind(b),g=0;g<c.length;g++)if(!f(c[g])||a[c[g]]!==b[c[g]])return!1;return!0}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],172:[function(a,b,c){"use strict";function d(a){var b=a.length;if(Array.isArray(a)||"object"!=typeof a&&"function"!=typeof a?e(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof b?e(!1,"toArray: Object needs a length property"):void 0,0===b||b-1 in a?void 0:e(!1,"toArray: Object should have keys for indices"),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),f=0;b>f;f++)d[f]=a[f];return d}var e=a(161);
b.exports=d},{161:161}],173:[function(a,b,c){"use strict";var d=a(153),e=d;e=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;c>e;e++)d[e-2]=arguments[e];if(void 0===b)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==b.indexOf("Failed Composite propType: ")&&!a){var f=0,g="Warning: "+b.replace(/%s/g,function(){return d[f++]});"undefined"!=typeof console&&console.error(g);try{throw new Error(g)}catch(h){}}},b.exports=e},{153:153}]},{},[1])(1)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.ReactDOM=a(b.React)}}(function(a){return a.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(a,b){function c(a){var b=a.length,c=fa.type(a);return fa.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=oa[a]={};return fa.each(a.match(ha)||[],function(a,c){b[c]=!0}),b}function e(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=fa.expando+Math.random()}function f(a,c,d){var e;if(d===b&&1===a.nodeType)if(e="data-"+c.replace(sa,"-$1").toLowerCase(),d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ra.test(d)?JSON.parse(d):d}catch(f){}pa.set(a,c,d)}else d=b;return d}function g(){return!0}function h(){return!1}function i(){try{return T.activeElement}catch(a){}}function j(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function k(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Ca.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return ba.call(b,a)>=0!==c})}function l(a,b){return fa.nodeName(a,"table")&&fa.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function n(a){var b=Na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function o(a,b){for(var c=a.length,d=0;c>d;d++)qa.set(a[d],"globalEval",!b||qa.get(b[d],"globalEval"))}function p(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(qa.hasData(a)&&(f=qa.access(a),g=qa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}pa.hasData(a)&&(h=pa.access(a),i=fa.extend({},h),pa.set(b,i))}}function q(a,c){var d=a.getElementsByTagName?a.getElementsByTagName(c||"*"):a.querySelectorAll?a.querySelectorAll(c||"*"):[];return c===b||c&&fa.nodeName(a,c)?fa.merge([a],d):d}function r(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ka.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function s(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=_a.length;e--;)if(b=_a[e]+c,b in a)return b;return d}function t(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)}function u(b){return a.getComputedStyle(b,null)}function v(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=qa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&t(d)&&(f[g]=qa.access(d,"olddisplay",z(d.nodeName)))):f[g]||(e=t(d),(c&&"none"!==c||!e)&&qa.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function w(a,b,c){var d=Ua.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function x(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+$a[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+$a[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+$a[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+$a[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+$a[f]+"Width",!0,e)));return g}function y(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=u(a),g=fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Qa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Va.test(e))return e;d=g&&(fa.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+x(a,b,c||(g?"border":"content"),d,f)+"px"}function z(a){var b=T,c=Xa[a];return c||(c=A(a,b),"none"!==c&&c||(Ra=(Ra||fa("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Ra[0].contentWindow||Ra[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=A(a,b),Ra.detach()),Xa[a]=c),c}function A(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.remove(),d}function B(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||bb.test(a)?d(a,e):B(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)B(a+"["+e+"]",b[e],c,d)}function C(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ha)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function D(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function E(a,c){var d,e,f=fa.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);return e&&fa.extend(!0,a,e),a}function F(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("Content-Type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function G(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function H(){return setTimeout(function(){Bb=b}),Bb=fa.now()}function I(a,b,c){for(var d,e=(Hb[b]||[]).concat(Hb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function J(a,b,c){var d,e,f=0,g=Gb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Bb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Bb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(K(k,j.opts.specialEasing);g>f;f++)if(d=Gb[f].call(j,a,k,j.opts))return d;return fa.map(k,I,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function K(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function L(a,c,d){var e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&t(a),o=qa.get(a,"fxshow");d.queue||(i=fa._queueHooks(a,"fx"),null==i.unqueued&&(i.unqueued=0,j=i.empty.fire,i.empty.fire=function(){i.unqueued||j()}),i.unqueued++,k.always(function(){k.always(function(){i.unqueued--,fa.queue(a,"fx").length||i.empty.fire()})})),1===a.nodeType&&("height"in c||"width"in c)&&(d.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===fa.css(a,"display")&&"none"===fa.css(a,"float")&&(m.display="inline-block")),d.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=d.overflow[0],m.overflowX=d.overflow[1],m.overflowY=d.overflow[2]}));for(e in c)if(f=c[e],Db.exec(f)){if(delete c[e],g=g||"toggle"===f,f===(n?"hide":"show")){if("show"!==f||!o||o[e]===b)continue;n=!0}l[e]=o&&o[e]||fa.style(a,e)}if(!fa.isEmptyObject(l)){o?"hidden"in o&&(n=o.hidden):o=qa.access(a,"fxshow",{}),g&&(o.hidden=!n),n?fa(a).show():k.done(function(){fa(a).hide()}),k.done(function(){var b;qa.remove(a,"fxshow");for(b in l)fa.style(a,b,l[b])});for(e in l)h=I(n?o[e]:0,e,k),e in o||(o[e]=h.start,n&&(h.end=h.start,h.start="width"===e||"height"===e?1:0))}}function M(a,b,c,d,e){return new M.prototype.init(a,b,c,d,e)}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=$a[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var P,Q,R=typeof b,S=a.location,T=a.document,U=T.documentElement,V=a.jQuery,W=a.$,X={},Y=[],Z="2.0.3",$=Y.concat,_=Y.push,aa=Y.slice,ba=Y.indexOf,ca=X.toString,da=X.hasOwnProperty,ea=Z.trim,fa=function(a,b){return new fa.fn.init(a,b,P)},ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=/\S+/g,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ja=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ka=/^-ms-/,la=/-([\da-z])/gi,ma=function(a,b){return b.toUpperCase()},na=function(){T.removeEventListener("DOMContentLoaded",na,!1),a.removeEventListener("load",na,!1),fa.ready()};fa.fn=fa.prototype={jquery:Z,constructor:fa,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ia.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof fa?c[0]:c,fa.merge(this,fa.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:T,!0)),ja.test(e[1])&&fa.isPlainObject(c))for(e in c)fa.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}return f=T.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=T,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))},selector:"",length:0,toArray:function(){return aa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fa.each(this,a,b)},ready:function(a){return fa.ready.promise().done(a),this},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:_,sort:[].sort,splice:[].splice},fa.fn.init.prototype=fa.fn,fa.extend=fa.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||fa.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(fa.isPlainObject(e)||(f=fa.isArray(e)))?(f?(f=!1,g=d&&fa.isArray(d)?d:[]):g=d&&fa.isPlainObject(d)?d:{},h[c]=fa.extend(k,g,e)):e!==b&&(h[c]=e));return h},fa.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===fa&&(a.$=W),b&&a.jQuery===fa&&(a.jQuery=V),fa},isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(Q.resolveWith(T,[fa]),fa.fn.trigger&&fa(T).trigger("ready").off("ready")))},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?X[ca.call(a)]||"object":typeof a},isPlainObject:function(a){if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!da.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||T;var d=ja.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fa.buildFragment([a],b,e),e&&fa(e).remove(),fa.merge([],d.childNodes))},parseJSON:JSON.parse,parseXML:function(a){var c,d;if(!a||"string"!=typeof a)return null;try{d=new DOMParser,c=d.parseFromString(a,"text/xml")}catch(e){c=b}return c&&!c.getElementsByTagName("parsererror").length||fa.error("Invalid XML: "+a),c},noop:function(){},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=T.createElement("script"),b.text=a,T.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ka,"ms-").replace(la,ma)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":ea.call(a)},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):_.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:ba.call(b,a,c)},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return $.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),fa.isFunction(a)?(e=aa.call(arguments,2),f=function(){return a.apply(c||this,e.concat(aa.call(arguments)))},f.guid=a.guid=a.guid||fa.guid++,f):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===fa.type(d)){f=!0;for(i in d)fa.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,fa.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(fa(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:Date.now,swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),fa.ready.promise=function(b){return Q||(Q=fa.Deferred(),"complete"===T.readyState?setTimeout(fa.ready):(T.addEventListener("DOMContentLoaded",na,!1),a.addEventListener("load",na,!1))),Q.promise(b)},fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){X["[object "+b+"]"]=b.toLowerCase()}),P=fa(T),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=ta.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return aa.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return aa.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return aa.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(ka,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){d&&!(e=la.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ma.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ka," ")}),h=h.slice(d.length));for(g in z.filter)!(e=ra[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ca.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):aa.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ca.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ka,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}aa.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xa,ya),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xa,ya),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return aa.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,na.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,aa=Z.push,ba=Z.slice,ca=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",ga="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ha=ga.replace("w","w#"),ia="\\["+ea+"*("+ga+")"+ea+"*(?:([*^$|!~]?=)"+ea+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ha+")|)|)"+ea+"*\\]",ja=":("+ga+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ia.replace(3,8)+")*)|.*)\\)|)",ka=new RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),la=new RegExp("^"+ea+"*,"+ea+"*"),ma=new RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),na=new RegExp(ea+"*[+~]"),oa=new RegExp("="+ea+"*([^\\]'\"]*)"+ea+"*\\]","g"),pa=new RegExp(ja),qa=new RegExp("^"+ha+"$"),ra={ID:new RegExp("^#("+ga+")"),CLASS:new RegExp("^\\.("+ga+")"),TAG:new RegExp("^("+ga.replace("w","w*")+")"),ATTR:new RegExp("^"+ia),PSEUDO:new RegExp("^"+ja),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:new RegExp("^(?:"+da+")$","i"),needsContext:new RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/^(?:input|select|textarea|button)$/i,va=/^h\d$/i,wa=/'|\\/g,xa=new RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),ya=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{aa.apply(Z=ba.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(za){aa={apply:Z.length?function(a,b){_.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sa.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+ea+"*(?:value|"+da+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+ea+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sa.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ja)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sa.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?ca.call(E,a)-ca.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?ca.call(E,a)-ca.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(oa,"='$1']"),x.matchesSelector&&I&&(!K||!K.test(b))&&(!J||!J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,ya),a[3]=(a[4]||a[5]||"").replace(xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pa.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ea+")"+a+"("+ea+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ca.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(ka,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xa,ya).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){
for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return va.test(a.nodeName)},input:function(a){return ua.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(da,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),fa.find=c,fa.expr=c.selectors,fa.expr[":"]=fa.expr.pseudos,fa.unique=c.uniqueSort,fa.text=c.getText,fa.isXMLDoc=c.isXML,fa.contains=c.contains}(a);var oa={};fa.Callbacks=function(a){a="string"==typeof a?oa[a]||d(a):fa.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(c=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):c?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){fa.each(b,function(b,c){var e=fa.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),f?h=j.length:c&&(g=b,l(c))}return this},remove:function(){return j&&fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return a?fa.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],h=0,this},disable:function(){return j=k=c=b,this},disabled:function(){return!j},lock:function(){return k=b,c||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||e&&!k||(b=b||[],b=[a,b.slice?b.slice():b],f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=f[0],h=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=aa.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?aa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),fa.support=function(b){var c=T.createElement("input"),d=T.createDocumentFragment(),e=T.createElement("div"),f=T.createElement("select"),g=f.appendChild(T.createElement("option"));return c.type?(c.type="checkbox",b.checkOn=""!==c.value,b.optSelected=g.selected,b.reliableMarginRight=!0,b.boxSizingReliable=!0,b.pixelPosition=!1,c.checked=!0,b.noCloneChecked=c.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled,c=T.createElement("input"),c.value="t",c.type="radio",b.radioValue="t"===c.value,c.setAttribute("checked","t"),c.setAttribute("name","t"),d.appendChild(c),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,b.focusinBubbles="onfocusin"in a,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===e.style.backgroundClip,fa(function(){var c,d,f="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",g=T.getElementsByTagName("body")[0];g&&(c=T.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(e),e.innerHTML="",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",fa.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===e.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(e,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(e,null)||{width:"4px"}).width,d=e.appendChild(T.createElement("div")),d.style.cssText=e.style.cssText=f,d.style.marginRight=d.style.width="0",e.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),g.removeChild(c))}),b):b}({});var pa,qa,ra=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sa=/([A-Z])/g;e.uid=1,e.accepts=function(a){return a.nodeType?1===a.nodeType||9===a.nodeType:!0},e.prototype={key:function(a){if(!e.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=e.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,fa.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(fa.isEmptyObject(f))fa.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,c){var d=this.cache[this.key(a)];return c===b?d:d[c]},access:function(a,c,d){var e;return c===b||c&&"string"==typeof c&&d===b?(e=this.get(a,c),e!==b?e:this.get(a,fa.camelCase(c))):(this.set(a,c,d),d!==b?d:c)},remove:function(a,c){var d,e,f,g=this.key(a),h=this.cache[g];if(c===b)this.cache[g]={};else{fa.isArray(c)?e=c.concat(c.map(fa.camelCase)):(f=fa.camelCase(c),c in h?e=[c,f]:(e=f,e=e in h?[e]:e.match(ha)||[])),d=e.length;for(;d--;)delete h[e[d]]}},hasData:function(a){return!fa.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}},pa=new e,qa=new e,fa.extend({acceptData:e.accepts,hasData:function(a){return pa.hasData(a)||qa.hasData(a)},data:function(a,b,c){return pa.access(a,b,c)},removeData:function(a,b){pa.remove(a,b)},_data:function(a,b,c){return qa.access(a,b,c)},_removeData:function(a,b){qa.remove(a,b)}}),fa.fn.extend({data:function(a,c){var d,e,g=this[0],h=0,i=null;if(a===b){if(this.length&&(i=pa.get(g),1===g.nodeType&&!qa.get(g,"hasDataAttrs"))){for(d=g.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=fa.camelCase(e.slice(5)),f(g,e,i[e]));qa.set(g,"hasDataAttrs",!0)}return i}return"object"==typeof a?this.each(function(){pa.set(this,a)}):fa.access(this,function(c){var d,e=fa.camelCase(a);if(g&&c===b){if(d=pa.get(g,a),d!==b)return d;if(d=pa.get(g,e),d!==b)return d;if(d=f(g,e,b),d!==b)return d}else this.each(function(){var d=pa.get(this,e);pa.set(this,e,c),-1!==a.indexOf("-")&&d!==b&&pa.set(this,a,c)})},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){pa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=qa.get(a,b),c&&(!d||fa.isArray(c)?d=qa.access(a,b,fa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return qa.get(a,c)||qa.access(a,c,{empty:fa.Callbacks("once memory").add(function(){qa.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?fa.queue(this[0],a):c===b?this:this.each(function(){var b=fa.queue(this,a,c);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},delay:function(a,b){return a=fa.fx?fa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=fa.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=qa.get(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ta,ua,va=/[\t\r\n\f]/g,wa=/\r/g,xa=/^(?:input|select|textarea|button)$/i;fa.fn.extend({attr:function(a,b){return fa.access(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})},prop:function(a,b){return fa.access(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=fa.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?fa.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=fa(this),f=a.match(ha)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==R&&"boolean"!==c||(this.className&&qa.set(this,"__className__",this.className),this.className=this.className||a===!1?"":qa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(va," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=fa.isFunction(a),this.each(function(d){var f;1===this.nodeType&&(f=e?a.call(this,d,fa(this).val()):a,null==f?f="":"number"==typeof f?f+="":fa.isArray(f)&&(f=fa.map(f,function(a){return null==a?"":a+""})),c=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=fa.valHooks[f.type]||fa.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(wa,""):null==d?"":d)}}}),fa.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(fa.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===R?fa.prop(a,c,d):(1===g&&fa.isXMLDoc(a)||(c=c.toLowerCase(),e=fa.attrHooks[c]||(fa.expr.match.bool.test(c)?ua:ta)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=fa.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void fa.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ha);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!fa.support.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!fa.isXMLDoc(a),g&&(c=fa.propFix[c]||c,f=fa.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||xa.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),ua={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,c){var d=fa.expr.attrHandle[c]||fa.find.attr;fa.expr.attrHandle[c]=function(a,c,e){var f=fa.expr.attrHandle[c],g=e?b:(fa.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return fa.expr.attrHandle[c]=f,g}}),fa.support.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>=0:void 0}},fa.support.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ya=/^key/,za=/^(?:mouse|contextmenu)|click/,Aa=/^(?:focusinfocus|focusoutblur)$/,Ba=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=qa.get(a);if(r){for(d.handler&&(g=d,d=g.handler,f=g.selector),d.guid||(d.guid=fa.guid++),(j=r.events)||(j=r.events={}),(h=r.handle)||(h=r.handle=function(a){return typeof fa===R||a&&fa.event.triggered===a.type?b:fa.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=(c||"").match(ha)||[""],k=c.length;k--;)i=Ba.exec(c[k])||[],o=q=i[1],p=(i[2]||"").split(".").sort(),o&&(m=fa.event.special[o]||{},o=(f?m.delegateType:m.bindType)||o,m=fa.event.special[o]||{},l=fa.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&fa.expr.match.needsContext.test(f),namespace:p.join(".")},g),(n=j[o])||(n=j[o]=[],n.delegateCount=0,m.setup&&m.setup.call(a,e,p,h)!==!1||a.addEventListener&&a.addEventListener(o,h,!1)),m.add&&(m.add.call(a,l),l.handler.guid||(l.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,l):n.push(l),fa.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=qa.hasData(a)&&qa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(ha)||[""],j=b.length;j--;)if(h=Ba.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&(delete q.handle,qa.remove(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||T],o=da.call(c,"type")?c.type:c,p=da.call(c,"namespace")?c.namespace.split("."):[];if(h=i=e=e||T,3!==e.nodeType&&8!==e.nodeType&&!Aa.test(o+fa.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),k=o.indexOf(":")<0&&"on"+o,c=c[fa.expando]?c:new fa.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:fa.makeArray(d,[c]),m=fa.event.special[o]||{},f||!m.trigger||m.trigger.apply(e,d)!==!1)){if(!f&&!m.noBubble&&!fa.isWindow(e)){for(j=m.delegateType||o,Aa.test(j+o)||(h=h.parentNode);h;h=h.parentNode)n.push(h),i=h;i===(e.ownerDocument||T)&&n.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=n[g++])&&!c.isPropagationStopped();)c.type=g>1?j:m.bindType||o,l=(qa.get(h,"events")||{})[c.type]&&qa.get(h,"handle"),l&&l.apply(h,d),l=k&&h[k],l&&fa.acceptData(h)&&l.apply&&l.apply(h,d)===!1&&c.preventDefault();return c.type=o,f||c.isDefaultPrevented()||m._default&&m._default.apply(n.pop(),d)!==!1||!fa.acceptData(e)||k&&fa.isFunction(e[o])&&!fa.isWindow(e)&&(i=e[k],i&&(e[k]=null),fa.event.triggered=o,e[o](),fa.event.triggered=b,i&&(e[k]=i)),c.result}},dispatch:function(a){a=fa.event.fix(a);var c,d,e,f,g,h=[],i=aa.call(arguments),j=(qa.get(this,"events")||{})[a.type]||[],k=fa.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=fa.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,d=0;(g=f.handlers[d++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(g.namespace)||(a.handleObj=g,a.data=g.data,e=((fa.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),e!==b&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!==this;j=j.parentNode||this)if(j.disabled!==!0||"click"!==a.type){for(e=[],d=0;i>d;d++)g=c[d],f=g.selector+" ",e[f]===b&&(e[f]=g.needsContext?fa(f,this).index(j)>=0:fa.find(f,this,null,[j]).length),e[f]&&e.push(g);e.length&&h.push({elem:j,handlers:e})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||T,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=za.test(e)?this.mouseHooks:ya.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=T),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==i()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===i()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.getPreventDefault&&a.getPreventDefault()?g:h):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||fa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.support.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){0===c++&&T.addEventListener(a,d,!0)},teardown:function(){0===--c&&T.removeEventListener(a,d,!0)}}}),fa.fn.extend({on:function(a,c,d,e,f){var g,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=h;else if(!e)return this;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),this.each(function(){fa.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,fa(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return c!==!1&&"function"!=typeof c||(d=c,c=b),d===!1&&(d=h),this.each(function(){fa.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}});var Ca=/^.[^:#\[\.,]*$/,Da=/^(?:parents|prev(?:Until|All))/,Ea=fa.expr.match.needsContext,Fa={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;e>b;b++)if(fa.contains(d[b],this))return!0}));for(b=0;e>b;b++)fa.find(a,d[b],c);return c=this.pushStack(e>1?fa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(k(this,a||[],!0))},filter:function(a){return this.pushStack(k(this,a||[],!1))},is:function(a){return!!k(this,"string"==typeof a&&Ea.test(a)?fa(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ea.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?ba.call(fa(a),this[0]):ba.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?fa(a,b):fa.makeArray(a&&a.nodeType?[a]:a),d=fa.merge(this.get(),c);return this.pushStack(fa.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return j(a,"nextSibling")},prev:function(a){return j(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(Fa[a]||fa.unique(e),Da.test(a)&&e.reverse()),this.pushStack(e)}}),fa.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=d!==b;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&fa(a).is(d))break;e.push(a)}return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ha=/<([\w:]+)/,Ia=/<|&#?\w+;/,Ja=/<(?:script|style|link)/i,Ka=/^(?:checkbox|radio)$/i,La=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=/^$|\/(?:java|ecma)script/i,Na=/^true\/(.*)/,Oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pa.optgroup=Pa.option,Pa.tbody=Pa.tfoot=Pa.colgroup=Pa.caption=Pa.thead,Pa.th=Pa.td,fa.fn.extend({text:function(a){return fa.access(this,function(a){return a===b?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fa.cleanData(q(c)),c.parentNode&&(b&&fa.contains(c.ownerDocument,c)&&o(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return fa.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof a&&!Ja.test(a)&&!Pa[(Ha.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ga,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(fa.cleanData(q(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=fa.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),fa(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=$.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,o=k-1,p=a[0],r=fa.isFunction(p);if(r||!(1>=k||"string"!=typeof p||fa.support.checkClone)&&La.test(p))return this.each(function(d){var e=l.eq(d);r&&(a[0]=p.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(d=fa.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=d.firstChild,1===d.childNodes.length&&(d=e),e)){for(f=fa.map(q(d,"script"),m),g=f.length;k>j;j++)h=d,j!==o&&(h=fa.clone(h,!0,!0),g&&fa.merge(f,q(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,fa.map(f,n),j=0;g>j;j++)h=f[j],Ma.test(h.type||"")&&!qa.access(h,"globalEval")&&fa.contains(i,h)&&(h.src?fa._evalUrl(h.src):fa.globalEval(h.textContent.replace(Oa,"")))}return this}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),_.apply(d,c.get());return this.pushStack(d)}}),fa.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(fa.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=q(h),f=q(a),d=0,e=f.length;e>d;d++)r(f[d],g[d]);if(b)if(c)for(f=f||q(a),g=g||q(h),d=0,e=f.length;e>d;d++)p(f[d],g[d]);else p(a,h);return g=q(h,"script"),g.length>0&&o(g,!i&&q(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=0,l=a.length,m=b.createDocumentFragment(),n=[];l>k;k++)if(e=a[k],e||0===e)if("object"===fa.type(e))fa.merge(n,e.nodeType?[e]:e);else if(Ia.test(e)){for(f=f||m.appendChild(b.createElement("div")),g=(Ha.exec(e)||["",""])[1].toLowerCase(),h=Pa[g]||Pa._default,f.innerHTML=h[1]+e.replace(Ga,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;fa.merge(n,f.childNodes),f=m.firstChild,f.textContent=""}else n.push(b.createTextNode(e));for(m.textContent="",k=0;e=n[k++];)if((!d||-1===fa.inArray(e,d))&&(i=fa.contains(e.ownerDocument,e),f=q(m.appendChild(e),"script"),i&&o(f),c))for(j=0;e=f[j++];)Ma.test(e.type||"")&&c.push(e);return m},cleanData:function(a){for(var c,d,f,g,h,i,j=fa.event.special,k=0;(d=a[k])!==b;k++){if(e.accepts(d)&&(h=d[qa.expando],h&&(c=qa.cache[h]))){if(f=Object.keys(c.events||{}),f.length)for(i=0;(g=f[i])!==b;i++)j[g]?fa.event.remove(d,g):fa.removeEvent(d,g,c.handle);qa.cache[h]&&delete qa.cache[h]}delete pa.cache[d[pa.expando]]}},_evalUrl:function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),
b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}});var Qa,Ra,Sa=/^(none|table(?!-c[ea]).+)/,Ta=/^margin/,Ua=new RegExp("^("+ga+")(.*)$","i"),Va=new RegExp("^("+ga+")(?!px)[a-z%]+$","i"),Wa=new RegExp("^([+-])=("+ga+")","i"),Xa={BODY:"block"},Ya={position:"absolute",visibility:"hidden",display:"block"},Za={letterSpacing:0,fontWeight:400},$a=["Top","Right","Bottom","Left"],_a=["Webkit","O","Moz","ms"];fa.fn.extend({css:function(a,c){return fa.access(this,function(a,c,d){var e,f,g={},h=0;if(fa.isArray(c)){for(e=u(a),f=c.length;f>h;h++)g[c[h]]=fa.css(a,c[h],!1,e);return g}return d!==b?fa.style(a,c,d):fa.css(a,c)},a,c,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){t(this)?fa(this).show():fa(this).hide()})}}),fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Qa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=fa.camelCase(c),j=a.style;return c=fa.cssProps[i]||(fa.cssProps[i]=s(j,i)),h=fa.cssHooks[c]||fa.cssHooks[i],d===b?h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c]:(g=typeof d,"string"===g&&(f=Wa.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(fa.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d)||("number"!==g||fa.cssNumber[i]||(d+="px"),fa.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b||(j[c]=d)),void 0)}},css:function(a,c,d,e){var f,g,h,i=fa.camelCase(c);return c=fa.cssProps[i]||(fa.cssProps[i]=s(a.style,i)),h=fa.cssHooks[c]||fa.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,d)),f===b&&(f=Qa(a,c,e)),"normal"===f&&c in Za&&(f=Za[c]),""===d||d?(g=parseFloat(f),d===!0||fa.isNumeric(g)?g||0:f):f}}),Qa=function(a,c,d){var e,f,g,h=d||u(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||fa.contains(a.ownerDocument,a)||(i=fa.style(a,c)),Va.test(i)&&Ta.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i},fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Sa.test(fa.css(a,"display"))?fa.swap(a,Ya,function(){return y(a,b,d)}):y(a,b,d):void 0},set:function(a,c,d){var e=d&&u(a);return w(a,c,d?x(a,b,d,fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}}),fa(function(){fa.support.reliableMarginRight||(fa.cssHooks.marginRight={get:function(a,b){return b?fa.swap(a,{display:"inline-block"},Qa,[a,"marginRight"]):void 0}}),!fa.support.pixelPosition&&fa.fn.position&&fa.each(["top","left"],function(a,b){fa.cssHooks[b]={get:function(a,c){return c?(c=Qa(a,b),Va.test(c)?fa(a).position()[b]+"px":c):void 0}}})}),fa.expr&&fa.expr.filters&&(fa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+$a[d]+b]=f[d]||f[d-2]||f[0];return e}},Ta.test(a)||(fa.cssHooks[a+b].set=w)});var ab=/%20/g,bb=/\[\]$/,cb=/\r?\n/g,db=/^(?:submit|button|image|reset|file)$/i,eb=/^(?:input|select|textarea|keygen)/i;fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&eb.test(this.nodeName)&&!db.test(a)&&(this.checked||!Ka.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(cb,"\r\n")}}):{name:b.name,value:c.replace(cb,"\r\n")}}).get()}}),fa.param=function(a,c){var d,e=[],f=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){f(this.name,this.value)});else for(d in a)B(d,a[d],c,f);return e.join("&").replace(ab,"+")},fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var fb,gb,hb=fa.now(),ib=/\?/,jb=/#.*$/,kb=/([?&])_=[^&]*/,lb=/^(.*?):[ \t]*([^\r\n]*)$/gm,mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nb=/^(?:GET|HEAD)$/,ob=/^\/\//,pb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qb=fa.fn.load,rb={},sb={},tb="*/".concat("*");try{gb=S.href}catch(ub){gb=T.createElement("a"),gb.href="",gb=gb.href}fb=pb.exec(gb.toLowerCase())||[],fa.fn.load=function(a,c,d){if("string"!=typeof a&&qb)return qb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i),a=a.slice(0,i)),fa.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),h.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:c}).done(function(a){g=arguments,h.html(e?fa("<div>").append(fa.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,g||[a.responseText,b,a])}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gb,type:"GET",isLocal:mb.test(fb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?E(E(a,fa.ajaxSettings),b):E(fa.ajaxSettings,a)},ajaxPrefilter:C(rb),ajaxTransport:C(sb),ajax:function(a,c){function d(a,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),e=b,g=h||"",w.readyState=a>0?4:0,j=a>=200&&300>a||304===a,d&&(t=F(m,w,d)),t=G(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,!a&&x||(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=lb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||gb)+"").replace(jb,"").replace(ob,fb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(ha)||[""],null==m.crossDomain&&(j=pb.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===fb[1]&&j[2]===fb[2]&&(j[3]||("http:"===j[1]?"80":"443"))===(fb[3]||("http:"===fb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),D(rb,m,c,w),2===u)return w;k=m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!nb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(ib.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=kb.test(f)?f.replace(kb,"$1_="+hb++):f+(ib.test(f)?"&":"?")+"_="+hb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=D(sb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,c){return fa.get(a,b,c,"script")}}),fa.each(["get","post"],function(a,c){fa[c]=function(a,d,e,f){return fa.isFunction(d)&&(f=f||e,e=d,d=b),fa.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),T.head.appendChild(b[0])},abort:function(){c&&c()}}}});var vb=[],wb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=vb.pop()||fa.expando+"_"+hb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(wb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&wb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=fa.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(wb,"$1"+f):c.jsonp!==!1&&(c.url+=(ib.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||fa.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,vb.push(f)),h&&fa.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),fa.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var xb=fa.ajaxSettings.xhr(),yb={0:200,1223:204},zb=0,Ab={};a.ActiveXObject&&fa(a).on("unload",function(){for(var a in Ab)Ab[a]();Ab=b}),fa.support.cors=!!xb&&"withCredentials"in xb,fa.support.ajax=xb=!!xb,fa.ajaxTransport(function(a){var c;return fa.support.cors||xb&&!a.crossDomain?{send:function(d,e){var f,g,h=a.xhr();if(h.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)h[f]=a.xhrFields[f];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)h.setRequestHeader(f,d[f]);c=function(a){return function(){c&&(delete Ab[g],c=h.onload=h.onerror=null,"abort"===a?h.abort():"error"===a?e(h.status||404,h.statusText):e(yb[h.status]||h.status,h.statusText,"string"==typeof h.responseText?{text:h.responseText}:b,h.getAllResponseHeaders()))}},h.onload=c(),h.onerror=c("error"),c=Ab[g=zb++]=c("abort"),h.send(a.hasContent&&a.data||null)},abort:function(){c&&c()}}:void 0});var Bb,Cb,Db=/^(?:toggle|show|hide)$/,Eb=new RegExp("^(?:([+-])=|)("+ga+")([a-z%]*)$","i"),Fb=/queueHooks$/,Gb=[L],Hb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Eb.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&Eb.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fa.Animation=fa.extend(J,{tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Hb[c]=Hb[c]||[],Hb[c].unshift(b)},prefilter:function(a,b){b?Gb.unshift(a):Gb.push(a)}}),fa.Tween=M,M.prototype={constructor:M,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(t).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=J(this,fa.extend({},a),f);(e||qa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=fa.timers,g=qa.get(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Fb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));!b&&d||fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=qa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fa.timers=[],fa.fx=M.prototype.init,fa.fx.tick=function(){var a,c=fa.timers,d=0;for(Bb=fa.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||fa.fx.stop(),Bb=b},fa.fx.timer=function(a){a()&&fa.timers.push(a)&&fa.fx.start()},fa.fx.interval=13,fa.fx.start=function(){Cb||(Cb=setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){clearInterval(Cb),Cb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fx.step={},fa.expr&&fa.expr.filters&&(fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length}),fa.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var c,d,e=this[0],f={top:0,left:0},g=e&&e.ownerDocument;if(g)return c=g.documentElement,fa.contains(c,e)?(typeof e.getBoundingClientRect!==R&&(f=e.getBoundingClientRect()),d=O(g),{top:f.top+d.pageYOffset-c.clientTop,left:f.left+d.pageXOffset-c.clientLeft}):f},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||U;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||U})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var e="pageYOffset"===d;fa.fn[c]=function(f){return fa.access(this,function(c,f,g){var h=O(c);return g===b?h?h[d]:c[f]:void(h?h.scrollTo(e?a.pageXOffset:g,e?g:a.pageYOffset):c[f]=g)},c,f,arguments.length,null)}}),fa.each({Height:"height",Width:"width"},function(a,c){fa.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){fa.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return fa.access(this,function(c,d,e){var f;return fa.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?fa.css(c,d,h):fa.style(c,d,e,h)},c,g?e:b,g,null)}})}),fa.fn.size=function(){return this.length},fa.fn.andSelf=fa.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=fa:"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa}),"object"==typeof a&&"object"==typeof a.document&&(a.jQuery=a.$=fa)}(window),define("helpers/jqueryHelpers",["require","jquery","lodash"],function(a){"use strict";var b=a("jquery"),c=a("lodash"),d="active",e="hidden",f="offscreen";b.fn.activate=c.partial(b.fn.addClass,d),b.fn.deactivate=c.partial(b.fn.removeClass,d),b.fn.toggleActive=c.partial(b.fn.toggleClass,d),b.fn.isActive=c.partial(b.fn.hasClass,d),b.fn.hideByClass=c.partial(b.fn.addClass,e),b.fn.showByClass=c.partial(b.fn.removeClass,e),b.fn.isHiddenByClass=c.partial(b.fn.hasClass,e),b.fn.sendOffscreen=c.partial(b.fn.addClass,f),b.fn.bringOnscreen=c.partial(b.fn.removeClass,f),b.fn.isOffscreen=c.partial(b.fn.hasClass,f),b.expr[":"].action=function(a,b,c,d){var e=c[3],f=a.getAttribute("data-action");return e?f===e:null!=f},b.fn.cssPosition=function(){var a=b(this);return{left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)}}}),function(){"use strict";require.config({map:{"*":{underscore:"lodash"}}})}(),define("helpers/lodashMap",function(){}),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null!=a?this._byId[a]||this._byId[a.id]||this._byId[a.cid]:void 0},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){
this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),define("helpers/backboneSync",["require","jquery","lodash","backbone"],function(a){"use strict";var b=a("jquery"),c=a("lodash"),d=a("backbone"),e="Must provide a url to fetch model",f="Could not fetch model",g={},h=function(a){return c.first(c.last(a.split("/")).split("."))},i=function(a){var c=new b.Deferred,d=c.promise(),e=b("<script/>"),f={load:c.resolve.bind(c),error:c.reject.bind(c)};return e.on(f).attr("src",a),document.head.appendChild(e[0]),d.always(e.off.bind(e,f)),d},j={origSync:d.sync,scriptSync:function(a,d,j){var k,l=j.url||c.result(d,"url"),m=new b.Deferred,n=m.promise();return l?(k=d.id||h(l),i(l).done(function(){var a=g[k];g[k]=null,j.success(a),m.resolve(a)}).fail(function(){j.error(f),m.reject(f)}),n):(m.reject(e),n)},sync:function(a,b,c){var d="read"===a?"scriptSync":"origSync";return j[d].apply(this,arguments)}};return d.sync=j.sync,window.globalProvideData=function(a,b){var c=JSON.parse(b),d="slide"===a?c.id:a;g[d]=c},j}),define("helpers/pubSub",["require","backbone","lodash"],function(a){"use strict";var b=a("backbone"),c=a("lodash"),d=c.extend({},b.Events);return d}),function(){function a(a,b){return[].slice.call((b||document).querySelectorAll(a))}if(window.addEventListener){var b=window.StyleFix={link:function(a){try{if("stylesheet"!==a.rel||a.hasAttribute("data-noprefix"))return}catch(c){return}var d,e=a.href||a.getAttribute("data-href"),f=e.replace(/[^\/]+$/,""),g=(/^[a-z]{3,10}:/.exec(f)||[""])[0],h=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(f)||[""])[0],i=/^([^?]*)\??/.exec(e)[1],j=a.parentNode,k=new XMLHttpRequest;k.onreadystatechange=function(){4===k.readyState&&d()},d=function(){var c=k.responseText;if(c&&a.parentNode&&(!k.status||400>k.status||600<k.status)){if(c=b.fix(c,!0,a),f)var c=c.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(a,b,c){return/^([a-z]{3,10}:|#)/i.test(c)?a:/^\/\//.test(c)?'url("'+g+c+'")':/^\//.test(c)?'url("'+h+c+'")':/^\?/.test(c)?'url("'+i+c+'")':'url("'+f+c+'")'}),d=f.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),c=c.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+d,"gi"),"$1");d=document.createElement("style"),d.textContent=c,d.media=a.media,d.disabled=a.disabled,d.setAttribute("data-href",a.getAttribute("href")),j.insertBefore(d,a),j.removeChild(a),d.media=a.media}};try{k.open("GET",e),k.send(null)}catch(l){"undefined"!=typeof XDomainRequest&&(k=new XDomainRequest,k.onerror=k.onprogress=function(){},k.onload=d,k.open("GET",e),k.send(null))}a.setAttribute("data-inprogress","")},styleElement:function(a){if(!a.hasAttribute("data-noprefix")){var c=a.disabled;a.textContent=b.fix(a.textContent,!0,a),a.disabled=c}},styleAttribute:function(a){var c=a.getAttribute("style"),c=b.fix(c,!1,a);a.setAttribute("style",c)},process:function(){a('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),a("style").forEach(StyleFix.styleElement),a("[style]").forEach(StyleFix.styleAttribute)},register:function(a,c){(b.fixers=b.fixers||[]).splice(void 0===c?b.fixers.length:c,0,a)},fix:function(a,c,d){for(var e=0;e<b.fixers.length;e++)a=b.fixers[e](a,c,d)||a;return a},camelCase:function(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}).replace("-","")},deCamelCase:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}};!function(){setTimeout(function(){a('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}()}}(),function(a){function b(a,b,d,e,f){return a=c[a],a.length&&(a=RegExp(b+"("+a.join("|")+")"+d,"gi"),f=f.replace(a,e)),f}if(window.StyleFix&&window.getComputedStyle){var c=window.PrefixFree={prefixCSS:function(a,d,e){var f=c.prefix;if(-1<c.functions.indexOf("linear-gradient")&&(a=a.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(a,b,c,d){return b+(c||"")+"linear-gradient("+(90-d)+"deg"})),a=b("functions","(\\s|:|,)","\\s*\\(","$1"+f+"$2(",a),a=b("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+f+"$2$3",a),a=b("properties","(^|\\{|\\s|;)","\\s*:","$1"+f+"$2:",a),c.properties.length){var g=RegExp("\\b("+c.properties.join("|")+")(?!:)","gi");a=b("valueProperties","\\b",":(.+?);",function(a){return a.replace(g,f+"$1")},a)}return d&&(a=b("selectors","","\\b",c.prefixSelector,a),a=b("atrules","@","\\b","@"+f+"$1",a)),a=a.replace(RegExp("-"+f,"g"),"-"),a=a.replace(/-\*-(?=[a-z]+)/gi,c.prefix)},property:function(a){return(0<=c.properties.indexOf(a)?c.prefix:"")+a},value:function(a,d){return a=b("functions","(^|\\s|,)","\\s*\\(","$1"+c.prefix+"$2(",a),a=b("keywords","(^|\\s)","(\\s|$)","$1"+c.prefix+"$2$3",a),0<=c.valueProperties.indexOf(d)&&(a=b("properties","(^|\\s|,)","($|\\s|,)","$1"+c.prefix+"$2$3",a)),a},prefixSelector:function(a){return a.replace(/^:{1,2}/,function(a){return a+c.prefix})},prefixProperty:function(a,b){var d=c.prefix+a;return b?StyleFix.camelCase(d):d}};!function(){var a={},b=[],d=getComputedStyle(document.documentElement,null),e=document.createElement("div").style,f=function(c){if("-"===c.charAt(0)){b.push(c),c=c.split("-");var d=c[1];for(a[d]=++a[d]||1;3<c.length;)c.pop(),d=c.join("-"),StyleFix.camelCase(d)in e&&-1===b.indexOf(d)&&b.push(d)}};if(0<d.length)for(var g=0;g<d.length;g++)f(d[g]);else for(var h in d)f(StyleFix.deCamelCase(h));var i,j,g=0;for(j in a)d=a[j],d>g&&(i=j,g=d);for(c.prefix="-"+i+"-",c.Prefix=StyleFix.camelCase(c.prefix),c.properties=[],g=0;g<b.length;g++)h=b[g],0===h.indexOf(c.prefix)&&(i=h.slice(c.prefix.length),StyleFix.camelCase(i)in e||c.properties.push(i));!("Ms"!=c.Prefix||"transform"in e||"MsTransform"in e)&&"msTransform"in e&&c.properties.push("transform","transform-origin"),c.properties.sort()}(),function(){function a(a,b){return f[b]="",f[b]=a,!!f[b]}var b={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};b["repeating-linear-gradient"]=b["repeating-radial-gradient"]=b["radial-gradient"]=b["linear-gradient"];var d={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};c.functions=[],c.keywords=[];var e,f=document.createElement("div").style;for(e in b){var g=b[e],h=g.property,g=e+"("+g.params+")";!a(g,h)&&a(c.prefix+g,h)&&c.functions.push(e)}for(var i in d)h=d[i],!a(i,h)&&a(c.prefix+i,h)&&c.keywords.push(i)}(),function(){function b(a){return g.textContent=a+"{}",!!g.sheet.cssRules.length}var d={":read-only":null,":read-write":null,":any-link":null,"::selection":null},e={keyframes:"name",viewport:null,document:'regexp(".")'};c.selectors=[],c.atrules=[];var f,g=a.appendChild(document.createElement("style"));for(f in d){var h=f+(d[f]?"("+d[f]+")":"");!b(h)&&b(c.prefixSelector(h))&&c.selectors.push(f)}for(var i in e)h=i+" "+(e[i]||""),!b("@"+h)&&b("@"+c.prefix+h)&&c.atrules.push(i);a.removeChild(g)}(),c.valueProperties=["transition","transition-property"],a.className+=" "+c.prefix,StyleFix.register(c.prefixCSS)}}(document.documentElement),define("prefix-free",function(a){return function(){var b;return b||a.PrefixFree}}(this)),define("helpers/cssPrefix",["require","prefix-free"],function(a){"use strict";var b=a("prefix-free"),c={},d=function(a){var c=b.prefixCSS(a+":").replace(":","");return c.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},e={camelCase:function(a){var b=c[a]||d(a);return c[a]=b,b},kebabCase:function(a){return b.prefix+a}};return e}),define("polyfills/audioContext",[],function(){"use strict";return window.AudioContext||window.webkitAudioContext}),define("polyfills/detection",["require","lodash","helpers/pubSub","helpers/cssPrefix","polyfills/audioContext"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=(a("helpers/cssPrefix"),a("polyfills/audioContext")),e=window.navigator.userAgent.toLowerCase(),f=function(){var a=document.createElement("canvas"),b=a.getContext("webgl")||a.getContext("experimental-webgl");return a=null,null!=b}(),g=function(a){return new RegExp("msie"+(isNaN(a)?"":"\\s"+a),"i").test(navigator.userAgent)},h=window.isMobile.any,i=window.isMobile.android.device,j=/(\?|&)forcemobile=1(&|$)/.test(window.location.search),k=/(\?|&)noframe=1(&|$)/.test(window.location.search),l={isMobilePreview:j,isMobileAndNotPreview:h&&!j,isMobile:j||h,isAndroid:i,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),hideFrame:k,isWebKit:function(){return e.indexOf("webkit")>-1},isFF:function(){return e.indexOf("firefox")>-1},isIE:function(){return"ActiveXObject"in window||null!=window.MSBlobBuilder},isIOS:function(){return/(ipad|iphone)/i.test(e)},isWebView:function(){return l.isIOS()&&e.indexOf("version")<0},isUIWebView:function(){return l.isWebView()&&!window.indexedDB},iOSVersion:b.memoize(function(){if(this.isIOS()){var a=/os ([0-9]+)_/.exec(e);return a&&parseInt(a[1])}}),isIosPhoneBefore10:function(){return this.isPhone&&this.isIOS()&&this.iOSVersion()<10},isIE11:function(){return this.isIE()&&null!=window.msCrypto&&!window.ActiveXObject},isIE10:function(){return g(10)},isEdge:function(){return this.isIE()&&null==window.msCrypto&&f},isFileProtocol:function(){return"file:"===document.location.protocol},hasAudioApi:function(){return d&&(!l.isFileProtocol()||l.isMobileAndNotPreview)},isTablet:window.isMobile.tablet,isPhone:window.isMobile.phone,is360:null!=window.vInterfaceObject&&window.autoSpider,forceHideOrientationWarning:!1};l.data360={toggleFullScreen:l.is360&&l.isTablet},l.heightScalar=1,l.prevOrientation=null;var m=l.isAndroid?function(){var a;l.forceHideOrientationWarning=!1,a=window.screen.height>window.screen.width?"portrait":"landscape",l.orientation!==a&&(l.forceHideOrientationWarning=!0)}:b.identity,n=function(){document.querySelector(".option-pane"),document.getElementById("presentation");window.innerHeight>window.innerWidth?l.orientation="portrait":l.orientation="landscape",l.innerHeight=window.innerHeight,l.innerWidth=window.innerWidth,m(),(l.orientation!==l.prevOrientation||l.forceHideOrientationWarning)&&(c.trigger("detection:orientationChange",{orientation:l.orientation}),l.prevOrientation=l.orientation)};return n(),window.addEventListener("resize",n),l}),define("polyfills/fileProtocolOverrides",["require","lodash","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/detection"),d={formatSrcUrl:c.isFileProtocol()&&c.isIE()?function(a){return c.isIE10()?"file://"+a:document.location.origin+a}:b.identity};return d}),define("helpers/constants",["require"],function(a){"use strict";var b=window.globals,c=(window.location.protocol,window.location.host,window.location.pathname),d=c.split(/\/+/).slice(0,-1).join("/"),e=b.DATA_PATH_BASE+"/html5/data/js",f={player:{},PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[b.DATA_PATH_BASE,d].join(""),PRESENTATION_DATA_URL:[d,e].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CONTROL",18:"ALT",20:"CAPS_LOCK",27:"ESCAPE",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15"}};return Object.freeze(f),Object.freeze(f.refs),Object.freeze(f.varTypes),Object.freeze(f.statuses),Object.freeze(f.tabIndices),Object.freeze(f.math),Object.freeze(f.keys),f}),define("helpers/utils",["require","lodash","polyfills/fileProtocolOverrides","helpers/constants","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/fileProtocolOverrides"),d=a("helpers/constants"),e=a("polyfills/detection"),f=5,g="ds",h=/[\u0600-\u06FF]/,i=function(a,b){var d=t.slice(b);return d.unshift(a),c.formatSrcUrl(d.join("/"))},j=function(a){var c=b.rest(arguments);return function(){var d=b.toArray(arguments);return c[a](function(a){return a.apply(null,d)})}},k=function(a){return a+"."},l=function(a,b){return b.replace(a,"")},m=function(a,b){return a===b},n=function(a,b){return b.charAt(0)[a]()+b.slice(1)},o=function(a,b){return[a,b,a].join("")},p=function(a,c){if(null!=a){if(0===c.length)return a;var d=b.first(c),e=b.rest(c),f="$"===d.charAt(0)?"prop":"get",g=function(a){return"get"===f?a:a.slice(1)};return d=null!=a[d]&&b.isFunction(a[d])?a[d]():null!=a[d]?a[d]:a[f]&&a[f](g(d)),p(d,e)}},q=function(a){return"{"===a.charAt(0)&&(a=JSON.parse(a)),a},r=function(a){return a.split("=").map(decodeURIComponent).map(q)},s=function(a){var b=a.keyCode,c=String.fromCharCode(b),e=[];return b>=48&&90>=b?e.push(c):(null!=d.keys[b]?e.push(d.keys[b]):e=e.concat(["#",b]),e.unshift("["),e.push("]")),a.altKey&&e.unshift("[ALT] + "),a.shiftKey&&e.unshift("[SHIFT] + "),a.ctrlKey&&e.unshift("[CTRL] + "),{LastKeyCodeString:e.join(""),LastKeyCode:b,LastKeyValue:c,LastKeyCtrl:a.ctrlKey,LastKeyShift:a.shiftKey,LastKeyAlt:a.altKey}},t={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(a,b){return p(a,b.split("."))},fix:function(a,b){return+a.toFixed(null!=b?b:f)},toSeconds:function(a){return a/1e3},toMilliseconds:function(a){return t.fix(1e3*a,0)},formatSecondsAsTime:function(a){var b,c=Math.floor(a/3600),d=Math.floor((a-3600*c)/60),e=Math.floor(a-3600*c-60*d),f=function(a){return 10>a?"0"+a:a};return d=f(d),e=f(e),b=[d,e],c>=1&&b.unshift(c),b.join(":")},hexify:function(a){return"#"+a.replace(/0x|#/,"")},opacify:function(a){return a/100},rgbify:function(a,b){var c=this.hexify(a).replace("#",""),d=parseInt(c,16),e=d>>16&255,f=d>>8&255,g=255&d,h=[e,f,g],i=null!=b,j="rgb"+(i?"a":"");return i&&h.push(b),[j,"(",h.join(","),")"].join("")},toRgba:function(a,b){return t.rgbify(a,t.opacify(b))},octToDec:function(a){return a/255},decToPct:function(a,b){var c=t.fix(100*a);return b?c+"%":c},stopPct:function(a){return t.decToPct(t.octToDec(a))},pctToDec:function(a,b){return t.fix(parseFloat(a)/100,b)},add:function(a,b){return(a||0)+(b||0)},sum:function(){return b.reduce(arguments,t.add,0)},upperCaseFirst:b.partial(n,"toUpperCase"),lowerCaseFirst:b.partial(n,"toLowerCase"),slice:b.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return i(d.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return i(d.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(a,b,c){return Math.max(Math.min(c,b),a)},isWithinRange:function(a,b,c){return c>=a&&b>=c},hasProp:function(a,b){if(null==a)return!1;for(var c,d=a,e=b.split(".");c=e.shift();){if(null==d[c])return!1;d=d[c]}return!0},not:function(a){return function(){return!a.apply(this,arguments)}},take:function(a,c,d){return function(){return c.apply(d,b.take(arguments,a))}},invertPercent:function(a){return 1-a},andify:b.partial(j,"every"),orify:b.partial(j,"some"),is:m,isTrue:b.partial(m,!0),isFalse:b.partial(m,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(a,b,c){return new a(c,b)},createSuper:function(a){return function(b){return a.prototype[b]}},cloneDeeply:function(a){return JSON.parse(JSON.stringify(a))},buildEventNamespace:function(a){return"."+g+(a||"")},namespaceEvent:function(a,b){return a+t.buildEventNamespace(b)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},hypot:function(a,b){return Math.sqrt(a*a+b*b)},dist:function(a,b,c,d){var e=a-c,f=b-d;return this.hypot(e,f)},degToRad:function(a){return a*d.math.TO_RADIANS},radToDeg:function(a){return a*d.math.TO_DEGREES},normalizeDeg:function(a){for(var b=a;0>b;)b+=360;return b%360},stripTags:function(a,c,d){var e=document.createElement("div"),f=d?["<",d,">"].join(""):"",g=f.replace("<","</");return e.innerHTML=a,c?b(e.querySelectorAll(c)).map(function(a){return[f,a.innerHTML,g].join("")}).join(""):e.textContent},stripTagsMobile:function(a,b,c){return e.isMobile?t.stripTags(a,b,c):a},camelCaseAttr:function(a,b){return a=b?a:a.toLowerCase(),a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},stripPlayer:b.partial(l,k(d.refs.PLAYER)),stripChoice:b.partial(l,k(d.refs.CHOICES)),stripStatement:b.partial(l,k(d.refs.STMTS)),prefixWithPlayer:function(a){return d.refs.PLAYER+"."+t.stripPlayer(a)},parseParams:function(a){return a=a||window.location.search.substr(1),b.object(a.split("&").map(function(a){return a.split("=")}))},applyMethod:function(a,c){var d=b.slice(arguments,2);return c=b.isArray(c)?c:[c],d.unshift(c,a),b.invoke.apply(b,d)},pxify:function(a){return[a,"px"].join("")},shallowEqual:function(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0},doubleQuote:b.partial(o,'"'),quote:b.partial(o,"'"),toCssUrl:function(a){return["url(",this.quote(a),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var a,c=this.getWindowSearch();return a=c.split("&"),b.zipObject(a.map(r))},rotatePoint:function(a,b,c,d,e){e=t.degToRad(e);var f=a-c,g=b-d,h=Math.cos(e),i=Math.sin(e);return{x:h*f-i*g+c,y:i*f+h*g+d}},pointInRect:function(a,b,c){var d=c[0][0],e=c[0][1],f=c[1][0],g=c[1][1];return a>=d&&f>=a&&b>=e&&g>=b},executeKeypressEvent:function(a,c){var e;b.contains(["CONTROL","SHIFT","ALT"],d.keys[c.keyCode])||(a.prop(s(c)),a.executePlayerEvent("onanykeypress")),a.executeFilteredPlayerEvent(function(a){return a.keycode===c.keyCode&&a.shift===c.shiftKey&&a.ctrl===c.ctrlKey&&a.alt===c.altKey},"onkeypress"),e=a.getClosestAncestor(function(a){return a.isSlideObject||a.isSlide}),e&&this.executeKeypressEvent(e,c)},clearLastKey:function(a){a.resetPropsExcept(b.difference(a.getPlayerProps().keys(),["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"]));var c=a.getClosestAncestor(function(a){return a.isSlideObject||a.isSlide});c&&this.clearLastKey(c)},showTimer:function(a,c){b(a.refs).pick(function(a,b){return 0===b.indexOf("timer")&&a!==c}).forOwn(function(a){a.onHide()}).value()},dateToString:function(a){if(null==a)return"";var b=["January","February","March","April","May","June","July","August","September","October","November","December"];return[b[a.getMonth()]," ",a.getDate(),", ",a.getFullYear()].join("")},timeToString:function(a){if(null==a)return"";var b=a.getHours(),c=a.getMinutes(),d="am";return 10>c&&(c="0"+c),b>12&&(b-=12,d="pm"),[b,":",c," ",d].join("")},parseUrl:function(a){var c=document.createElement("a");return c.href=a,b.pick(c,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(a){return h.test(a)},ellipsize:function(a,b){return null==a||a.length<=b?a:[a.substr(0,b),"…"].join("")},generateHash:function(a){var b,c,d=0,e=a.length;for(c=0;e>c;c++)b=a.charCodeAt(c),d=31*d+b,d|=0;return d}};return t}),define("helpers/vow",["require","jquery","lodash","helpers/utils"],function(a){"use strict";var b=a("jquery"),c=a("lodash"),d=a("helpers/utils"),e={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},f=function(a,b){return b.state()===a},g={Deferred:b.Deferred,when:b.when,after:function(){var a=new g.Deferred,b=d.slice(arguments),c=[],e=function(){return b.length===c.length},f=function(d){c.push(d),e()&&a.resolve.apply(a,b)};return b.length?b.forEach(function(a){a.always(function(){f(a)})}):a.resolve(),a.promise()},isPending:c.partial(f,e.PENDING),isResolved:c.partial(f,e.RESOLVED),isRejected:c.partial(f,e.REJECTED)};return g}),define("helpers/debug",["require","helpers/pubSub","helpers/vow"],function(a){"use strict";var b=a("helpers/pubSub"),c=(a("helpers/vow"),{initialize:function(a,b,c){this.debugMode=a.get("debugMode"),this.setGlobals(a,b,c)},setGlobals:function(a,b,c){this.debugMode&&(window.presentation=a,window.player=b,window.app=c)},throwError:function(){this.debugMode===!0&&b.trigger("player:error")}});return c}),define("helpers/errorManager",["require","lodash","helpers/debug"],function(a){"use strict";var b=a("lodash"),c=a("helpers/debug"),d=b.curry(function(a,c,d,e){var f=b.slice(arguments,3).join(" ");a([c,"::",d," - ",f].join(""))},4),e={throwFatal:d(function(a){throw new Error(a)}),throwError:d(function(a){var b=c.debugMode?"error":"warn";console[b](a),c.throwError()}),warn:d(function(a){console.warn(a)}),backtick:function(a){return["`",a,"`"].join("")}};return e}),define("helpers/mixer",["require","lodash","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=(c.throwError("mixer"),c.backtick,function(a,b){var c,d,f=e[a],g=b.mixins.slice(0);for(d=g.length;d--;)c=g[d],null!=c[a]&&c[a].call(b),null!=c[f]&&c[f].call(b);return this}),e={init:"componentWillMount"},f=["preInit","init","postInit"],g=b.partialRight(b.omit,f),h={mixInto:function(a,c){return b.defaults.apply(b,b(c).map(g).unshift(a).value()),a},mix:function(a){return this.mixInto(a,a.mixins),a}};return f.forEach(function(a){var c=a+"MixinsOf";h[c]=b.partial(d,a)}),h}),define("helpers/extend",["require","lodash","backbone","helpers/mixer"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/mixer"),e=b.partialRight(b.omit,"mixins"),f=c.Model.extend,g=function(a,c){var g;return a=a||{},b.isArray(a)||(a=[a]),a=a.filter(b.isPlainObject),g=b.extend.apply(b,a.map(e)),g.mixins=b(a).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(b.isPlainObject).uniq().value(),d.mix(g),f.call(this,g,c)};return"Model Collection View Router History".split(" ").forEach(function(a){c[a].extend=g}),g}),define("helpers/svg/svgUtils",["require","lodash","helpers/utils","helpers/constants","helpers/cssPrefix"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/constants"),e=a("helpers/cssPrefix"),f=d.XMLNS_XLINK,g=d.XMLNS,h=d.math.TWO_PI,i=function(a){return function(){return b.toArray(arguments).concat(a)}},j=function(a,c,d){var e,f=i(b.slice(arguments,3));return e=c.apply(null,f(d)),e=a.apply(null,f(f,c,e,d))},k=function(a,b,c,d){return null!=c&&c!==!1||!d.children||d.children.every(function(d){var e=a(b,d),f=n.getFromNodeConfig.apply(null,e);return null!=f&&f!==!1?(c=f,!1):!0}),c},l=function(a,c,d){return d.children&&!d.children.skipTraversal&&(d.children=d.children.map(function(d){
if(b.isString(d))return d;var e=a(c,d);return m.apply(null,e)})),d},m=b.partial(j,l),n={isNodeOfType:function(a,b){var c;return b&&(c=b.tagName||b.nodeType),c?a.toLowerCase()===c.toLowerCase():!1},svgPrefix:function(a){return[d.SVG_NODE_PREFIX,a].join(d.NODE_DELIMITER)},buildTransformFromConfigFn:function(a){var b=a.args.slice();return b.unshift(a.type),n.buildTransformFn.apply(this,b)},buildTransformFn:function(a){for(var c=arguments.length,d=new Array(c),e=0;c>e;++e)d[e]=arguments[e];return[a,"(",b.rest(d).join(", "),")"].join("")},buildTransformConfig:function(a){return{type:a,args:b.rest(arguments)}},applyTransformTo:function(a,b){return a.transform=[b],a},getTransformOf:function(a){return a.transform=a.transform||[],a.transform},transformNodeConfig:function(a,c){b.isFunction(a.beforeStart)&&a.beforeStart();var d=m.apply(null,arguments);return b.isFunction(a.afterFinish)&&(d=a.afterFinish(d)),d},getFromNodeConfig:b.partial(j,k),getFullSvgConfig:function(a,d,h){var i={height:d.fullHeight+Math.ceil(d.strokewidth/2),width:d.fullWidth+Math.ceil(d.strokewidth/2)},j={nodeType:"svg",xmlns:g,"xmlns:xlink":f,"data-xmlns-xlink":f,version:"1.1",baseprofile:"full",height:d.fullHeight,width:d.fullWidth,viewBox:[d.fullX,d.fullY,d.fullWidth,d.fullHeight].join(" "),children:[a],"data-commandset-id":h,"data-accepts":"events",ref:b.uniqueId("ref-")};return i[e.camelCase("transform")]=n.transformTranslate(c.pxify(d.fullX),c.pxify(d.fullY)),{nodeType:"div",className:"slideobject-maskable",style:i,children:[j]}},createSvgNode:function(a,b){var c=document.createElementNS(g,"svg");return c.setAttribute("width",a),c.setAttribute("height",b),c},getFirstTransformOfType:function(a,c){return b.find(c,{type:a})},buildUrl:function(a){return["url(#",a,")"].join("")},createElement:function(a){return document.createElementNS(g,a)},rectPath:function(a,b,c,d){var e=a+c,f=b+d;return["M",a,b,"L",e,b,e,f,a,f].join(" ")},ellipsePath:function(a,b,c,d){var e=2*c;return["M",a,b,"m",-c,0,"a",c,d,0,1,0,e,0,"a",c,d,0,1,0,-e,0].join(" ")},diamondPath:function(a,b,c,d){var e=c/2,f=d/2,g=e+a,h=f+b;return["M",g,b,"L",c+a,h,g,d+b,a,h].join(" ")},rightRoundedRectPath:function(a,b,c,d,e){return["M",a,b,"h",c-e,"a",e,e,"0 0 1",e,e,"v",d-2*e,"a",e,e,"0 0 1",-e,e,"h",e-c,"z"].join(" ")},wheelPath:function(a,b,d,e,f){if(!f)return"";e=c.degToRad(e),f=c.degToRad(f),f===h&&(f=h-1e-5);var g=f-e>Math.PI?1:0,i=c.fix(d*Math.cos(e),4),j=c.fix(d*Math.sin(e),4),k=c.fix(a+d*Math.cos(f),4),l=c.fix(b+d*Math.sin(f),4);return["M",a,b,"l",i,j,"A",d,d,0,g,1,k,l,"z"].join(" ")}};return n.getFirstTranslate=b.partial(n.getFirstTransformOfType,"translate"),n.getFirstRotate=b.partial(n.getFirstTransformOfType,"rotate"),n.getFirstScale=b.partial(n.getFirstTransformOfType,"scale"),n.buildTranslateConfig=b.partial(n.buildTransformConfig,"translate"),n.buildRotateConfig=b.partial(n.buildTransformConfig,"rotate"),n.buildScaleConfig=b.partial(n.buildTransformConfig,"scale"),n.isImageNode=b.partial(n.isNodeOfType,"image"),n.isPatternNode=b.partial(n.isNodeOfType,"pattern"),n.isDefsNode=b.partial(n.isNodeOfType,"defs"),n.isUseNode=b.partial(n.isNodeOfType,"use"),n.isPathNode=b.partial(n.isNodeOfType,"path"),n.isTextNode=b.partial(n.isNodeOfType,"text"),n.isTspanNode=b.partial(n.isNodeOfType,"tspan"),n.transformScale=b.partial(n.buildTransformFn,"scale"),n.transformRotate=b.partial(n.buildTransformFn,"rotate"),n.transformTranslate=b.partial(n.buildTransformFn,"translate"),n.transformTranslateX=b.partial(n.buildTransformFn,"translateX"),n.scaleFromCenter=function(a,b){return null==b&&(b=a),[n.transformTranslate(.5,.5),n.transformScale(a,b),n.transformTranslate(-.5,-.5)].join(" ")},n.getDefsNode=b.partial(n.getFromNodeConfig,function(a){return n.isDefsNode(a)?a:void 0}),n}),define("helpers/scaler",["require","lodash","helpers/svg/svgUtils","polyfills/detection","helpers/pubSub"],function(a){"use strict";var b,c=a("lodash"),d=(a("helpers/svg/svgUtils"),a("polyfills/detection")),e=a("helpers/pubSub"),f={initialize:function(){"show all"!==window.globals.scale||d.isMobile?window.addEventListener("resize",c.throttle(this.sendWindowScale.bind(this),16)):this.startScaling()},sendWindowScale:function(){e.trigger("window:scale")},startScaling:function(){b=document.getElementById("presentation"),this.scale(),window.addEventListener("resize",c.throttle(this.scale.bind(this),16))},scale:function(){var a=this.getWindowDimensions(),c=a.height,d=a.width,e=b.scrollHeight,f=b.scrollWidth,g=c/e,h=d/f,i=Math.min(g,h);this.scaleValue=i,this.sendWindowScale()},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return f}),define("views/helpers/dom",["require","lodash","helpers/utils","helpers/scaler","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/scaler"),e=a("helpers/constants"),f=function(a,c,d,e){return a.addEventListener(c,d,!!e),b.partial(g,a,c,d)},g=function(a,b,c){a.removeEventListener(b,c)},h=function(a){return 1===a.nodeType},i=function(a,b,d){var e=[];for(b=b||c.alwaysTrue;a&&h(a)&&(e.push(a),null==d||!d(a));)a=a.parentNode;return e.slice(1).filter(b)},j=function(a){return o(a,"slide-object")},k=function(a){return B.closest(a,function(a){return B.hasClass(a,"slide")})},l=function(a,b,d){return b=b||c.alwaysTrue,b(a)?a:i(a,b,d)[0]},m=function(a,b){return b.tagName.toLowerCase()===a.toLowerCase()},n=function(a){return o(a,"svg-icon-wrapper")},o=function(a,b){var c,d;return null!=a.classList?a.classList.contains(b):(d=a.className.baseVal||a.className,c=new RegExp("\\b"+b+"\\b"),c.test(d))},p=function(a,c){return b.forOwn(c,function(b,c){a.style[c]=b}),a},q=function(a,c){return b.forOwn(c,function(b,c){a.setAttribute(c,b)}),a},r=function(a,b){var c=b.getBoundingClientRect(),d=a.getBoundingClientRect(),e=c.top-d.top+a.scrollTop;return d.top>c.top||d.bottom<c.bottom?e:0},s=function(a,e,f,g){var h=b.isFinite(f)?e.length>f:!1,i=a.getBoundingClientRect().width/(d.getScale()||1),j=i,k=0,l=j/e.length;g=g||0,b(e).map(function(a,b){a.style.width="";var c=a.getBoundingClientRect().width+g;return k+=c,{el:a,width:c}}).sortBy("width").forEach(function(a,b){var d=b+1,f=Math.min(a.width,l);k>i?(a.el.style.width=c.pxify(f-g),j-=f,l=j/(e.length-d)):h&&(a.el.style.width=c.pxify(a.width+(j-k)/e.length))}).value()},t=function(a){return m("input",a)||m("textarea",a)},u=function(a,c,d){var e=["<",a];return c&&b.isPlainObject(c)&&b.forOwn(c,function(a,b){e.push(" ",b,'="',a,'"')},e),e.push(d===!0||c===!0?" />":">"),e.join("")},v=function(a){return u(a).replace("<","</")},w=function(a,b,c){return a.classList.add(b),setTimeout(function(){a.classList.remove(b)},c)},x=function(a,c){var d=document.createEvent("Event");return d.initEvent(a,!0,!0),b.defaults(d,c),d},y=function(a,b,c){if(c=c||{ignoreDisabled:!0},null!=a){var d=x(b);return c.ignoreDisabled&&a.disabled||a.dispatchEvent(d),d}},z=b.partialRight(w,"button-tapped",e.MOBILE_ANIMATION_DURATION),A=function(){try{for(var a,b,c=window.parent.document.getElementsByTagName("iframe"),d=c.length,e=0;d>e;e++)if(a=c[e],b=a.contentDocument,b===document)return a}catch(f){}},B={on:f,off:g,parentNodesOf:i,closest:l,isNodeOfType:m,isInput:t,isLink:b.partial(m,"a"),isVideoNode:b.partial(m,"video"),isIconNode:n,isSlideObject:j,setAttributes:q,setStyles:p,getScrollRecommendation:r,resizeToFit:s,hasClass:o,writeNode:u,writeCloseNode:v,tappedClass:z,trigger:y,getParentFrame:A,isWithinSlide:k};return B.mouseX=0,B.mouseY=0,document.body.addEventListener("mousemove",function(a){B.mouseX=a.pageX,B.mouseY=a.pageY}),document.body.addEventListener("touchstart",function(a){a.touches&&a.touches.length>0&&(B.mouseX=a.touches[0].pageX,B.mouseY=a.touches[0].pageY)},!0),B}),define("views/events/mouseEvents",["require"],function(a){"use strict";var b={};return b}),define("helpers/slideObjectUtils",["require","lodash","views/helpers/dom","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=a("polyfills/detection"),e=b.partialRight(c.hasClass,"draggable"),f=b.partialRight(c.hasClass,"hidden"),g=b.partialRight(c.hasClass,"rotatable"),h=b.partialRight(c.hasClass,"slideable-parent"),i=function(a){return c.hasClass(a,"is-scrollable")||c.hasClass(a,"scrollarea-scrollbar")},j=function(a,b){return b(a)?!0:!!c.closest(a,b)},k=function(a){return a.scrollHeight>a.offsetHeight||c.hasClass(a,"scrollarea-scrollbar")},l=function(a){return a.hasAttribute("data-double-click")},m=b.partialRight(j,function(a){return i(a)&&k(a)}),n=function(a){return l(a)||j(a,l)},o=function(a){return i(a)?k(a):m(a)},p=b.partialRight(j,function(a){return g(a)}),q=b.partialRight(j,function(a){return f(a)}),r=b.partialRight(j,function(a){return e(a)}),s=b.partialRight(j,function(a){return h(a)}),t=function(a){return c.hasClass(a,"eventable")},u=b.partialRight(j,function(a){return t(a)}),v=function(a,c){d.isMobile&&(0===b.get(a,"length",0)?document.body.classList.add(c):document.body.classList.remove(c))},w=function(a){return d.isMobile&&!a.props.isMessageWindow},x=function(a,b){var c,d;return a.objects().forEach(function(a,e){var f,g=null!=b?b.refs["obj"+e]:a.currView,h=g.getFocusTarget();null!=h&&(f=h.props.model.prop("tabIndex"),h.isFocusable()&&h.isVisible()&&(null==d||d>f)&&(d=f,c=g))}),c},y=function(a){var b,c=a.props.parent;if(!d.isMobile)return b=c.isFocusable()?c:x(a.props.model,a)},z=function(){var a=c.getParentFrame();null!=a&&a.classList.remove("webobject-engage")},A={isRelated:j,needsToScroll:k,isScrollable:i,isScrollRelated:o,isDraggable:e,isDraggableRelated:r,isEventable:t,isEventableRelated:u,isRotatable:g,isRotatableRelated:p,isSlideableRelated:s,isDoubleClickRelated:n,activeMobileMenuItem:v,isMobileSlide:w,getGroupFocusTarget:y,removeEngageBorder:z,getChildAtLowestTabIndex:x,isHiddenRelated:q};return A}),function(){function a(a,b){a.prototype[b]=function(){var a=arguments.length?"set":"get",c=e.call(arguments);return c.unshift(b),this[a].apply(this,c)}}var b=this,c=b.Backbone;c||"undefined"==typeof require||(c=require("backbone"));var d="shorthand",e=Array.prototype.slice;c.Model.shorthandify=function(b){if(b=b||this.prototype[d],!b)return this;"string"==typeof b&&(b=[b]);for(var c=0,e=b.length;e>c;c++)a(this,b[c]);return this},"undefined"!=typeof exports&&(exports.shorthandify=c.Model.shorthandify)}(),define("shorthand",["backbone"],function(){}),define("mixins/subscribable",["require","lodash","helpers/pubSub","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("helpers/errorManager"),e=d.throwError("subscribable"),f={componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){this.resetSubscriptions();for(var a in this.subscriptions)this.subscriptions.hasOwnProperty(a)&&this.addSubscription(a,this.subscriptions[a]);return this},addSubscription:function(a,d){return b.isFunction(this[d])||e("addSubscription","this."+d,"is not a defined callback."),this.addSubscribedEvent(a).listenTo(c,a,this[d]),this},addSubscribedEvent:function(a){return this.subscribedEvents.push(a),this},removeSubscriptions:function(){return b.each(b.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(a,b){var d=this.subscribedEvents.indexOf(a);return this.stopListening(c,a,this[b]),d>-1&&this.subscribedEvents.splice(d,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}};return f}),define("mixins/ancestral",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=function(a,c){return b.contains(b.values(c.associations),a)},d={isAncestral:!0,createParentReference:function(a){return a&&a.parent&&(this.parent=a.parent),this},getClosestAncestor:function(a,b){for(var c=b?this:this.parent;c&&!a(c);)c=c.parent;return c},getClosestAncestorWithAssoc:function(a){var d=b.partial(c,a);return this.getClosestAncestor(d)},getClosestAncestorByAttr:function(a,b,c){var d=function(c){return c.get(a)===b};return this.getClosestAncestor(d,c)},forEachAncestor:function(a,b){for(var c=b?this:this.parent,d=0;null!=c;){if(a(c,d++)===!1)return;c=c.parent}}};return d.getClosestAncestorByKind=b.partial(d.getClosestAncestorByAttr,"kind"),d}),define("helpers/resolver",["require","lodash","helpers/errorManager","helpers/constants"],function(a){"use strict";var b={};b.string=b.object=b["boolean"]=function(a){return a},b.num=b.number=function(a){return parseFloat(a)},b["var"]=b.variable=function(a,b){var c=this.resolvePath(a,b,{optional:!0});return null!=c?c.value():c},b.property=function(a,b){return this.resolvePath(a,b,{optional:!0})},b.drawid=function(a,b){return this.resolvePath(a,b,{optional:!0})},b.param=function(a,b,c){return this.getRef(c.params[a],b,c)},b.valueref=function(a,b,c){return this.getRef(d.findWhere(c.iterables,{name:a}),b,c)},b.actparam=function(a,b,c){return c[a]},b["default"]=function(a,b){return this.getRef(a,b)};var c,d=a("lodash"),e=a("helpers/errorManager"),f=a("helpers/constants"),g=e.throwError("resolver"),h=g("resolvePath"),i=g("getRef"),j=g("findReference"),k=/\$/,l=/\#/,m=/\$/g,n=/\#/g,o=/^\$/,p=/^\#/,q=new RegExp("^"+f.refs.PLAYER),r=function(a,b){return d.has(b.resolvers,a)},s=function(a,b){return a.prop&&a.hasOwnPlayerProp(t(b))},t=function(a){return a.replace(k,"")},u=function(a){return a.replace(l,"")},v=function(a){return k.test(a)},w=function(a){return l.test(a)},x=function(a){return a.split(f.PATH_DELIMITER)},y=function(a){return a.join(f.PATH_DELIMITER)},z=function(a){return!q.test(a)},A=function(a,b){var c;return d.find(a.resolveables,function(d){var e=a.get(d);return e?(c=e.isCollection?e.get(b):e.id===b?e:e[b],!c&&r(d,a)&&(c=a.resolvers[d].call(a,b,e)),c):!1},a),c},B=function(a){return p.test(a)&&-1!==a.indexOf(".")},C=function(a){return o.test(a)&&-1!==a.indexOf(".")},D=function(a,b){var c,d,e="$"===b?m:n;return c=a.replace(e,"").split("."),d=b+c.pop(),c.push(d),c.join(".")},E=d.partialRight(D,"$"),F=d.partialRight(D,"#"),G={initialize:function(a){c=a},getPresentationContext:function(){return c},resolvePath:function(a,b,c){return a?(B(a)?a=F(a):C(a)&&(a=E(a)),c=c||{},b&&d.isPlainObject(b)&&(c=b,b=void 0),this.resolvePathArray(x(a),b,c)):void h("Must provide a path to resolve")},resolvePathArray:function(a,b,e){var g=a.shift();switch(g){case f.refs.PLAYER:b=c;break;case f.refs.PLAYER_VARS:b=c.playerVars();break;case f.refs.PARENT:b=b.getClosestParentRef();break;case f.refs.CHILDREN:b=b.getChildren();break;case f.refs.SELF:b=b.getClosestThisRef();break;default:b=G.findReference(g,b)}return null==b?e.optional?void 0:void h("Path did not resolve at:",g):a.length?d.isArray(b)?d(b).map(function(b){var c=a.slice();return G.resolvePathArray(c,b,{optional:!0})}).compact().value():G.resolvePathArray(a,b,e):b},findReference:function(a,b){if(!a)return void j("Cannot find a reference with no ID");if(!b)return void j("Context must be defined.");var c,d,e;return b.isCollection&&b.get(a)?b.get(a):v(a)?b.prop(t(a)):w(a)?(e=u(a),b.getVariableProp&&(d=b.getVariableProp(e))?d.value():b.variables().get(u(a))):b.isModel||null==b[a]?(c=A(b,a),c?c:b.id===a?b:s(b,a)?b.prop(a):void 0):b[a]},getRef:function(a,c,d){if(!a)return void i("No reference passed in");if(!a.type)return void i("Type is undefined for the provided reference");var e=b[a.type]||b["default"];return e.call(this,a.value,c,d)}},H=function(a,b){var c,e,f;return a=a.split("."),c=d.first(a.splice(0,1)),f=a.some(function(a){return c+="."+a,e=G.resolvePath(c),b(e)}),f?e:null};return G.normalizePropRef=t,G.isPropRef=v,G.splitPath=x,G.joinPath=y,G.isRelativePath=z,G.resolveAbsolutePathWithFilter=H,G}),define("mixins/resolveable",["require","lodash","mixins/ancestral","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("mixins/ancestral"),d=a("helpers/resolver"),e=c.getClosestAncestor,f=function(a){return a.abilities.resolveAsThis},g=function(a){return a.abilities.resolveAsParent},h=function(a){return a.abilities.beEventTarget},i={resolvePath:function(a){return d.resolvePath(a,this.getClosestThisRef())},getClosestParentRef:b.partial(e,g),getClosestThisRef:b.partial(e,f,!0),getClosestEventTarget:b.partial(e,h,!0),getChildren:function(){return this.objects().slice()}};return i}),define("mixins/shortEventable",["require","lodash","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=c.warn("shortEventable"),e=d("bindShortEvents"),f=c.backtick,g="Cannot listen to undefined object",h=function(a,c){return b.mapValues(c,function(b){return a[b]})},i=function(a,c){var d=a[c];return d?b.isFunction(d)?d.call(a):d:a.get?a.get(c):a.props&&a.props[c]},j={componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var a,b,c,d,j=Object.keys(this.shortEvents||{}),k=j.length;for(d=0;k>d;d++){if(a=j[d],b="self"===a?this:i(this,a),c=h(this,this.shortEvents[a]),!b)return void e(g,f(a));this.listenTo(b,c)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}};return j}),define("models/BaseModel",["require","shorthand","backbone","lodash","helpers/errorManager","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer","helpers/utils"],function(a){"use strict";a("shorthand");var b=a("backbone"),c=a("lodash"),d=a("helpers/errorManager"),e=a("mixins/subscribable"),f=a("mixins/resolveable"),g=a("mixins/ancestral"),h=a("mixins/shortEventable"),i=a("helpers/mixer"),j=a("helpers/utils"),k=d.throwError("BaseModel"),l=function(){},m=j.createSuper(b.Model),n=b.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[e,f,g,h],autoParse:!1,isModel:!0,constructor:function(a,d){c.bindAll(this,"createAbsoluteId");var e=this.initialize;this.initialize=l,this.autoParse&&(d=d||{},d.parse=!0),b.Model.call(this,a,d),this.createParentReference(d).buildAssociations().bindAssociations().createAbsoluteId(),i.initMixinsOf(this),this.initialize=e,this.initialize.apply(this,arguments),i.postInitMixinsOf(this)},index:function(){return this.collection||k("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(a){return this.collection||k("sibling","must have a `collection` defined"),a=a||0,this.collection.at(this.index()+a)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(a){return j.isTrue(a)?j.cloneDeeply(this):m("toJSON").call(this)},buildAssociations:function(a){for(var b in this.associations)this.associations.hasOwnProperty(b)&&this.buildAssociation(b);return this},buildAssociation:function(a,b){var c=b||this.get(a),d={parent:this},e=this.associations[a];return c instanceof e||(this.attributes[a]=j.buildDataStructure(e,d,c)),this},bindAssociation:function(a){return this.on("change:"+a,function(b,d,e){var f=this.previous(a);c.isFunction(f.set)?(f.set(d,{parent:this}),f.trigger("data:updated"),f.isCollection&&f.invoke("trigger","data:updated"),this.set(a,f,{silent:!0})):this.buildAssociation(a,d)}),this},bindAssociations:function(){for(var a in this.associations)this.associations.hasOwnProperty(a)&&this.bindAssociation(a);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var a=this,b=[this.id];a=a.parent;)a.id&&b.push(a.id);return b.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId(),this.on("data:updated",this.createAbsoluteId)},isType:function(a){return this.get("type")===a},isKind:function(a){return this.get("kind")===a}});n.addAssociation=function(a,b){this.prototype.associations.hasOwnProperty(a)||(this.prototype.associations[a]=b,this.shorthandify(a))};var o=n.extend;return n.extend=function(){var a=o.apply(this,arguments);return a.prototype.associations=c.extend({},a.prototype.associations,this.prototype.associations),a.shorthandify().shorthandify(c.keys(a.prototype.associations)),a},n}),define("helpers/appState",["require","lodash","helpers/constants","helpers/vow","models/BaseModel"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("helpers/vow"),e=a("models/BaseModel"),f=e.extend({shorthand:["currentLayout","currentScheme","currentVolume"],subscriptions:{"app:complete":"onAppComplete","controllayout:changed":"onLayoutChanged","scheme:changed":"onSchemeChanged","volume:changed":"onVolumeChanged","volume:toggle":"onToggleVolume"},initialize:function(){this.appCompleteDfd=new d.Deferred,this.onVolumeChanged(c.DEFAULT_VOLUME)},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(b.toArray(arguments).reduce(function(a,b){return a[b]=null,a},{})),this},onLayoutChanged:function(a,b){this.currentLayout(a),this.trigger("layout:changed",this,a,b)},onSchemeChanged:function(a){this.currentScheme(a)},onVolumeChanged:function(a){this.volumeToggle=!1,this.currentVolume(a)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle,this.currentVolume(this.volumeToggle?0:this.lastVolume)}});return new f}),define("views/events/touchHelper",["require","lodash","views/helpers/dom","helpers/slideObjectUtils","polyfills/detection","helpers/appState","helpers/utils"],function(a){var b=a("lodash"),c=a("views/helpers/dom"),d=a("helpers/slideObjectUtils"),e=a("polyfills/detection"),f=a("helpers/appState"),g=a("helpers/utils"),h={},i=10,j=["touchstart","touchmove","touchend","touchcancel"],k={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(a){return e.isMobile?k[a]:a};document.addEventListener("touchstart",function(a){1===a.touches.length?h.currentTouch=a.touches[0]:a.preventDefault()},!0);var m=function(a){return b.any(a.changedTouches,function(a){return a.id===h.currentTouch.id})},n=function(a,b){return function(e){e.touches&&e.touches.length>1||(m(e)&&a(e),!b||c.isInput(e.target)||d.isScrollRelated(e.target)||e.preventDefault())}},o=function(a,b,c,d){var e,f=n(function(a){e=a.target,e.addEventListener(b,c,d),e.addEventListener("touchend",g)}),g=function(){e&&(e.removeEventListener(b,c,d),e.removeEventListener("touchend",g))},h=function(){a.removeEventListener("touchstart",f),g()};return a.addEventListener("touchstart",f),h};h.on=function(a,b,c,d,e){var f="touchstart"===b,g=n(c,e!==!1);return f?(a.addEventListener(b,g,d),function(){a.removeEventListener(b,g,d)}):o(a,b,g,d)},h.isTouchEventName=function(a){return b.contains(j,a)},h.addEventListener=function(a,b,c,d){a.addEventListener(l(b),c,!!d)},h.removeEventListener=function(a,b,c){a.removeEventListener(l(b),c)},h.getPageLoc=function(a){var b={};return a.touches&&1===a.touches.length?(b.pageX=a.touches[0].pageX,b.pageY=a.touches[0].pageY):(b.pageX=a.pageX,b.pageY=a.pageY),b};var p=function(a){this.started=!0,this.touchX=a.touches[0].pageX,this.touchY=a.touches[0].pageY,this.currTouchX=a.touches[0].pageX,this.currTouchY=a.touches[0].pageY,this.startScale=f.windowManager.getCurrentWindowSlide().currView.pinch.zoom},q=function(a){a.touches&&1===a.touches.length&&(this.currTouchX=a.touches[0].pageX,this.currTouchY=a.touches[0].pageY)},r=function(a){var b,c=f.windowManager.getCurrentWindowSlide().currView.pinch.zoom;this.started&&this.startScale===c&&(b=g.dist(this.touchX,this.touchY,this.currTouchX,this.currTouchY),this.started=!1,i>b&&this.callback())};return h.tap=function(a,b,c){var d={callback:c};b.addEventListener("touchstart",p.bind(d)),document.addEventListener("touchmove",q.bind(d)),b.addEventListener("touchend",r.bind(d))},h}),define("views/events/eventHelper",["require","lodash","views/helpers/dom","views/events/mouseEvents","views/events/touchHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=a("views/events/mouseEvents"),e=a("views/events/touchHelper"),f=function(a,b){d[a]=b(g(a))},g=function(a){return function(d,f,g,h,i,j){var k={type:a,node:d},l=function(a){var c=g?g(a):!0;c&&h(b.extend({},k,c,{origEvent:a}))};return e.isTouchEventName(f)?e.on(d,f,l,i,j):c.on(d,f,l,i)}},h=function(a){return a instanceof window.SVGElement&&"svg"!==a.tagName},i=function(a){return h(a.target)},j=function(a){return c.isVideoNode(a.target)},k=function(a){return 1===a.which},l=function(a){return 3===a.which},m=function(a){return a&&null!=a.getAttribute&&"events"===a.getAttribute("data-accepts")},n=function(a,b){return m(a.target.ownerSVGElement)||!!c.closest(a.target,m,b)},o=function(a){return["click","mouseup","mousedown"].indexOf(a.type)>=0&&(null==a.pageX||0===a.pageX)&&(null==a.pageY||0===a.pageY)};return{registerEvent:f,on:c.on,off:c.off,parentNodesOf:c.parentNodesOf,isNodeSvgEl:h,isTgtSvgEl:i,isTgtVideoEl:j,isLeftMouseBtn:k,isRightMouseBtn:l,doesEventTargetAcceptEvents:n,isSpacebarClick:o}}),define("helpers/tabFocusBox",["require","lodash","views/helpers/dom","helpers/utils","helpers/pubSub","helpers/appState","helpers/scaler","polyfills/detection","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=a("helpers/utils"),e=(a("helpers/pubSub"),a("helpers/appState")),f=a("helpers/scaler"),g=(a("polyfills/detection"),a("helpers/errorManager")),h=4,i=1.2,j={tryToSelect:function(a,b){var c=a.querySelector(b);return null==c&&g.throwError("tabFocusBox","invalid focus rule selector: ",b),c},focusRuleConfig:{VectorSlideObject:function(a){return j.tryToSelect(a,"svg g")},ImageSlideObject:function(a){return j.tryToSelect(a,"img")},VideoSlideObject:function(a){return j.tryToSelect(a,".video-slide-object")},ResourcesList:function(a){return a.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(a){"SlideObject"===a.displayName&&(a.props.model.forEachAncestor(function(c){"SlideObject"===b.get(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(c,"hidden",k),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",k)),(c.isSlideObject||c.isSlideLayer)&&a.listenTo(c,{hidden:k})}.bind(this)),a.listenTo(a.props.model,{hidden:k}))},show:function(a){null!=a&&(this.update(a),this.listenForHide(a),this.lastItemFocused=a)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl?this.borderEl:(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),c.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999}),this.borderEl)},slideObjectShouldUseCss:function(a){return"TextInputSlideObject"===b.get(a,"refs.innard.displayName")||a.decorators&&null!=a.decorators.slideable},domElShouldUseCss:function(a){return a.parentNode&&c.hasClass(a.parentNode,"search-clear")||c.hasClass(a,"lightbox-close-btn")||c.closest(a,function(a){return c.hasClass(a,"lightbox")})},update:function(a){var g,i,j,k,l,m,n,o,p,q=this.getOrCreateBorder(),r=0,s=0,t=1,u={left:0,top:0},v=this.defaultOffsets,w=0;if(null!=a.displayName){if(v=this.focusOffsetConfig[a.displayName]||this.defaultOffsets,r+=v.x,s+=v.y,this.slideObjectShouldUseCss(a))return void this.hide();g=a.el,n=null!=b.get(a,"refs.innard")?a.refs.innard.displayName:a.displayName,g=(this.focusRuleConfig[n]||b.identity)(g)}else{if(this.domElShouldUseCss(a))return void this.hide();g=a}j=g.getBoundingClientRect(),k=c.isWithinSlide(g),k?(m=e.windowManager.getCurrentWindow().getCurSlide(),i=m.el,u=i.getBoundingClientRect(),w=h,t=m.props.model.getScene().isMessageScene()?1:m.props.model.calculateTotalScale(),i.querySelector(".slide-top-container-main").appendChild(q)):(o=document.querySelector("#app-top-container"),o.appendChild(q),u=o.getBoundingClientRect(),t=1/(f.getScale()||1)),0!==j.width&&0!==j.height?(l=2*w,p=b.mapValues(this.constrainToSlide(k,m,{left:(j.left-u.left)*t+r-w,top:(j.top-u.top)*t+s-w,width:j.width*t+l+v.width,height:j.height*t+l+v.height}),d.pxify),p.display="block",c.setStyles(q,p),this.isShown=!0):this.hide()},constrainToSlide:function(a,b,c){var d,e,f,g;return a&&(d=c.left+c.width-b.props.model.get("width"),g=c.top+c.height-b.props.model.get("height"),e=c.left,f=c.top,d>0&&(c.width-=d-i),g>0&&(c.height-=g-i),0>e&&(c.width+=c.left,c.left=-i),0>f&&(c.height+=c.top,c.top=-i)),c}},k=j.onAncestorHidden.bind(j);return j}),define("helpers/keyManager",["require","lodash","react","react-dom","helpers/utils","helpers/constants","views/helpers/dom","helpers/pubSub","views/events/eventHelper","helpers/errorManager","helpers/tabFocusBox","helpers/slideObjectUtils"],function(a){"use strict";var b,c,d=a("lodash"),e=(a("react"),a("react-dom")),f=a("helpers/utils"),g=a("helpers/constants"),h=a("views/helpers/dom"),i=a("helpers/pubSub"),j=a("views/events/eventHelper"),k=a("helpers/errorManager"),l=a("helpers/tabFocusBox"),m=a("helpers/slideObjectUtils"),n=k.warn("keyManager"),o=k.throwError("keyManager"),p=function(a,b){return a.idx-b.idx},q=function(){var a=document.activeElement,b=a.nodeName.toLowerCase(),c=a.type&&a.type.toLowerCase();return"textarea"===b||"input"===b&&("text"===c||"number"===c||"search"===c)},r=function(){return w.keys.SPACE||w.keys.ENTER},s=function(){return w.keys.UP||w.keys.DOWN||w.keys.LEFT||w.keys.RIGHT},t=function(){return w.keys.LEFT||w.keys.DOWN},u=g.keys,v={mainWindow:{windowId:"mainWindow",slide:[],player:[]}};i.once("player:menuOptions",function(a){c=a.get("flow")});var w={currentIndex:-1,currentWindow:v.mainWindow,tabIndexTable:{},initialize:function(a){var c=a.getCurrentWindow(),e=f.getPath(c,"props.model.id");this.keys={},b=a,d.bindAll(this,"prepare","removeWindow","addWindow","onSlideChanged","enableControlsKeyShortcuts"),i.on({"app:complete":this.prepare,"window:closed":this.removeWindow,"window:created":this.addWindow,"slide:started":this.onSlideChanged,"player:enableKeyboardShortcuts":this.enableControlsKeyShortcuts,"slide:willChange":this.onSlideWillChange}),this.currentWindow=v[e||"mainWindow"],this.tabIndexTable=this.currentWindow.tabIndexTable={Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]}},holdFocusBox:function(){if(l.isShown){var a=d.get(this,"lastCurrentItem.el")||this.lastCurrentItem;null==a||h.isWithinSlide(a)?this.unsetCurrentItemAndFocus():window.requestAnimationFrame(function(){return m.isHiddenRelated(a)?void this.unsetCurrentItemAndFocus():void this.currentWindow.tabbables.forEach(function(a){a===this.lastCurrentItem&&(this.focusItem(a),l.show(a))}.bind(this))}.bind(this))}},onSlideChanged:function(a){this.holdFocusBox()},onSlideWillChange:function(){null!=document.activeElement&&d.isFunction(document.activeElement.blur)&&document.activeElement.blur()},onHideFocusBox:function(a){j.isSpacebarClick(a)||l.hide()},updateKeyMap:function(a,b){var c=String.fromCharCode(a.which);null!=u[a.which]?this.keys[u[a.which]]=b:this.keys[c]=b,this.keys.keyCode=a.which},prepare:function(){document.body.addEventListener("keydown",this.checkKeyEvent.bind(this)),document.body.addEventListener("keyup",this.fixKeyUp.bind(this)),document.body.addEventListener("mousedown",this.clearTab.bind(this)),document.body.addEventListener("click",this.onHideFocusBox.bind(this))},getInnardOfCurrentItem:function(){return d.get(this,"currentItem.refs.innard")},checkKeyEvent:function(a){var c,e,g=!0,h=b.getCurrentWindowSlide();if(this.currSlide=h,this.updateKeyMap(a,!0),this.lastShift=a.shiftKey,a.metaKey!==!1||q()||a.preventDefault(),this.keys.TAB){if(e=this.getInnardOfCurrentItem(),null!=d.get(e,"exitStealTab")&&e.exitStealTab(e,a.shiftKey))return void this.delayCheckKeyUp(a);if(null!=d.get(e,"stealTab"))return e.stealTab(this.currentItem,a.shiftKey),void this.delayCheckKeyUp(a);this.changeFocus(a.shiftKey),l.show(this.currentItem),a.preventDefault();
}this.shouldTriggerFrameControl(a)&&i.trigger("keyManager:frameControlKey",this.keys),null!=this.currentItem&&r()&&(g=!this.getCurrentFocusController().onActionKey(this.currentItem,this.keys.ENTER)),g&&null!=this.currentItem&&s()&&(g=!this.getCurrentFocusController().onTreeKey(this.currentItem,t(),this.keys)),null==this.currentItem||this.currentItem instanceof window.Node||(c=this.currentItem.props.model,c&&c.isSlideObject&&(f.executeKeypressEvent(this.currentItem.props.model,a),this.lastKeyPressTarget=c)),h===b.getCurrentWindowSlide()&&null!==h&&(null==this.currentItem||c&&c.isSlideObject)&&(f.executeKeypressEvent(h,a),this.lastKeyPressTarget=h),this.delayCheckKeyUp(a)},delayCheckKeyUp:function(a){window.requestAnimationFrame(function(){this.checkKeyUpEvent(a)}.bind(this))},fixKeyUp:function(a){return"SPACE"===u[a.keyCode]?(a.preventDefault(),a.returnValue=!1,!1):void 0},clearTab:function(a){null==this.currentItem||null!=a&&!j.isSpacebarClick(a)||(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},clearCurrentItem:function(a){this.currentItem&&(d.contains(this.currentWindow.slide,this.currentItem)||a)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},reset:function(){this.currentIndex=-1,this.focusNextItem()},clearSlide:function(a,b){b=b&&f.stripPlayer(b),null==b||"_current"===b||b===this.currentWindow.windowId?(this.clearCurrentItem(!1),this.currentWindow.slide=[]):(v[b]={windowId:b,slide:[],player:[]},this.currentWindow=v[b],this.tabIndexTable=this.currentWindow.tabIndexTable),this.currentIndex=-1,this.onBuildComplete()},getWindowId:function(a){return null!=a.props.model?a.props.model.id:"mainWindow"},addWindow:function(a){var b=this.getWindowId(a);v[b]=v[b]||{windowId:b,slide:[],player:[]},this.tabIndexTable=v[b].tabIndexTable||{Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]},this.currentWindow=v[b]},removeWindow:function(a){var c=this.getWindowId(a);this.clearTab(),v[c]=null,this.currentWindow=v[this.getWindowId(b.getCurrentWindow())],this.tabIndexTable=this.currentWindow.tabIndexTable,this.currentIndex=-1},addItem:function(a,b,c,d){var e,f=b?this.currentWindow.player:this.currentWindow.slide,g=a.idx,h=a.indexGroupName;null!=c&&(null==f[c]&&(f[c]=[]),f=f[c]),b?(h||(h=a.displayName),h&&this.tabIndexTable[h]&&(e=this.tabIndexTable[h],e.push(a)),this.onBuildComplete()):null==f[g]||d?f[g]=a:o("addItem","Already added an item with a tabindex of ",g)},removeItem:function(a,b,c){var d,e,f,g,h=a.idx;d=null!=c?this.currentWindow.slide[c]:b?this.currentWindow.player:this.currentWindow.slide,null!=d&&(d[h]===a?d[h]=null:(e=a.indexGroupName,null!=e&&this.tabIndexTable[e]&&(f=this.tabIndexTable[e],g=f.indexOf(a),-1!==g&&(f.splice(g,1),this.onBuildComplete())))),null!=c&&null!=this.currentWindow[c]&&0===this.currentWindow[c].length&&(this.currentWindow.slide[c]=null)},moveFocusObject:function(a,b){var c,e=this.tabIndexTable[a.indexGroupName],f=d.find(e,a),g=d.find(e,{idx:b});e=d.without(e,f),c=d.indexOf(e,g),e.splice(c,0,f),this.tabIndexTable[a.indexGroupName]=e,this.onBuildComplete()},onBuildComplete:function(){this.currentWindow.player=this.tabIndexTable.SlideControlButton.concat(this.tabIndexTable.Presenter).concat(this.tabIndexTable.SidebarTab).concat(this.tabIndexTable.TopTabsItem).concat(this.tabIndexTable.PlayerControlButton.sort(p)),this.currentWindow.tabbables=this.currentWindow.slide.reduce(function(a,b,c){var e=d.isArray(b)?d.compact(b):[b];return a.concat(e)}.bind(this),[]).concat(this.currentWindow.player),this.currentWindow.tabIndexTable=this.tabIndexTable},changeFocus:function(a){a?this.focusPrevItem():this.focusNextItem()},getCurrentItem:function(){return this.currentItem},setCurrentItem:function(a){this.currentItem=a,null==a?l.hide():this.lastCurrentItem=a},setCurrentItemAndFocus:function(a){this.setCurrentItem(a),l.show(a)},unsetCurrentItemAndFocus:function(){this.currentIndex=-1,this.setCurrentItem(null),l.hide()},incrementIndex:function(a){return a+1<this.currentWindow.tabbables.length?a+1:0},decrementIndex:function(a){return a-1>=0?a-1:this.currentWindow.tabbables.length-1},getCurrentTabbable:function(){return this.currentWindow.tabbables[this.currentIndex]},getCurrentFocusController:function(){return this.currentItem.dsFocusController?this.currentItem.dsFocusController:this.currentItem},getItemIsVisible:function(a){var b;return d.isFunction(a.isVisible)?a.isVisible()&&!h.closest(a.el,function(a){return h.hasClass(a,"hidden")})&&(!a.props.model||!a.props.model.isKind("expandinglabel")||a.getPlayerProp("Expanded")===!0):(b=e.findDOMNode(a),!h.closest(b,function(a){return h.hasClass(a,"hidden")}))},setCurrentModal:function(a){var b=m.getChildAtLowestTabIndex(a);null!=b&&(this.focusItem(b),this.focusPrevItem(),l.hide())},isOutsideModal:function(a){var c=b.getCurrentWindowSlide(),e=c.slideLayers().filter(function(a){return a.get("modal")&&a.visibleState});return e.length>0&&null!=d.get(a,"refs.innard")?!a.props.model.getClosestAncestorByAttr("modal",!0):!1},skipItem:function(a){return!this.getItemIsVisible(a)||!this.getItemIsTabbable(a)||this.isOutsideModal(a)},getItemIsTabbable:function(a){var b=a.refs&&a.refs.innard?a.refs.innard:a,c=b.isTabbable;return c?b.isTabbable():!0},focusMoveItem:function(a){var b=Math.max(0,this.currentIndex),c=this[a?"incrementIndex":"decrementIndex"].bind(this);if(0!==this.currentWindow.tabbables.length){for(this.currentIndex=c(this.currentIndex);this.skipItem(this.getCurrentTabbable());)if(this.currentIndex=c(this.currentIndex),this.currentIndex===b)return;this.implementFocus()}},focusItem:function(a,b){this.getItemIsVisible(a)&&this.getCurrentItem()!==a&&this.currentWindow.tabbables&&(this.currentIndex=this.currentWindow.tabbables.indexOf(a),this.implementFocus(b))},implementFocus:function(a){return this.currentItem&&this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(this.getCurrentTabbable()),null==this.getCurrentItem()?void n("implementFocus","Tried to focus on non-focusable item"):void this.getCurrentFocusController().gainFocus(this.currentItem,a)},copyTabIndicies:function(a){v[a].slide=v.mainWindow.slide,this.onBuildComplete()},enableControlsKeyShortcuts:function(a){this.frameControlKeysEnabled=a},checkKeyUpEvent:function(a){this.updateKeyMap(a,!1),this.lastKeyEvent=null,null!=this.lastKeyPressTarget&&(f.clearLastKey(this.lastKeyPressTarget),delete this.lastKeyPressTarget)},shouldTriggerFrameControl:function(a){var b=a.which;return q()||!this.frameControlKeysEnabled||this.keys.SHIFT||this.keys.CONTROL||this.lastKeyEvent&&this.lastKeyEvent.which===b?!1:(this.lastKeyEvent=a,!a.altKey&&!a.ctrlKey&&!a.shiftKey)}};return d.extend(w,{focusNextItem:d.partial(w.focusMoveItem,!0),focusPrevItem:d.partial(w.focusMoveItem,!1)}),w}),define("helpers/stringTabler",["require"],function(a){"use strict";var b,c={initialize:function(a){var c=a.layouts().get(a.get("default_layout"));b=a.stringTables().get(c.string_table).string},getString:function(a){return b[a]}};return c}),define("views/mixins/stringable",["require","lodash","helpers/stringTabler"],function(a){"use strict";var b=a("lodash"),c=a("helpers/stringTabler"),d=function(a){return["i18n",a].join("")},e=function(a){var b=c.getString(a);return null!=b?b:a},f={getInitialState:function(){var a=b.result(this,"stringTitles");return a?b.transform(a,function(a,b,c){a[d(c)]=e(b)}):{}}};return f}),define("views/mixins/baseView",["require","lodash","backbone","react","react-dom","helpers/keyManager","mixins/subscribable","mixins/shortEventable","views/mixins/stringable","helpers/cssPrefix","helpers/errorManager","helpers/utils","helpers/vow","polyfills/detection"],function(a){"use strict";var b,c=a("lodash"),d=a("backbone"),e=(a("react"),a("react-dom")),f=a("helpers/keyManager"),g=a("mixins/subscribable"),h=a("mixins/shortEventable"),i=a("views/mixins/stringable"),j=a("helpers/cssPrefix"),k=a("helpers/errorManager"),l=a("helpers/utils"),m=a("helpers/vow"),n=a("polyfills/detection"),o=k.backtick,p=k.throwError("baseView"),q="Must specify a "+o("displayName"),r=function(a){return c.values(a.refs)},s=function(a){return null!=a.currView},t={mixins:[d.Events,g,h,i],getInitialState:function(){return{isVisible:null!=this.initialVisibility?this.initialVisibility:!0}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||p("baseView",q),this.template||(this.template=b.getTemplate(this.displayName)),this.cssTransform=j.camelCase("transform"),this.cssTransformOrigin=j.camelCase("transform-origin"),this.cssTransitionDuration=j.camelCase("transition-duration"),this.cssTransitionProperty=j.camelCase("transition-property"),this.cssTransitionTimingFunc=j.camelCase("transition-timing-function")},componentDidMount:function(){this.el=e.findDOMNode(this),n.isMobile||this.setOrRemoveTabManagement(!0),null!=this.props.model&&(this.props.model.currView=this)},componentWillUnmount:function(){this.stopListening(),n.isMobile||this.setOrRemoveTabManagement(!1),null!=this.props.model&&(this.props.model.currView=null)},setOrRemoveTabManagement:function(a){if(null!=this.el&&["click","touchstart"].forEach(function(b){this.el[a?"addEventListener":"removeEventListener"](b,this.onFocusClick,!0)}.bind(this)),!this.props.model||this.props.model.get&&this.props.model.get("tabEnabled")!==!1){var b,c=this.props.model&&this.props.model.prop&&this.props.model.prop("tabIndex"),d=a===!0?"addItem":"removeItem",e=this.props.model&&this.props.model.isKind&&this.props.model.isKind("slideframe"),g=this.props.slideFrame,h=g&&g.props.model.prop("tabIndex");c>=0&&this.props.isInnard!==!0&&!e&&(this.idx=c,f[d](this,!1,h)),this.getTabbableItems&&(b=this.getTabbableItems(),null!=b&&b.forEach(function(a){f[d](a,!0)}))}},shouldComponentUpdate:function(a,b){return(!l.shallowEqual(this.props,a)||!l.shallowEqual(this.state,b))&&(this.shouldUpdate?this.shouldUpdate(a,b):!0)},htmlReady:function(a){window.requestAnimationFrame(a)},afterHtmlReady:function(a){this.htmlReady(function(){this.htmlReady(a)}.bind(this))},onShown:function(a){for(var b,d=this.props.model,e=[];null!=d;)d.currView.isVisible()||(b=new m.Deferred,d.once("shown",b.resolve),e.push(b.promise())),d=d.getClosestAncestor(s);m.after.apply(m,e).then(c.partial(this.htmlReady,a))},find:function(a){return this.el.querySelector(a)},findAll:function(a){return c.toArray(this.el.querySelectorAll(a))},findAllComponents:function(a){for(var b=0,d=r(this);b<d.length;)d.push.apply(d,r(d[b])),b++;return c.where(d,{displayName:a})},findComponent:function(a){for(var b,d=0,e=c.isString(a),f=r(this);(b=f[d])&&d<f.length;){if(e&&b.displayName===a||!e&&b===a)return b;f.push.apply(f,r(b)),d++}},render:function(){return this.beforeRender&&this.beforeRender(),this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(a){return a=null==a?!this.isVisible():a,this.setState({isVisible:a}),this},isVisible:function(){var a=null!=this.getPlayerProp?this.state:this.props.playerProps;return null!=this.props.model&&null!=this.props.model.isSlideObject?this.props.model.isKind("shufflegroup")?!0:a.OnStage&&!a.HiddenByLayer:this.state.isVisible},isEnabled:function(){return this.enabledHook?this.enabledHook():this.getPlayerProp&&this.getPlayerProp("Enabled")===!0},getPath:function(a){return l.getPath(this,a)},setTemplateManager:function(a){b=a},getTemplateManager:function(){return b},hex:function(a){return l.hexify(a)},quotify:function(a){return l.quote(a)},gainFocus:function(a,b){this.isMounted()&&(c.isFunction(this.stealFocus)?this.stealFocus(a,b):(b||this.setState({tabFocused:!0}),this.el.focus())),this.setLayerScroll()},loseFocus:function(a){this.isMounted()&&(c.isFunction(this.releaseFocus)?this.releaseFocus(a):(this.setState({tabFocused:!1}),this.el.blur()))},onActionKey:function(a,b){return c.isFunction(this.actionKeyCallback)?this.actionKeyCallback(a,b):!1},onTreeKey:function(a,b,d){return c.isFunction(this.treeKeyCallback)?this.treeKeyCallback(a,b,d):!1},previewMouseEvent:function(a){return n.isMobilePreview?a:null},onFocusClick:function(a){if(null!=this.getFocusTarget){var b=this.getFocusTarget(a);null!=b&&f.focusItem(b,!0)}},setLayerScroll:function(){c.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return t.show=c.partial(t.toggleVisibility,!0),t.hide=c.partial(t.toggleVisibility,!1),t}),define("views/SvgLibrary",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("react"),e=a("views/mixins/baseView"),f=d.createClass({displayName:"SvgLibrary",mixins:[e],componentDidMount:function(){this.inlineCssRuleRefs()},inlineCssRuleRefs:function(){var a=document.createElement("style"),d=b.pluck(this.findAll("[id]"),"id"),e=new RegExp(d.join("|")),f=7,g=function(a){return a.type===f},h=function(a){return e.test(a.cssText)};return a.innerHTML=b(document.styleSheets).pluck("cssRules").map(b.values).flatten().filter(c.andify(c.not(g),h)).pluck("cssText").join("\n"),document.head.appendChild(a),this}});return f});var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,a=a.sigBytes;if(this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return f.create(c,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return f.create(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return f.create(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=f.create(),this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=e/(4*g),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0),b=h*g,e=a.min(4*b,e);if(b){for(var i=0;b>i;i+=g)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return f.create(i,e)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=k.extend({init:function(){this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize(),this._hash},clone:function(){var a=k.clone.call(this);return a._hash=this._hash.clone(),a},blockSize:16,_createHelper:function(a){return function(b,c){return a.create(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return l.HMAC.create(a,c).finalize(b)}}});var l=c.algo={};return c}(Math);!function(){var a=CryptoJS,b=a.lib,c=b.WordArray,b=b.Hasher,d=[],e=a.algo.SHA1=b.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,e=c[0],f=c[1],g=c[2],h=c[3],i=c[4],j=0;80>j;j++){if(16>j)d[j]=0|a[b+j];else{var k=d[j-3]^d[j-8]^d[j-14]^d[j-16];d[j]=k<<1|k>>>31}k=(e<<5|e>>>27)+i+d[j],k=20>j?k+((f&g|~f&h)+1518500249):40>j?k+((f^g^h)+1859775393):60>j?k+((f&g|f&h|g&h)-1894007588):k+((f^g^h)-899497514),i=h,h=g,g=f<<30|f>>>2,f=e,e=k}c[0]=c[0]+e|0,c[1]=c[1]+f|0,c[2]=c[2]+g|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process()}});a.SHA1=b._createHelper(e),a.HmacSHA1=b._createHmacHelper(e)}(),function(){var a=CryptoJS,b=a.lib,c=b.WordArray,d=a.enc;d.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var e=[],f=0;c>f;f+=3)for(var g=b[f>>>2]>>>24-f%4*8&255,h=b[f+1>>>2]>>>24-(f+1)%4*8&255,i=b[f+2>>>2]>>>24-(f+2)%4*8&255,j=g<<16|h<<8|i,k=0;4>k&&c>f+.75*k;k++)e.push(d.charAt(j>>>6*(3-k)&63));var l=d.charAt(64);if(l)for(;e.length%4;)e.push(l);return e.join("")},parse:function(a){a=a.replace(/\s/g,"");var b=a.length,d=this._map,e=d.charAt(64);if(e){var f=a.indexOf(e);-1!=f&&(b=f)}for(var g=[],h=0,i=0;b>i;i++)if(i%4){var j=d.indexOf(a.charAt(i-1))<<i%4*2,k=d.indexOf(a.charAt(i))>>>6-i%4*2;g[h>>>2]|=(j|k)<<24-h%4*8,h++}return c.create(g,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();var TinCan;!function(){"use strict";var a={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};TinCan=function(a){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(a)},TinCan.prototype={LOG_SRC:"TinCan",log:function(a,b){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(b=b||this.LOG_SRC||"TinCan",console.log("TinCan."+b+": "+a))},init:function(a){this.log("init");var b;if(a=a||{},a.hasOwnProperty("url")&&""!==a.url&&this._initFromQueryString(a.url),a.hasOwnProperty("recordStores")&&void 0!==a.recordStores)for(b=0;b<a.recordStores.length;b+=1)this.addRecordStore(a.recordStores[b]);a.hasOwnProperty("activity")&&(a.activity instanceof TinCan.Activity?this.activity=a.activity:this.activity=new TinCan.Activity(a.activity)),a.hasOwnProperty("actor")&&(a.actor instanceof TinCan.Agent?this.actor=a.actor:this.actor=new TinCan.Agent(a.actor)),a.hasOwnProperty("context")&&(a.context instanceof TinCan.Context?this.context=a.context:this.context=new TinCan.Context(a.context)),a.hasOwnProperty("registration")&&(this.registration=a.registration)},_initFromQueryString:function(b){this.log("_initFromQueryString");var c,d,e,f=TinCan.Utils.parseURL(b).params,g=["endpoint","auth"],h={},i=null;if(f.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+f.actor);try{this.actor=TinCan.Agent.fromJSON(f.actor),delete f.actor}catch(j){this.log("_initFromQueryString - failed to set actor: "+j)}}if(f.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:f.activity_id}),delete f.activity_id),(f.hasOwnProperty("activity_platform")||f.hasOwnProperty("registration")||f.hasOwnProperty("grouping"))&&(e={},f.hasOwnProperty("activity_platform")&&(e.platform=f.activity_platform,delete f.activity_platform),f.hasOwnProperty("registration")&&(e.registration=this.registration=f.registration,delete f.registration),f.hasOwnProperty("grouping")&&(e.contextActivities={},e.contextActivities.grouping=f.grouping,delete f.grouping),this.context=new TinCan.Context(e)),f.hasOwnProperty("endpoint")){for(c=0;c<g.length;c+=1)d=g[c],f.hasOwnProperty(d)&&(h[d]=f[d],delete f[d]);for(c in f)f.hasOwnProperty(c)&&(a.hasOwnProperty(c)?delete f[c]:(i=i||{},i[c]=f[c]));null!==i&&(h.extended=i),h.allowFail=!1,this.addRecordStore(h)}},addRecordStore:function(a){this.log("addRecordStore");var b;b=a instanceof TinCan.LRS?a:new TinCan.LRS(a),this.recordStores.push(b)},prepareStatement:function(a){return this.log("prepareStatement"),a instanceof TinCan.Statement||(a=new TinCan.Statement(a)),null===a.actor&&null!==this.actor&&(a.actor=this.actor),null===a.target&&null!==this.activity&&(a.target=this.activity),null!==this.context&&(null===a.context?a.context=this.context:(null===a.context.registration&&(a.context.registration=this.context.registration),null===a.context.platform&&(a.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===a.context.contextActivities?a.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===a.context.contextActivities.grouping&&(a.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===a.context.contextActivities.parent&&(a.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===a.context.contextActivities.other&&(a.context.contextActivities.other=this.context.contextActivities.other))))),a},sendStatement:function(a,b){this.log("sendStatement");var c,d,e,f=this,g=this.prepareStatement(a),h=this.recordStores.length,i=[],j=[];if(h>0)for("function"==typeof b&&(e=function(a,c){var d;f.log("sendStatement - callbackWrapper: "+h),h>1?(h-=1,j.push({err:a,xhr:c})):1===h?(j.push({err:a,xhr:c}),d=[j,g],b.apply(this,d)):f.log("sendStatement - unexpected record store count: "+h)}),d=0;h>d;d+=1)c=this.recordStores[d],i.push(c.saveStatement(g,{callback:e}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof b&&b.apply(this,[null,g]);return{statement:g,results:i}},getStatement:function(a,b){this.log("getStatement");var c;return this.recordStores.length>0?(c=this.recordStores[0],c.retrieveStatement(a,{callback:b})):void this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(a,b,c){this.log("voidStatement");var d,e,f,g,h,i=this,j=this.recordStores.length,k=[],l=[];if(a instanceof TinCan.Statement&&(a=a.id),"undefined"!=typeof c.actor?e=c.actor:null!==this.actor&&(e=this.actor),f=new TinCan.Statement({actor:e,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:a}}),j>0)for("function"==typeof b&&(h=function(a,c){var d;i.log("voidStatement - callbackWrapper: "+j),j>1?(j-=1,l.push({err:a,xhr:c})):1===j?(l.push({err:a,xhr:c}),d=[l,f],b.apply(this,d)):i.log("voidStatement - unexpected record store count: "+j)}),g=0;j>g;g+=1)d=this.recordStores[g],k.push(d.saveStatement(f,{callback:h}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof b&&b.apply(this,[null,f]);return{statement:f,results:k}},getVoidedStatement:function(a,b){this.log("getVoidedStatement");var c;return this.recordStores.length>0?(c=this.recordStores[0],c.retrieveVoidedStatement(a,{callback:b})):void this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(a,b){this.log("sendStatements");var c,d,e,f=this,g=[],h=this.recordStores.length,i=[],j=[];if(0===a.length)"function"==typeof b&&b.apply(this,[null,g]);else{for(d=0;d<a.length;d+=1)g.push(this.prepareStatement(a[d]));if(h>0)for("function"==typeof b&&(e=function(a,c){var d;f.log("sendStatements - callbackWrapper: "+h),h>1?(h-=1,j.push({err:a,xhr:c})):1===h?(j.push({err:a,xhr:c}),d=[j,g],b.apply(this,d)):f.log("sendStatements - unexpected record store count: "+h)}),d=0;h>d;d+=1)c=this.recordStores[d],i.push(c.saveStatements(g,{callback:e}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof b&&b.apply(this,[null,g])}return{statements:g,results:i}},getStatements:function(a){this.log("getStatements");var b,c,d={};return this.recordStores.length>0?(b=this.recordStores[0],a=a||{},c=a.params||{},a.sendActor&&null!==this.actor&&("0.9"===b.version||"0.95"===b.version?c.actor=this.actor:c.agent=this.actor),a.sendActivity&&null!==this.activity&&("0.9"===b.version||"0.95"===b.version?c.target=this.activity:c.activity=this.activity),"undefined"==typeof c.registration&&null!==this.registration&&(c.registration=this.registration),d={params:c},"undefined"!=typeof a.callback&&(d.callback=a.callback),b.queryStatements(d)):void this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(a,b){this.log("getState");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor,activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.registration?c.registration=b.registration:null!==this.registration&&(c.registration=this.registration),"undefined"!=typeof b.callback&&(c.callback=b.callback),d.retrieveState(a,c)):void this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(a,b,c){this.log("setState");var d,e;return this.recordStores.length>0?(e=this.recordStores[0],c=c||{},d={agent:"undefined"!=typeof c.agent?c.agent:this.actor,activity:"undefined"!=typeof c.activity?c.activity:this.activity},"undefined"!=typeof c.registration?d.registration=c.registration:null!==this.registration&&(d.registration=this.registration),"undefined"!=typeof c.lastSHA1&&(d.lastSHA1=c.lastSHA1),"undefined"!=typeof c.contentType&&(d.contentType=c.contentType,"undefined"!=typeof c.overwriteJSON&&!c.overwriteJSON&&TinCan.Utils.isApplicationJSON(c.contentType)&&(d.method="POST")),"undefined"!=typeof c.callback&&(d.callback=c.callback),e.saveState(a,b,d)):void this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(a,b){this.log("deleteState");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor,activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.registration?c.registration=b.registration:null!==this.registration&&(c.registration=this.registration),"undefined"!=typeof b.callback&&(c.callback=b.callback),d.dropState(a,c)):void this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(a,b){this.log("getActivityProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.retrieveActivityProfile(a,c)):void this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(a,b,c){this.log("setActivityProfile");var d,e;return this.recordStores.length>0?(e=this.recordStores[0],c=c||{},d={activity:"undefined"!=typeof c.activity?c.activity:this.activity},"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&(d.lastSHA1=c.lastSHA1),"undefined"!=typeof c.contentType&&(d.contentType=c.contentType,"undefined"!=typeof c.overwriteJSON&&!c.overwriteJSON&&TinCan.Utils.isApplicationJSON(c.contentType)&&(d.method="POST")),e.saveActivityProfile(a,b,d)):void this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(a,b){this.log("deleteActivityProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.dropActivityProfile(a,c)):void this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(a,b){this.log("getAgentProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.retrieveAgentProfile(a,c)):void this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(a,b,c){this.log("setAgentProfile");var d,e;return this.recordStores.length>0?(e=this.recordStores[0],c=c||{},d={agent:"undefined"!=typeof c.agent?c.agent:this.actor},"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&(d.lastSHA1=c.lastSHA1),"undefined"!=typeof c.contentType&&(d.contentType=c.contentType,"undefined"!=typeof c.overwriteJSON&&!c.overwriteJSON&&TinCan.Utils.isApplicationJSON(c.contentType)&&(d.method="POST")),e.saveAgentProfile(a,b,d)):void this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(a,b){this.log("deleteAgentProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.dropAgentProfile(a,c)):void this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},"object"==typeof module&&(module.exports=TinCan)}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},getISODateString:function(a){function b(a,b){var c,d;for("undefined"!=typeof a&&null!==a||(a=0),"undefined"!=typeof b&&null!==b||(b=2),c=Math.pow(10,b-1),d=a.toString();c>a&&c>1;)d="0"+d,c/=10;return d}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+b(a.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(a){var b,c,d,e,f=a.indexOf("-")>=0,g=a.indexOf("T"),h=a.indexOf("H"),i=a.indexOf("M"),j=a.indexOf("S");if(-1===g||-1!==i&&g>i||-1!==a.indexOf("D")||-1!==a.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===h?(h=g,b=0):b=parseInt(a.slice(g+1,h),10),-1===i?(i=g,c=0):c=parseInt(a.slice(h+1,i),10),d=parseFloat(a.slice(i+1,j)),e=parseInt(1e3*(60*(60*b+c)+d),10),isNaN(e)&&(e=0),f&&(e=-1*e),e},convertMillisecondsToISO8601Duration:function(a){var b,c,d,e=parseInt(a,10),f="",g="";return 0>e&&(f="-",e=-1*e),b=parseInt(e/36e5,10),c=parseInt(e%36e5/6e4,10),d=e%36e5%6e4/1e3,g=f+"PT",b>0&&(g+=b+"H"),c>0&&(g+=c+"M"),g+=d+"S"},getSHA1String:function(a){return CryptoJS.SHA1(a).toString(CryptoJS.enc.Hex)},getBase64String:function(a){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(a))},getLangDictionaryValue:function(a,b){var c,d=this[a];if("undefined"!=typeof b&&"undefined"!=typeof d[b])return d[b];if("undefined"!=typeof d.und)return d.und;if("undefined"!=typeof d["en-US"])return d["en-US"];for(c in d)if(d.hasOwnProperty(c))return d[c];return""},parseURL:function(a){var b,c,d,e,f=/\+/g,g=/([^&=]+)=?([^&]*)/g,h=function(a){return decodeURIComponent(a.replace(f," "))};if(b=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),c=a.match(b),d={protocol:c[1],host:c[2],hostname:c[3],port:c[4],pathname:c[5],search:c[6],hash:c[7],params:{}},d.path=d.protocol+"//"+d.host+d.pathname,""!==d.search)for(;e=g.exec(d.search.substring(1));)d.params[h(e[1])]=h(e[2]);return d},getServerRoot:function(a){
var b=a.split("/");return b[0]+"//"+b[2]},getContentTypeFromHeader:function(a){return String(a).split(";")[0]},isApplicationJSON:function(a){return 0===TinCan.Utils.getContentTypeFromHeader(a).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var a=TinCan.LRS=function(a){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(a)};a.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=TinCan.versions(),d=!1;if(a=a||{},a.hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!a.hasOwnProperty("endpoint")||null===a.endpoint||""===a.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(a.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),a.hasOwnProperty("allowFail")&&(this.allowFail=a.allowFail),a.hasOwnProperty("auth")?this.auth=a.auth:a.hasOwnProperty("username")&&a.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(a.username+":"+a.password)),a.hasOwnProperty("extended")&&(this.extended=a.extended),this._initByEnvironment(a),"undefined"!=typeof a.version){for(this.log("version: "+a.version),b=0;b<c.length;b+=1)if(c[b]===a.version){d=!0;break}if(!d)throw this.log("[error] LRS invalid: version not supported ("+a.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+a.version+")"};this.version=a.version}else this.version=c[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(a){this.log("sendRequest");var b,c=this.endpoint+a.url,d={};if(0===a.url.indexOf("http")&&(c=a.url),null!==this.extended){a.params=a.params||{};for(b in this.extended)this.extended.hasOwnProperty(b)&&(a.params.hasOwnProperty(b)||null!==this.extended[b]&&(a.params[b]=this.extended[b]))}d.Authorization=this.auth,"0.9"!==this.version&&(d["X-Experience-API-Version"]=this.version);for(b in a.headers)a.headers.hasOwnProperty(b)&&(d[b]=a.headers[b]);return this._makeRequest(c,d,a)},about:function(a){this.log("about");var b,c,d;return a=a||{},b={url:"about",method:"GET",params:{}},"undefined"!=typeof a.callback&&(d=function(b,c){var d=c;null===b&&(d=TinCan.About.fromJSON(c.responseText)),a.callback(b,d)},b.callback=d),c=this.sendRequest(b),d?void 0:(null===c.err&&(c.xhr=TinCan.About.fromJSON(c.xhr.responseText)),c)},saveStatement:function(a,b){this.log("saveStatement");var c,d;b=b||{};try{d=a.asVersion(this.version)}catch(e){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+e),"undefined"!=typeof b.callback?void b.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+e),"undefined"!=typeof b.callback?void b.callback(e,null):{err:e,xhr:null})}return c={url:"statements",data:JSON.stringify(d),headers:{"Content-Type":"application/json"}},null!==a.id?(c.method="PUT",c.params={statementId:a.id}):c.method="POST","undefined"!=typeof b.callback&&(c.callback=b.callback),this.sendRequest(c)},retrieveStatement:function(a,b){this.log("retrieveStatement");var c,d,e;return b=b||{},c={url:"statements",method:"GET",params:{statementId:a}},"undefined"!=typeof b.callback&&(e=function(a,c){var d=c;null===a&&(d=TinCan.Statement.fromJSON(c.responseText)),b.callback(a,d)},c.callback=e),d=this.sendRequest(c),e||(d.statement=null,null===d.err&&(d.statement=TinCan.Statement.fromJSON(d.xhr.responseText))),d},retrieveVoidedStatement:function(a,b){this.log("retrieveVoidedStatement");var c,d,e;return b=b||{},c={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?c.params.statementId=a:c.params.voidedStatementId=a,"undefined"!=typeof b.callback&&(e=function(a,c){var d=c;null===a&&(d=TinCan.Statement.fromJSON(c.responseText)),b.callback(a,d)},c.callback=e),d=this.sendRequest(c),e||(d.statement=null,null===d.err&&(d.statement=TinCan.Statement.fromJSON(d.xhr.responseText))),d},saveStatements:function(a,b){this.log("saveStatements");var c,d,e,f=[];if(b=b||{},0===a.length)return"undefined"!=typeof b.callback?void b.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(e=0;e<a.length;e+=1){try{d=a[e].asVersion(this.version)}catch(g){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+g),"undefined"!=typeof b.callback?void b.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+g),"undefined"!=typeof b.callback?void b.callback(g,null):{err:g,xhr:null})}f.push(d)}return c={url:"statements",method:"POST",data:JSON.stringify(f),headers:{"Content-Type":"application/json"}},"undefined"!=typeof b.callback&&(c.callback=b.callback),this.sendRequest(c)},queryStatements:function(a){this.log("queryStatements");var b,c,d;a=a||{},a.params=a.params||{};try{b=this._queryStatementsRequestCfg(a)}catch(e){return this.log("[error] Query statements failed - "+e),"undefined"!=typeof a.callback&&a.callback(e,{}),{err:e,statementsResult:null}}return"undefined"!=typeof a.callback&&(d=function(b,c){var d=c;null===b&&(d=TinCan.StatementsResult.fromJSON(c.responseText)),a.callback(b,d)},b.callback=d),c=this.sendRequest(b),c.config=b,d||(c.statementsResult=null,null===c.err&&(c.statementsResult=TinCan.StatementsResult.fromJSON(c.xhr.responseText))),c},_queryStatementsRequestCfg:function(a){this.log("_queryStatementsRequestCfg");var b,c,d={},e={url:"statements",method:"GET",params:d},f=["agent","actor","object","instructor"],g=["verb","activity"],h=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],i={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},j={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};j[.95]=j[.9],j["1.0.1"]=j["1.0.0"],a.params.hasOwnProperty("target")&&(a.params.object=a.params.target);for(c in a.params)if(a.params.hasOwnProperty(c)&&"undefined"==typeof i[c]&&"undefined"==typeof j[this.version].supported[c])throw"Unrecognized query parameter configured: "+c;for(b=0;b<f.length;b+=1)"undefined"!=typeof a.params[f[b]]&&(d[f[b]]=JSON.stringify(a.params[f[b]].asVersion(this.version)));for(b=0;b<g.length;b+=1)"undefined"!=typeof a.params[g[b]]&&(d[g[b]]=a.params[g[b]].id);for(b=0;b<h.length;b+=1)"undefined"!=typeof a.params[h[b]]&&(d[h[b]]=a.params[h[b]]);return e},moreStatements:function(a){this.log("moreStatements: "+a.url);var b,c,d,e,f;return a=a||{},e=TinCan.Utils.parseURL(a.url),f=TinCan.Utils.getServerRoot(this.endpoint),0===e.path.indexOf("/statements")&&(e.path=this.endpoint.replace(f,"")+e.path,this.log("converting non-standard more URL to "+e.path)),0!==e.path.indexOf("/")&&(e.path="/"+e.path),b={method:"GET",url:f+e.path,params:e.params},"undefined"!=typeof a.callback&&(d=function(b,c){var d=c;null===b&&(d=TinCan.StatementsResult.fromJSON(c.responseText)),a.callback(b,d)},b.callback=d),c=this.sendRequest(b),c.config=b,d||(c.statementsResult=null,null===c.err&&(c.statementsResult=TinCan.StatementsResult.fromJSON(c.xhr.responseText))),c},retrieveState:function(a,b){this.log("retrieveState");var c,d,e={},f={};if(e={stateId:a,activityId:b.activity.id},"0.9"===this.version?e.actor=JSON.stringify(b.agent.asVersion(this.version)):e.agent=JSON.stringify(b.agent.asVersion(this.version)),"undefined"!=typeof b.registration&&null!==b.registration&&("0.9"===this.version?e.registrationId=b.registration:e.registration=b.registration),f={url:"activities/state",method:"GET",params:e,ignore404:!0},"undefined"!=typeof b.callback&&(d=function(c,d){var e=d;if(null===c)if(404===d.status)e=null;else if(e=new TinCan.State({id:a,contents:d.responseText}),"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("ETag")&&""!==d.getResponseHeader("ETag")?e.etag=d.getResponseHeader("ETag"):e.etag=TinCan.Utils.getSHA1String(d.responseText),"undefined"!=typeof d.contentType?e.contentType=d.contentType:"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("Content-Type")&&""!==d.getResponseHeader("Content-Type")&&(e.contentType=d.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.contentType))try{e.contents=JSON.parse(e.contents)}catch(f){this.log("retrieveState - failed to deserialize JSON: "+f)}b.callback(c,e)},f.callback=d),c=this.sendRequest(f),!d&&(c.state=null,null===c.err&&404!==c.xhr.status&&(c.state=new TinCan.State({id:a,contents:c.xhr.responseText}),"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("ETag")&&""!==c.xhr.getResponseHeader("ETag")?c.state.etag=c.xhr.getResponseHeader("ETag"):c.state.etag=TinCan.Utils.getSHA1String(c.xhr.responseText),"undefined"!=typeof c.xhr.contentType?c.state.contentType=c.xhr.contentType:"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("Content-Type")&&""!==c.xhr.getResponseHeader("Content-Type")&&(c.state.contentType=c.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(c.state.contentType))))try{c.state.contents=JSON.parse(c.state.contents)}catch(g){this.log("retrieveState - failed to deserialize JSON: "+g)}return c},saveState:function(a,b,c){this.log("saveState");var d,e;return"undefined"==typeof c.contentType&&(c.contentType="application/octet-stream"),"object"==typeof b&&TinCan.Utils.isApplicationJSON(c.contentType)&&(b=JSON.stringify(b)),"undefined"!=typeof c.method&&"POST"===c.method||(c.method="PUT"),d={stateId:a,activityId:c.activity.id},"0.9"===this.version?d.actor=JSON.stringify(c.agent.asVersion(this.version)):d.agent=JSON.stringify(c.agent.asVersion(this.version)),"undefined"!=typeof c.registration&&null!==c.registration&&("0.9"===this.version?d.registrationId=c.registration:d.registration=c.registration),e={url:"activities/state",method:c.method,params:d,data:b,headers:{"Content-Type":c.contentType}},"undefined"!=typeof c.callback&&(e.callback=c.callback),"undefined"!=typeof c.lastSHA1&&null!==c.lastSHA1&&(e.headers["If-Match"]=c.lastSHA1),this.sendRequest(e)},dropState:function(a,b){this.log("dropState");var c,d;return c={activityId:b.activity.id},"0.9"===this.version?c.actor=JSON.stringify(b.agent.asVersion(this.version)):c.agent=JSON.stringify(b.agent.asVersion(this.version)),null!==a&&(c.stateId=a),"undefined"!=typeof b.registration&&null!==b.registration&&("0.9"===this.version?c.registrationId=b.registration:c.registration=b.registration),d={url:"activities/state",method:"DELETE",params:c},"undefined"!=typeof b.callback&&(d.callback=b.callback),this.sendRequest(d)},retrieveActivityProfile:function(a,b){this.log("retrieveActivityProfile");var c,d,e={};if(e={url:"activities/profile",method:"GET",params:{profileId:a,activityId:b.activity.id},ignore404:!0},"undefined"!=typeof b.callback&&(d=function(c,d){var e=d;if(null===c)if(404===d.status)e=null;else if(e=new TinCan.ActivityProfile({id:a,activity:b.activity,contents:d.responseText}),"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("ETag")&&""!==d.getResponseHeader("ETag")?e.etag=d.getResponseHeader("ETag"):e.etag=TinCan.Utils.getSHA1String(d.responseText),"undefined"!=typeof d.contentType?e.contentType=d.contentType:"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("Content-Type")&&""!==d.getResponseHeader("Content-Type")&&(e.contentType=d.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.contentType))try{e.contents=JSON.parse(e.contents)}catch(f){this.log("retrieveActivityProfile - failed to deserialize JSON: "+f)}b.callback(c,e)},e.callback=d),c=this.sendRequest(e),!d&&(c.profile=null,null===c.err&&404!==c.xhr.status&&(c.profile=new TinCan.ActivityProfile({id:a,activity:b.activity,contents:c.xhr.responseText}),"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("ETag")&&""!==c.xhr.getResponseHeader("ETag")?c.profile.etag=c.xhr.getResponseHeader("ETag"):c.profile.etag=TinCan.Utils.getSHA1String(c.xhr.responseText),"undefined"!=typeof c.xhr.contentType?c.profile.contentType=c.xhr.contentType:"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("Content-Type")&&""!==c.xhr.getResponseHeader("Content-Type")&&(c.profile.contentType=c.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(c.profile.contentType))))try{c.profile.contents=JSON.parse(c.profile.contents)}catch(f){this.log("retrieveActivityProfile - failed to deserialize JSON: "+f)}return c},saveActivityProfile:function(a,b,c){this.log("saveActivityProfile");var d;return"undefined"==typeof c.contentType&&(c.contentType="application/octet-stream"),"undefined"!=typeof c.method&&"POST"===c.method||(c.method="PUT"),"object"==typeof b&&TinCan.Utils.isApplicationJSON(c.contentType)&&(b=JSON.stringify(b)),d={url:"activities/profile",method:c.method,params:{profileId:a,activityId:c.activity.id},data:b,headers:{"Content-Type":c.contentType}},"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&null!==c.lastSHA1?d.headers["If-Match"]=c.lastSHA1:d.headers["If-None-Match"]="*",this.sendRequest(d)},dropActivityProfile:function(a,b){this.log("dropActivityProfile");var c,d;return c={profileId:a,activityId:b.activity.id},d={url:"activities/profile",method:"DELETE",params:c},"undefined"!=typeof b.callback&&(d.callback=b.callback),this.sendRequest(d)},retrieveAgentProfile:function(a,b){this.log("retrieveAgentProfile");var c,d,e={};if(e={method:"GET",params:{profileId:a},ignore404:!0},"0.9"===this.version?(e.url="actors/profile",e.params.actor=JSON.stringify(b.agent.asVersion(this.version))):(e.url="agents/profile",e.params.agent=JSON.stringify(b.agent.asVersion(this.version))),"undefined"!=typeof b.callback&&(d=function(c,d){var e=d;if(null===c)if(404===d.status)e=null;else if(e=new TinCan.AgentProfile({id:a,agent:b.agent,contents:d.responseText}),"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("ETag")&&""!==d.getResponseHeader("ETag")?e.etag=d.getResponseHeader("ETag"):e.etag=TinCan.Utils.getSHA1String(d.responseText),"undefined"!=typeof d.contentType?e.contentType=d.contentType:"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("Content-Type")&&""!==d.getResponseHeader("Content-Type")&&(e.contentType=d.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.contentType))try{e.contents=JSON.parse(e.contents)}catch(f){this.log("retrieveAgentProfile - failed to deserialize JSON: "+f)}b.callback(c,e)},e.callback=d),c=this.sendRequest(e),!d&&(c.profile=null,null===c.err&&404!==c.xhr.status&&(c.profile=new TinCan.AgentProfile({id:a,agent:b.agent,contents:c.xhr.responseText}),"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("ETag")&&""!==c.xhr.getResponseHeader("ETag")?c.profile.etag=c.xhr.getResponseHeader("ETag"):c.profile.etag=TinCan.Utils.getSHA1String(c.xhr.responseText),"undefined"!=typeof c.xhr.contentType?c.profile.contentType=c.xhr.contentType:"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("Content-Type")&&""!==c.xhr.getResponseHeader("Content-Type")&&(c.profile.contentType=c.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(c.profile.contentType))))try{c.profile.contents=JSON.parse(c.profile.contents)}catch(f){this.log("retrieveAgentProfile - failed to deserialize JSON: "+f)}return c},saveAgentProfile:function(a,b,c){this.log("saveAgentProfile");var d;return"undefined"==typeof c.contentType&&(c.contentType="application/octet-stream"),"undefined"!=typeof c.method&&"POST"===c.method||(c.method="PUT"),"object"==typeof b&&TinCan.Utils.isApplicationJSON(c.contentType)&&(b=JSON.stringify(b)),d={method:c.method,params:{profileId:a},data:b,headers:{"Content-Type":c.contentType}},"0.9"===this.version?(d.url="actors/profile",d.params.actor=JSON.stringify(c.agent.asVersion(this.version))):(d.url="agents/profile",d.params.agent=JSON.stringify(c.agent.asVersion(this.version))),"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&null!==c.lastSHA1?d.headers["If-Match"]=c.lastSHA1:d.headers["If-None-Match"]="*",this.sendRequest(d)},dropAgentProfile:function(a,b){this.log("dropAgentProfile");var c,d;return c={profileId:a},d={method:"DELETE",params:c},"0.9"===this.version?(d.url="actors/profile",c.actor=JSON.stringify(b.agent.asVersion(this.version))):(d.url="agents/profile",c.agent=JSON.stringify(b.agent.asVersion(this.version))),"undefined"!=typeof b.callback&&(d.callback=b.callback),this.sendRequest(d)}},a.syncEnabled=null}(),function(){"use strict";var a=TinCan.AgentAccount=function(a){this.log("constructor"),this.homePage=null,this.name=null,this.init(a)};a.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["name","homePage"];for(a=a||{},"undefined"!=typeof a.accountServiceHomePage&&(a.homePage=a.accountServiceHomePage),"undefined"!=typeof a.accountName&&(a.name=a.accountName),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(){this.log("toString");var a="";return null!==this.name||null!==this.homePage?(a+=null!==this.name?this.name:"-",a+=":",a+=null!==this.homePage?this.homePage:"-"):a="AgentAccount: unidentified",a},asVersion:function(a){this.log("asVersion: "+a);var b={};return a=a||TinCan.versions()[0],"0.9"===a?(b.accountName=this.name,b.accountServiceHomePage=this.homePage):(b.name=this.name,b.homePage=this.homePage),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Agent=function(a){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(a)};a.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c,d=["name","mbox","mbox_sha1sum","openid"];for(a=a||{},"undefined"!=typeof a.lastName||"undefined"!=typeof a.firstName?(a.name="","undefined"!=typeof a.firstName&&a.firstName.length>0&&(a.name=a.firstName[0],a.firstName.length>1&&(this.degraded=!0)),""!==a.name&&(a.name+=" "),"undefined"!=typeof a.lastName&&a.lastName.length>0&&(a.name+=a.lastName[0],a.lastName.length>1&&(this.degraded=!0))):"undefined"==typeof a.familyName&&"undefined"==typeof a.givenName||(a.name="","undefined"!=typeof a.givenName&&a.givenName.length>0&&(a.name=a.givenName[0],a.givenName.length>1&&(this.degraded=!0)),""!==a.name&&(a.name+=" "),"undefined"!=typeof a.familyName&&a.familyName.length>0&&(a.name+=a.familyName[0],a.familyName.length>1&&(this.degraded=!0))),"object"==typeof a.name&&null!==a.name&&(a.name.length>1&&(this.degraded=!0),a.name=a.name[0]),"object"==typeof a.mbox&&null!==a.mbox&&(a.mbox.length>1&&(this.degraded=!0),a.mbox=a.mbox[0]),"object"==typeof a.mbox_sha1sum&&null!==a.mbox_sha1sum&&(a.mbox_sha1sum.length>1&&(this.degraded=!0),a.mbox_sha1sum=a.mbox_sha1sum[0]),"object"==typeof a.openid&&null!==a.openid&&(a.openid.length>1&&(this.degraded=!0),a.openid=a.openid[0]),"object"==typeof a.account&&null!==a.account&&"undefined"==typeof a.account.homePage&&"undefined"==typeof a.account.name&&(0===a.account.length?delete a.account:(a.account.length>1&&(this.degraded=!0),a.account=a.account[0])),a.hasOwnProperty("account")&&(a.account instanceof TinCan.AgentAccount?this.account=a.account:this.account=new TinCan.AgentAccount(a.account)),b=0;b<d.length;b+=1)a.hasOwnProperty(d[b])&&null!==a[d[b]]&&(c=a[d[b]],"mbox"===d[b]&&-1===c.indexOf("mailto:")&&(c="mailto:"+c),this[d[b]]=c)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(a){this.log("asVersion: "+a);var b={objectType:this.objectType};return a=a||TinCan.versions()[0],"0.9"===a?(null!==this.mbox?b.mbox=[this.mbox]:null!==this.mbox_sha1sum?b.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?b.openid=[this.openid]:null!==this.account&&(b.account=[this.account.asVersion(a)]),null!==this.name&&(b.name=[this.name])):(null!==this.mbox?b.mbox=this.mbox:null!==this.mbox_sha1sum?b.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?b.openid=this.openid:null!==this.account&&(b.account=this.account.asVersion(a)),null!==this.name&&(b.name=this.name)),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Group=function(a){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(a)};a.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(a){this.log("init");var b;if(a=a||{},TinCan.Agent.prototype.init.call(this,a),"undefined"!=typeof a.member)for(b=0;b<a.member.length;b+=1)a.member[b]instanceof TinCan.Agent?this.member.push(a.member[b]):this.member.push(new TinCan.Agent(a.member[b]))},toString:function(a){this.log("toString");var b=TinCan.Agent.prototype.toString.call(this,a);return b!==this.objectType+": unidentified"&&(b=this.objectType+": "+b),b},asVersion:function(a){this.log("asVersion: "+a);var b,c;if(a=a||TinCan.versions()[0],b=TinCan.Agent.prototype.asVersion.call(this,a),this.member.length>0)for(b.member=[],c=0;c<this.member.length;c+=1)b.member.push(this.member[c].asVersion(a));return b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},b=TinCan.Verb=function(a){this.log("constructor"),this.id=null,this.display=null,this.init(a)};b.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(b){this.log("init");var c,d,e=["id","display"];if("string"==typeof b){this.id=b,this.display={und:this.id};for(d in a)if(a.hasOwnProperty(d)&&a[d]===b){this.id=d;break}}else{for(b=b||{},c=0;c<e.length;c+=1)b.hasOwnProperty(e[c])&&null!==b[e[c]]&&(this[e[c]]=b[e[c]]);null===this.display&&"undefined"!=typeof a[this.id]&&(this.display={und:a[this.id]})}},toString:function(a){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",a):this.id},asVersion:function(b){this.log("asVersion");var c;return b=b||TinCan.versions()[0],"0.9"===b?c=a[this.id]:(c={id:this.id},null!==this.display&&(c.display=this.display)),c},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},b.fromJSON=function(a){b.prototype.log("fromJSON");var c=JSON.parse(a);return new b(c)}}(),function(){"use strict";var a=TinCan.Result=function(a){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(a)};a.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["completion","duration","extensions","response","success"];for(a=a||{},a.hasOwnProperty("score")&&null!==a.score&&(a.score instanceof TinCan.Score?this.score=a.score:this.score=new TinCan.Score(a.score)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(a){this.log("asVersion");var b,c={},d=["success","duration","response","extensions"],e=["score"];for(a=a||TinCan.versions()[0],b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);for(b=0;b<e.length;b+=1)null!==this[e[b]]&&(c[e[b]]=this[e[b]].asVersion(a));return null!==this.completion&&("0.9"===a?this.completion&&(c.completion="Completed"):c.completion=this.completion),c}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Score=function(a){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(a)};a.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["scaled","raw","min","max"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},asVersion:function(a){this.log("asVersion");var b,c={},d=["scaled","raw","min","max"];for(a=a||TinCan.versions()[0],b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);return c}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.InteractionComponent=function(a){this.log("constructor"),this.id=null,this.description=null,this.init(a)};a.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","description"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},asVersion:function(a){this.log("asVersion");var b,c,d={id:this.id},e=["description"];for(a=a||TinCan.versions()[0],b=0;b<e.length;b+=1)c=e[b],null!==this[c]&&(d[c]=this[c]);return d},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},b=TinCan.ActivityDefinition=function(a){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(a)};b.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(b){this.log("init");var c,d,e,f=["name","description","moreInfo","extensions","correctResponsesPattern"],g=[];if(b=b||{},b.hasOwnProperty("type")&&null!==b.type){for(e in a)a.hasOwnProperty(e)&&a[e]===b.type&&(b.type=a[e]);this.type=b.type}if(b.hasOwnProperty("interactionType")&&null!==b.interactionType&&(this.interactionType=b.interactionType,"choice"===b.interactionType||"sequencing"===b.interactionType?g.push("choices"):"likert"===b.interactionType?g.push("scale"):"matching"===b.interactionType?(g.push("source"),g.push("target")):"performance"===b.interactionType&&g.push("steps"),g.length>0))for(c=0;c<g.length;c+=1)if(e=g[c],b.hasOwnProperty(e)&&null!==b[e])for(this[e]=[],d=0;d<b[e].length;d+=1)b[e][d]instanceof TinCan.InteractionComponent?this[e].push(b[e][d]):this[e].push(new TinCan.InteractionComponent(b[e][d]));for(c=0;c<f.length;c+=1)b.hasOwnProperty(f[c])&&null!==b[f[c]]&&(this[f[c]]=b[f[c]])},toString:function(a){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",a):null!==this.description?this.getLangDictionaryValue("description",a):""},asVersion:function(b){this.log("asVersion");var c,d,e,f={},g=["name","description","interactionType","correctResponsesPattern","extensions"],h=["choices","scale","source","target","steps"];for(b=b||TinCan.versions()[0],null!==this.type&&("0.9"===b?f.type=a[this.type]:f.type=this.type),c=0;c<g.length;c+=1)e=g[c],null!==this[e]&&(f[e]=this[e]);for(c=0;c<h.length;c+=1)if(e=h[c],null!==this[e])for(f[e]=[],d=0;d<this[e].length;d+=1)f[e].push(this[e][d].asVersion(b));return 0!==b.indexOf("0.9")&&null!==this.moreInfo&&(f.moreInfo=this.moreInfo),f},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},b.fromJSON=function(a){b.prototype.log("fromJSON");var c=JSON.parse(a);return new b(c)}}(),function(){"use strict";var a=TinCan.Activity=function(a){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(a)};a.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id"];for(a=a||{},a.hasOwnProperty("definition")&&(a.definition instanceof TinCan.ActivityDefinition?this.definition=a.definition:this.definition=new TinCan.ActivityDefinition(a.definition)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(a){this.log("toString");var b="";return null!==this.definition&&(b=this.definition.toString(a),""!==b)?b:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(a){this.log("asVersion");var b={id:this.id,objectType:this.objectType};return a=a||TinCan.versions()[0],null!==this.definition&&(b.definition=this.definition.asVersion(a)),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.ContextActivities=function(a){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(a)};a.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c,d,e,f=["category","parent","grouping","other"];for(a=a||{},b=0;b<f.length;b+=1)if(d=f[b],a.hasOwnProperty(d)&&null!==a[d])if("[object Array]"===Object.prototype.toString.call(a[d]))for(c=0;c<a[d].length;c+=1)this.add(d,a[d][c]);else e=a[d],this.add(d,e)},add:function(a,b){return"category"===a||"parent"===a||"grouping"===a||"other"===a?(null===this[a]&&(this[a]=[]),b instanceof TinCan.Activity||(b="string"==typeof b?{id:b}:b,b=new TinCan.Activity(b)),this[a].push(b),this[a].length-1):void 0},asVersion:function(a){this.log("asVersion");var b,c,d={},e=["parent","grouping","other"];for(a=a||TinCan.versions()[0],b=0;b<e.length;b+=1)if(null!==this[e[b]]&&this[e[b]].length>0)if("0.9"===a||"0.95"===a)this[e[b]].length>1&&this.log("[warning] version does not support multiple values in: "+e[b]),d[e[b]]=this[e[b]][0].asVersion(a);else for(d[e[b]]=[],c=0;c<this[e[b]].length;c+=1)d[e[b]].push(this[e[b]][c].asVersion(a));if(null!==this.category&&this.category.length>0){if("0.9"===a||"0.95"===a)throw this.log("[error] version does not support the 'category' property: "+a),new Error(a+" does not support the 'category' property");for(d.category=[],b=0;b<this.category.length;b+=1)d.category.push(this.category[b].asVersion(a))}return d}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Context=function(a){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,
this.language=null,this.statement=null,this.extensions=null,this.init(a)};a.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c,d,e=["registration","revision","platform","language","extensions"],f=["instructor","team"];for(a=a||{},b=0;b<e.length;b+=1)c=e[b],a.hasOwnProperty(c)&&null!==a[c]&&(this[c]=a[c]);for(b=0;b<f.length;b+=1)c=f[b],a.hasOwnProperty(c)&&null!==a[c]&&(d=a[c],"undefined"!=typeof d.objectType&&"Person"!==d.objectType||(d.objectType="Agent"),"Agent"!==d.objectType||d instanceof TinCan.Agent?"Group"!==d.objectType||d instanceof TinCan.Group||(d=new TinCan.Group(d)):d=new TinCan.Agent(d),this[c]=d);a.hasOwnProperty("contextActivities")&&null!==a.contextActivities&&(a.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=a.contextActivities:this.contextActivities=new TinCan.ContextActivities(a.contextActivities)),a.hasOwnProperty("statement")&&null!==a.statement&&(a.statement instanceof TinCan.StatementRef?this.statement=a.statement:a.statement instanceof TinCan.SubStatement?this.statement=a.statement:"StatementRef"===a.statement.objectType?this.statement=new TinCan.StatementRef(a.statement):"SubStatement"===a.statement.objectType?this.statement=new TinCan.SubStatement(a.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(a){this.log("asVersion");var b,c={},d=["registration","revision","platform","language","extensions"],e=["instructor","team","contextActivities","statement"];if(a=a||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==a&&"0.95"!==a)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+a),new Error(a+" does not support SubStatements in the 'statement' property");for(b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);for(b=0;b<e.length;b+=1)null!==this[e[b]]&&(c[e[b]]=this[e[b]].asVersion(a));return c}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.StatementRef=function(a){this.log("constructor"),this.id=null,this.init(a)};a.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(){return this.log("toString"),this.id},asVersion:function(a){this.log("asVersion");var b={objectType:this.objectType,id:this.id};return"0.9"===a&&(b.objectType="Statement"),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.SubStatement=function(a){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(a)};a.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["timestamp"];for(a=a||{},a.hasOwnProperty("object")&&(a.target=a.object),a.hasOwnProperty("actor")&&("undefined"!=typeof a.actor.objectType&&"Person"!==a.actor.objectType||(a.actor.objectType="Agent"),"Agent"===a.actor.objectType?a.actor instanceof TinCan.Agent?this.actor=a.actor:this.actor=new TinCan.Agent(a.actor):"Group"===a.actor.objectType&&(a.actor instanceof TinCan.Group?this.actor=a.actor:this.actor=new TinCan.Group(a.actor))),a.hasOwnProperty("verb")&&(a.verb instanceof TinCan.Verb?this.verb=a.verb:this.verb=new TinCan.Verb(a.verb)),a.hasOwnProperty("target")&&(a.target instanceof TinCan.Activity||a.target instanceof TinCan.Agent||a.target instanceof TinCan.Group||a.target instanceof TinCan.SubStatement||a.target instanceof TinCan.StatementRef?this.target=a.target:("undefined"==typeof a.target.objectType&&(a.target.objectType="Activity"),"Activity"===a.target.objectType?this.target=new TinCan.Activity(a.target):"Agent"===a.target.objectType?this.target=new TinCan.Agent(a.target):"Group"===a.target.objectType?this.target=new TinCan.Group(a.target):"SubStatement"===a.target.objectType?this.target=new TinCan.SubStatement(a.target):"StatementRef"===a.target.objectType?this.target=new TinCan.StatementRef(a.target):this.log("Unrecognized target type: "+a.target.objectType))),a.hasOwnProperty("result")&&(a.result instanceof TinCan.Result?this.result=a.result:this.result=new TinCan.Result(a.result)),a.hasOwnProperty("context")&&(a.context instanceof TinCan.Context?this.context=a.context:this.context=new TinCan.Context(a.context)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(a){return this.log("toString"),(null!==this.actor?this.actor.toString(a):"")+" "+(null!==this.verb?this.verb.toString(a):"")+" "+(null!==this.target?this.target.toString(a):"")},asVersion:function(a){this.log("asVersion");var b,c,d=["timestamp"],e=["actor","verb","result","context"];for(b={objectType:this.objectType},a=a||TinCan.versions()[0],c=0;c<d.length;c+=1)null!==this[d[c]]&&(b[d[c]]=this[d[c]]);for(c=0;c<e.length;c+=1)null!==this[e[c]]&&(b[e[c]]=this[e[c]].asVersion(a));return null!==this.target&&(b.object=this.target.asVersion(a)),"0.9"===a&&(b.objectType="Statement"),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Statement=function(a,b){this.log("constructor"),b="number"==typeof b?{storeOriginal:b}:b||{},"undefined"==typeof b.storeOriginal&&(b.storeOriginal=null),"undefined"==typeof b.doStamp&&(b.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(a,b)};a.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(a,b){this.log("init");var c,d=["id","stored","timestamp","version","inProgress","voided"];for(a=a||{},b.storeOriginal&&(this.originalJSON=JSON.stringify(a,null,b.storeOriginal)),a.hasOwnProperty("object")&&(a.target=a.object),a.hasOwnProperty("actor")&&("undefined"!=typeof a.actor.objectType&&"Person"!==a.actor.objectType||(a.actor.objectType="Agent"),"Agent"===a.actor.objectType?a.actor instanceof TinCan.Agent?this.actor=a.actor:this.actor=new TinCan.Agent(a.actor):"Group"===a.actor.objectType&&(a.actor instanceof TinCan.Group?this.actor=a.actor:this.actor=new TinCan.Group(a.actor))),a.hasOwnProperty("authority")&&("undefined"!=typeof a.authority.objectType&&"Person"!==a.authority.objectType||(a.authority.objectType="Agent"),"Agent"===a.authority.objectType?a.authority instanceof TinCan.Agent?this.authority=a.authority:this.authority=new TinCan.Agent(a.authority):"Group"===a.authority.objectType&&(a.actor instanceof TinCan.Group?this.authority=a.authority:this.authority=new TinCan.Group(a.authority))),a.hasOwnProperty("verb")&&(a.verb instanceof TinCan.Verb?this.verb=a.verb:this.verb=new TinCan.Verb(a.verb)),a.hasOwnProperty("target")&&(a.target instanceof TinCan.Activity||a.target instanceof TinCan.Agent||a.target instanceof TinCan.Group||a.target instanceof TinCan.SubStatement||a.target instanceof TinCan.StatementRef?this.target=a.target:("undefined"==typeof a.target.objectType&&(a.target.objectType="Activity"),"Activity"===a.target.objectType?this.target=new TinCan.Activity(a.target):"Agent"===a.target.objectType?this.target=new TinCan.Agent(a.target):"Group"===a.target.objectType?this.target=new TinCan.Group(a.target):"SubStatement"===a.target.objectType?this.target=new TinCan.SubStatement(a.target):"StatementRef"===a.target.objectType?this.target=new TinCan.StatementRef(a.target):this.log("Unrecognized target type: "+a.target.objectType))),a.hasOwnProperty("result")&&(a.result instanceof TinCan.Result?this.result=a.result:this.result=new TinCan.Result(a.result)),a.hasOwnProperty("context")&&(a.context instanceof TinCan.Context?this.context=a.context:this.context=new TinCan.Context(a.context)),c=0;c<d.length;c+=1)a.hasOwnProperty(d[c])&&null!==a[d[c]]&&(this[d[c]]=a[d[c]]);b.doStamp&&this.stamp()},toString:function(a){return this.log("toString"),(null!==this.actor?this.actor.toString(a):"")+" "+(null!==this.verb?this.verb.toString(a):"")+" "+(null!==this.target?this.target.toString(a):"")},asVersion:function(a){this.log("asVersion");var b,c={},d=["id","timestamp"],e=["actor","verb","result","context","authority"];for(a=a||TinCan.versions()[0],b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);for(b=0;b<e.length;b+=1)null!==this[e[b]]&&(c[e[b]]=this[e[b]].asVersion(a));return null!==this.target&&(c.object=this.target.asVersion(a)),"0.9"!==a&&"0.95"!==a||null!==this.voided&&(c.voided=this.voided),"0.9"===a&&null!==this.inProgress&&(c.inProgress=this.inProgress),c},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.StatementsResult=function(a){this.log("constructor"),this.statements=null,this.more=null,this.init(a)};a.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(a){this.log("init"),a=a||{},a.hasOwnProperty("statements")&&(this.statements=a.statements),a.hasOwnProperty("more")&&(this.more=a.more)}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c,d,e,f=[];try{c=JSON.parse(b)}catch(g){a.prototype.log("fromJSON - JSON.parse error: "+g)}if(c){for(e=0;e<c.statements.length;e+=1){try{d=new TinCan.Statement(c.statements[e],4)}catch(h){a.prototype.log("fromJSON - statement instantiation failed: "+h+" ("+JSON.stringify(c.statements[e])+")"),d=new TinCan.Statement({id:c.statements[e].id},4)}f.push(d)}c.statements=f}return new a(c)}}(),function(){"use strict";var a=TinCan.State=function(a){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(a)};a.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","contents","etag","contentType"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);this.updated=!1}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.ActivityProfile=function(a){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(a)};a.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","contents","etag","contentType"];for(a=a||{},a.hasOwnProperty("activity")&&(a.activity instanceof TinCan.Activity?this.activity=a.activity:this.activity=new TinCan.Activity(a.activity)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);this.updated=!1}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.AgentProfile=function(a){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(a)};a.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","contents","etag","contentType"];for(a=a||{},a.hasOwnProperty("agent")&&(a.agent instanceof TinCan.Agent?this.agent=a.agent:this.agent=new TinCan.Agent(a.agent)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);this.updated=!1}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.About=function(a){this.log("constructor"),this.version=null,this.init(a)};a.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["version"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;return"undefined"==typeof window?void log("'window' not defined",LOG_SRC):(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(a){var b,c,d="";if(a instanceof Object){if(a.constructor===Array){for(b=0;b<a.length;b+=1)d+=this.stringify(a[b])+",";return"["+d.substr(0,d.length-1)+"]"}if(a.toString!==Object.prototype.toString)return'"'+a.toString().replace(/"/g,"\\$&")+'"';for(c in a)a.hasOwnProperty(c)&&(d+='"'+c.replace(/"/g,"\\$&")+'":'+this.stringify(a[c])+",");return"{"+d.substr(0,d.length-1)+"}"}return"string"==typeof a?'"'+a.replace(/"/g,"\\$&")+'"':String(a)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(a,b,c){log("requestComplete: "+c.finished+", xhr.status: "+a.status,LOG_SRC);var d,e,f;return f="undefined"==typeof a.status?c.fakeStatus:1223===a.status?204:a.status,c.finished?d:(c.finished=!0,e=b.ignore404&&404===f,f>=200&&400>f||e?b.callback?void b.callback(null,a):d={err:null,xhr:a}:(d={err:f,xhr:a},0===f?log("[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+f+")",LOG_SRC):log("[warning] There was a problem communicating with the Learning Record Store. ("+f+" | "+a.responseText+")",LOG_SRC),b.callback&&b.callback(f,a),d))},__IEModeConversion=function(a,b,c,d){var e;for(e in b)b.hasOwnProperty(e)&&c.push(e+"="+encodeURIComponent(b[e]));return"undefined"!=typeof d.data&&c.push("content="+encodeURIComponent(d.data)),b["Content-Type"]="application/x-www-form-urlencoded",a+="?method="+d.method,d.method="POST",d.params={},c.length>0&&(d.data=c.join("&")),a},nativeRequest=function(a,b,c){log("sendRequest using XMLHttpRequest",LOG_SRC);var d,e,f,g,h=this,i=[],j={finished:!1,fakeStatus:null},k="undefined"!=typeof c.callback,l=a,m=2048;log("sendRequest using XMLHttpRequest - async: "+k,LOG_SRC);for(e in c.params)c.params.hasOwnProperty(e)&&i.push(e+"="+encodeURIComponent(c.params[e]));if(i.length>0&&(l+="?"+i.join("&")),l.length>=m){if("undefined"!=typeof b["Content-Type"]&&"application/json"!==b["Content-Type"])return g=new Error("Unsupported content type for IE Mode request"),"undefined"!=typeof c.callback&&c.callback(g,null),{err:g,xhr:null};if("undefined"==typeof c.method)return g=new Error("method must not be undefined for an IE Mode Request conversion"),"undefined"!=typeof c.callback&&c.callback(g,null),{err:g,xhr:null};a=__IEModeConversion(a,b,i,c)}else a=l;d="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),d.open(c.method,a,k);for(e in b)b.hasOwnProperty(e)&&d.setRequestHeader(e,b[e]);"undefined"!=typeof c.data&&(c.data+=""),f=c.data,k&&(d.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+d.readyState,LOG_SRC),4===d.readyState&&requestComplete.call(h,d,c,j)});try{d.send(f)}catch(n){log("sendRequest caught send exception: "+n,LOG_SRC)}return k?d:requestComplete.call(this,d,c,j)},xdrRequest=function(a,b,c){log("sendRequest using XDomainRequest",LOG_SRC);var d,e,f,g,h,i=this,j=[],k={finished:!1,fakeStatus:null};if("undefined"!=typeof b["Content-Type"]&&"application/json"!==b["Content-Type"])return h=new Error("Unsupported content type for IE Mode request"),c.callback?(c.callback(h,null),null):{err:h,xhr:null};a+="?method="+c.method;for(f in c.params)c.params.hasOwnProperty(f)&&j.push(f+"="+encodeURIComponent(c.params[f]));for(f in b)b.hasOwnProperty(f)&&j.push(f+"="+encodeURIComponent(b[f]));"undefined"!=typeof c.data&&j.push("content="+encodeURIComponent(c.data)),e=j.join("&"),d=new XDomainRequest,d.open("POST",a),c.callback?(d.onload=function(){k.fakeStatus=200,requestComplete.call(i,d,c,k)},d.onerror=function(){k.fakeStatus=400,requestComplete.call(i,d,c,k)},d.ontimeout=function(){k.fakeStatus=0,requestComplete.call(i,d,c,k)}):(d.onload=function(){k.fakeStatus=200},d.onerror=function(){k.fakeStatus=400},d.ontimeout=function(){k.fakeStatus=0}),d.onprogress=function(){},d.timeout=0;try{d.send(e)}catch(l){log("sendRequest caught send exception: "+l,LOG_SRC)}if(!c.callback){for(g=1e4+Date.now(),log("sendRequest - until: "+g+", finished: "+k.finished,LOG_SRC);Date.now()<g&&null===k.fakeStatus;)__delay();return requestComplete.call(i,d,c,k)}return d},TinCan.LRS.prototype._initByEnvironment=function(a){log("_initByEnvironment",LOG_SRC);var b,c,d,e;if(a=a||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,b=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/),null===b)throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(d=location.port,c=location.protocol.toLowerCase()===b[1],""===d&&(d="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),e=!c||location.hostname.toLowerCase()!==b[2]||d!==(null!==b[3]&&"undefined"!=typeof b[3]&&""!==b[3]?b[3]:"http:"===b[1]?"80":"https:"===b[1]?"443":""))if(env.hasCORS){if(env.useXDR&&c)this._makeRequest=xdrRequest;else if(env.useXDR&&!c){if(!a.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!a.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var a=new XMLHttpRequest,b=window.location+"?forcenocache="+TinCan.Utils.getUUID();a.open("GET",b,!1),a.send(null)},void(TinCan.LRS.syncEnabled=!0))}(),define("tincan",function(){}),define("helpers/external/tinCan",["require","lodash","helpers/vow","helpers/utils","tincan"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/vow"),e=a("helpers/utils"),f=(a("tincan"),window.TinCan),g=f.Utils.convertMillisecondsToISO8601Duration,h=f.Utils.getUUID,i="/",j="Activity",k="resume",l="choice",m="fill-in",n="matching",o="numeric",p="sequencing",q="likert",r="completed",s="passed",t="failed",u="attempted",v="experienced",w="answered",x="http://adlnet.gov/expapi/activities/course",y="http://adlnet.gov/expapi/activities/objective",z="http://adlnet.gov/expapi/activities/module",A="http://adlnet.gov/expapi/activities/cmi.interaction",B="[.]",C="[,]",D="und",E="http://",F=/file/.test(window.location.protocol),G=function(a){var b={id:a.id,description:{}};return b.description[D]=a.lmstext,b},H={};H[l]=H[p]=function(a,b){a.choices=b.choices().map(G)},H[n]=function(a,b){a.target=b.choices().map(G),a.source=b.statements().map(G)};var I={};I.likert=q,I.sequence=p,I.multiplechoice=I.truefalse=I.hotspot=I.wordbank=I.multipleresponse=l,I.numeric=o,I.fillin=m,I.matching=n;var J=function(a){return a===n||a===p||a===l},K={};K.multiplechoice=K.hotspot=K.wordbank=K.sequence=K.truefalse=K.multipleresponse=function(a){var b=a&&a.choiceResponse,c=null!=b?b:a;return e.stripChoice(c)},K.essay=K.fillin=K.numeric=c.identity,K.matching=function(a){return[e.stripStatement(a.statementResponse),e.stripChoice(a.choiceResponse)].join(B)};var L={queue:[],tinCan:null,resumer:null,scoring:null,version:0,setTotalSlides:c.noop,reportStatus:c.noop,initialize:function(a,b,c,d){if(window.globals.tinCanPresent){this.setPreso(d);var g=e.queryStringToObj();return this.urlParams=g,this.version=b,null!=g.activity_id&&(E=g.activity_id.replace(/\/$/,"")),this.scoring=c||{},this.tinCan=F?new f:new f({url:window.location.toString().replace("&tincan=true","")}),this}},setPreso:function(a){b=a},setResumer:function(a){this.resumer=a},createConfig:function(a){return null==this.urlParams.activity_id&&(a.activity={id:"http://"+b.get("courseId")}),a},getItem:function(){this.resumeDfd=new d.Deferred;var a=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState(k,a),F&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(a,b){var d=this.createConfig({callback:c.noop});this.tinCan.setState(k,b,d)},sendResumeReady:function(a,b){null==a&&this.resumeDfd.resolve(b&&b.contents)},courseStarted:function(a){var b=this.getStmtObj({type:x,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb(u)});a||(b.result={completion:!1}),this.queueStatement(b)},quizComplete:function(a){var b=a.get("lmstext"),c=this.getStmtObj(a.id,{type:y,name:b,description:b,verb:this.getVerb(this.getCompletedVerb(a))});a.get("issurvey")||(c.result={score:{scaled:a.prop("PercentScore")/100,raw:a.prop("Score"),min:0,max:a.maxPoints},success:a.isPassed()}),this.queueStatement(c)},courseComplete:function(a,b){if(!b){var c=this.getStmtObj({type:x,name:a.get("lmstext"),description:a.get("description"),verb:this.getVerb(this.getCompletedVerb(a))}),d=a.isType("survey");c.result={duration:g(this.resumer.getCourseTime()),completion:!0},d||(c.result.score={scaled:a.getPercentScore()},c.result.success=a.isPassed()),this.queueStatement(c)}},viewedComplete:function(a){var b=this.getStmtObj({type:x,name:a.get("lmstext"),description:a.get("description"),verb:this.getVerb(r)}),c={};c[this.formatUri("viewcount")]=a.viewedSlides,b.result={completion:!0,duration:g(this.resumer.getCourseTime()),extensions:c},this.queueStatement(b)},slideViewed:function(a){var b=a.get("title"),c=this.getStmtObj(a.id,{type:z,name:b,description:b,verb:this.getVerb(v)});this.queueStatement(c)},interactionAnswered:function(a,b){var c=b.isType("likert")?"logLikert":"logQuestion";this[c](a,b)},logLikert:function(a,b){b.hasResponses()&&b.responses.forEach(function(c,d){var f=b.statements()[d].lmstext,g=e.stripStatement(c.statementResponse),h=[b.parent.id,b.id,g],i={scale:b.choices().map(G),interactionType:I.likert},j=this.getStmtObj(h,{type:A,name:f,description:f,verb:this.getVerb(w),parent:this.formatUri(a.id)});this.setDefinitions(j,i),j.result={response:e.stripChoice(c.choiceResponse)},this.queueStatement(j)}.bind(this))},logQuestion:function(a,b){if(b.hasResponses()){var d=b.get("lmstext"),e=b.type(),f=I[e],g=K[e],h=H[f]||c.noop,i={interactionType:f},j={response:b.responses.map(g).join(C)},k=[b.parent.id,b.id],l=this.getStmtObj(k,{type:A,name:d,description:d,verb:this.getVerb(w),parent:this.formatUri(a.id)});J(f)&&(i.correctResponsesPattern=[this.getCorrectResponses(b)]),h(i,b),this.setDefinitions(l,i),b.get("issurvey")||(j.success=b.isPassing(),j.score={raw:b.prop("Score")}),l.result=j,this.queueStatement(l)}},formatUri:function(){var a=c.compact(arguments),b=[E],d=this.version<1?".":i;return b.concat(a).join(d)},getCorrectResponses:function(a){var b=a.prop("CorrectResponse"),c=a.isType("sequence");return b.map(function(a){var b=a.id;return c?b=a.choice.id:a.choice&&a.statement&&(b=[a.statement.id,a.choice.id].join(B)),b}).join(C)},getVerb:function(a){var b=new f.Verb(a);return b.display["en-US"]=b.display.und,delete b.display.und,b},getCompletedVerb:function(a){return this.scoring.isType("survey")?r:a.isPassed()?s:t},setDefinitions:function(a,b){c.extend(a.object.definition,b)},getStmtObj:function(a,b){c.isPlainObject(a)&&(b=a,a=void 0);var d={name:{},description:{}};return d.name[D]=b.name||"",d.description[D]=b.description||"",d.type=b.type,c.isArray(a)||(a=[a]),{id:h(),object:{id:this.formatUri.apply(this,a),definition:d},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:b.parent||E,objectType:"Activity"}]}},verb:b.verb,objectType:j}},queueStatement:function(a){0===this.queue.length?this.sendStatement(a):this.queue.unshift(a)},popQueue:function(){this.queue.length>0&&this.sendStatement(this.queue.pop())},sendStatement:function(a){this.tinCan.sendStatement(a,this.popQueue.bind(this))}};return L}),define("external/Emitter",["require"],function(a){function b(a){return a?c(a):void 0}function c(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}return b.prototype.on=b.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},b.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},b.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},b.prototype.hasListeners=function(a){return!!this.listeners(a).length},b}),define("external/superagent",["require","external/Emitter"],function(a){function b(){}function c(a){var b={}.toString.call(a);switch(b){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function d(a){return a===Object(a)}function e(a){if(!d(a))return a;var b=[];for(var c in a)null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function f(a){for(var b,c,d={},e=a.split("&"),f=0,g=e.length;g>f;++f)c=e[f],b=c.split("="),d[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return d}function g(a){var b,c,d,e,f=a.split(/\r?\n/),g={};f.pop();for(var h=0,i=f.length;i>h;++h)c=f[h],b=c.indexOf(":"),d=c.slice(0,b).toLowerCase(),e=p(c.slice(b+1)),g[d]=e;return g}function h(a){return a.split(/ *; */).shift()}function i(a){return n(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})}function j(a,b){b=b||{},this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=g(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function k(a,b){var c=this;m.call(this),this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var a=null,b=null;try{b=new j(c)}catch(d){return a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=d,c.callback(a)}if(c.emit("response",b),a)return c.callback(a,b);if(b.status>=200&&b.status<300||0===b.status)return c.callback(a,b);var e=new Error(b.statusText||"Unsuccessful HTTP response");e.original=a,e.response=b,e.status=b.status,c.callback(a||e,b)})}function l(a,b){return"function"==typeof b?new k("GET",a).end(b):1==arguments.length?new k("GET",a):new k(a,b)}var m=a("external/Emitter"),n=function(a,b,c){for(var d=0,e=a.length,f=3==arguments.length?c:a[d++];e>d;)f=b.call(null,f,a[d],++d,a);return f},o="undefined"==typeof window?this||self:window;l.getXHR=function(){if(!(!o.XMLHttpRequest||o.location&&"file:"==o.location.protocol&&o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1};var p="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};return l.serializeObject=e,l.parseString=f,l.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":e,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},j.prototype.get=function(a){return this.header[a.toLowerCase()]},j.prototype.setHeaderProperties=function(a){var b=this.header["content-type"]||"";this.type=h(b);var c=i(b);for(var d in c)this[d]=c[d]},j.prototype.parseBody=function(a){var b=l.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null},j.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.clientError=4==b,this.serverError=5==b,this.error=4==b||5==b?this.toError():!1,this.accepted=202==a,this.noContent=204==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.notFound=404==a,this.forbidden=403==a},j.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},l.Response=j,m(k.prototype),k.prototype.use=function(a){return a(this),this},k.prototype.timeout=function(a){return this._timeout=a,this},k.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},k.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},k.prototype.set=function(a,b){if(d(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},k.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},k.prototype.getHeader=function(a){return this._header[a.toLowerCase()]},k.prototype.type=function(a){return this.set("Content-Type",l.types[a]||a),this},k.prototype.accept=function(a){return this.set("Accept",l.types[a]||a),this},k.prototype.auth=function(a,b){var c=btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},k.prototype.query=function(a){return"string"!=typeof a&&(a=e(a)),a&&this._query.push(a),this},k.prototype.field=function(a,b){return this._formData||(this._formData=new o.FormData),this._formData.append(a,b),this},k.prototype.attach=function(a,b,c){return this._formData||(this._formData=new o.FormData),this._formData.append(a,b,c),this},k.prototype.send=function(a){var b=d(a),e=this.getHeader("Content-Type");if(b&&d(this._data))for(var f in a)this._data[f]=a[f];else"string"==typeof a?(e||this.type("form"),e=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==e?this._data=this._data?this._data+"&"+a:a:this._data=(this._data||"")+a):this._data=a;return!b||c(a)?this:(e||this.type("json"),this)},k.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout(),c(a,b)},k.prototype.crossDomainError=function(){var a=new Error("Origin is not allowed by Access-Control-Allow-Origin");a.crossDomain=!0,this.callback(a)},k.prototype.timeoutError=function(){var a=this._timeout,b=new Error("timeout of "+a+"ms exceeded");b.timeout=a,this.callback(b)},k.prototype.withCredentials=function(){return this._withCredentials=!0,this},k.prototype.end=function(a){var d=this,e=this.xhr=l.getXHR(),f=this._query.join("&"),g=this._timeout,h=this._formData||this._data;
this._callback=a||b,e.onreadystatechange=function(){if(4==e.readyState){var a;try{a=e.status}catch(b){if(d.timedout)return d.timeoutError();if(d.aborted)return;return d.crossDomainError()}d.emit("end")}};var i=function(a){a.total>0&&(a.percent=a.loaded/a.total*100),d.emit("progress",a)};this.hasListeners("progress")&&(e.onprogress=i);try{e.upload&&this.hasListeners("progress")&&(e.upload.onprogress=i)}catch(j){}if(g&&!this._timer&&(this._timer=setTimeout(function(){d.timedout=!0,d.abort()},g)),f&&(f=l.serializeObject(f),this.url+=~this.url.indexOf("?")?"&"+f:"?"+f),e.open(this.method,this.url,!0),this._withCredentials&&(e.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof h&&!c(h)){var k=l.serialize[this.getHeader("Content-Type")];k&&(h=k(h))}for(var m in this.header)null!=this.header[m]&&e.setRequestHeader(m,this.header[m]);return this.emit("request",this),e.send(h),this},l.Request=k,l.get=function(a,b,c){var d=l("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},l.head=function(a,b,c){var d=l("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l.del=function(a,b){var c=l("DELETE",a);return b&&c.end(b),c},l.patch=function(a,b,c){var d=l("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l.post=function(a,b,c){var d=l("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l.put=function(a,b,c){var d=l("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l}),function(a){"use strict";var b=a.GreenSockGlobals||a;if(!b.TweenLite){var c,d,e,f,g,h=function(a){var c,d=a.split("."),e=b;for(c=0;d.length>c;c++)e[d[c]]=e=e[d[c]]||{};return e},i=h("com.greensock"),j=1e-10,k=[].slice,l=function(){},m=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),n={},o=function(c,d,e,f){this.sc=n[c]?n[c].sc:[],n[c]=this,this.gsClass=null,this.func=e;var g=[];this.check=function(i){for(var j,k,l,m,p=d.length,q=p;--p>-1;)(j=n[d[p]]||new o(d[p],[])).gsClass?(g[p]=j.gsClass,q--):i&&j.sc.push(this);if(0===q&&e)for(k=("com.greensock."+c).split("."),l=k.pop(),m=h(k.join("."))[l]=this.gsClass=e.apply(e,g),f&&(b[l]=m,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+c.split(".").join("/"),[],function(){return m}):"undefined"!=typeof module&&module.exports&&(module.exports=m)),p=0;this.sc.length>p;p++)this.sc[p].check()},this.check(!0)},p=a._gsDefine=function(a,b,c,d){return new o(a,b,c,d)},q=i._class=function(a,b,c){return b=b||function(){},p(a,[],function(){return b},c),b};p.globals=b;var r=[0,0,1,1],s=[],t=q("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?r.concat(b):r},!0),u=t.map={},v=t.register=function(a,b,c,d){for(var e,f,g,h,j=b.split(","),k=j.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=j[k],e=d?q("easing."+f,null,!0):i.easing[f]||{},g=l.length;--g>-1;)h=l[g],u[f+"."+h]=u[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(e=t.prototype,e._calcEnd=!1,e.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},c=["Linear","Quad","Cubic","Quart","Quint,Strong"],d=c.length;--d>-1;)e=c[d]+",Power"+d,v(new t(null,null,1,d),e,"easeOut",!0),v(new t(null,null,2,d),e,"easeIn"+(0===d?",easeNone":"")),v(new t(null,null,3,d),e,"easeInOut");u.linear=i.easing.Linear.easeIn,u.swing=i.easing.Quad.easeInOut;var w=q("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});e=w.prototype,e.addEventListener=function(a,b,c,d,e){e=e||0;var h,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)h=j[i],h.c===b&&h.s===c?j.splice(i,1):0===k&&e>h.pr&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==f||g||f.wake()},e.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},e.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c)};var x=a.requestAnimationFrame,y=a.cancelAnimationFrame,z=Date.now||function(){return(new Date).getTime()},A=z();for(c=["ms","moz","webkit","o"],d=c.length;--d>-1&&!x;)x=a[c[d]+"RequestAnimationFrame"],y=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];q("Ticker",function(a,b){var c,d,e,h,i,j=this,k=z(),m=b!==!1&&x,n=function(a){A=z(),j.time=(A-k)/1e3;var b,f=j.time-i;(!c||f>0||a===!0)&&(j.frame++,i+=f+(f>=h?.004:h-f),b=!0),a!==!0&&(e=d(n)),b&&j.dispatchEvent("tick")};w.call(j),j.time=j.frame=0,j.tick=function(){n(!0)},j.sleep=function(){null!=e&&(m&&y?y(e):clearTimeout(e),d=l,e=null,j===f&&(g=!1))},j.wake=function(){null!==e&&j.sleep(),d=0===c?l:m&&x?x:function(a){return setTimeout(a,0|1e3*(i-j.time)+1)},j===f&&(g=!0),n(2)},j.fps=function(a){return arguments.length?(c=a,h=1/(c||60),i=this.time+h,void j.wake()):c},j.useRAF=function(a){return arguments.length?(j.sleep(),m=a,void j.fps(c)):m},j.fps(a),setTimeout(function(){m&&(!e||5>j.frame)&&j.useRAF(!1)},1500)}),e=i.Ticker.prototype=new i.events.EventDispatcher,e.constructor=i.Ticker;var B=q("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,O){g||f.wake();var c=this.vars.useFrames?N:O;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});f=B.ticker=new i.Ticker,e=B.prototype,e._dirty=e._gc=e._initted=e._paused=!1,e._totalTime=e._time=0,e._rawPrevTime=-1,e._next=e._last=e._onUpdate=e._timeline=e.timeline=null,e._paused=!1;var C=function(){g&&z()-A>2e3&&f.wake(),setTimeout(C,2e3)};C(),e.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},e.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},e.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},e.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},e.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},e.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},e.render=function(){},e.invalidate=function(){return this},e.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&c+this.totalDuration()/this._timeScale>a},e._enabled=function(a,b){return g||f.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},e._kill=function(){return this._enabled(!1,!1)},e.kill=function(a,b){return this._kill(a,b),this},e._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},e._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},e.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=m(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},e.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},e.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},e.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},e.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},e.totalTime=function(a,b,c){if(g||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&this.render(a,b,!1)}return this},e.progress=e.totalProgress=function(a,b){return arguments.length?this.totalTime(this.duration()*a,b):this._time/this.duration()},e.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},e.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||j,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},e.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},e.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){g||a||f.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=this.isActive(),!a&&0!==d&&this._initted&&this.duration()&&this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var D=q("core.SimpleTimeline",function(a){B.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});e=D.prototype=new B,e.constructor=D,e.kill()._gc=!1,e._first=e._last=null,e._sortChildren=!1,e.add=e.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._timeline&&this._uncache(!0),this},e._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},e.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},e.rawTime=function(){return g||f.wake(),this._totalTime};var E=q("TweenLite",function(b,c,d){if(B.call(this,c,d),this.render=E.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:E.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?M[E.defaultOverwrite]:"number"==typeof i?i>>0:M[i],(h||b instanceof Array||b.push&&m(b))&&"number"!=typeof b[0])for(this._targets=g=k.call(b,0),this._propLookup=[],this._siblings=[],e=0;g.length>e;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(k.call(f,0))):(this._siblings[e]=P(f,this,!1),1===i&&this._siblings[e].length>1&&Q(f,this,null,1,this._siblings[e])):(f=g[e--]=E.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=P(b,this,!1),1===i&&this._siblings.length>1&&Q(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),F=function(b){return b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},G=function(a,b){var c,d={};for(c in a)L[c]||c in b&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!I[c]||I[c]&&I[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};e=E.prototype=new B,e.constructor=E,e.kill()._gc=!1,e.ratio=0,e._firstPT=e._targets=e._overwrittenProps=e._startAt=null,e._notifyPluginsOfEnabled=!1,E.version="1.11.8",E.defaultEase=e._ease=new t(null,null,1,1),E.defaultOverwrite="auto",E.ticker=f,E.autoSleep=!0,E.selector=a.$||a.jQuery||function(b){return a.$?(E.selector=a.$,a.$(b)):a.document?a.document.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var H=E._internals={isArray:m,isSelector:F},I=E._plugins={},J=E._tweenLookup={},K=0,L=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},M={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},N=B._rootFramesTimeline=new D,O=B._rootTimeline=new D;O._startTime=f.time,N._startTime=f.frame,O._active=N._active=!0,B._updateRoot=function(){if(O.render((f.time-O._startTime)*O._timeScale,!1,!1),N.render((f.frame-N._startTime)*N._timeScale,!1,!1),!(f.frame%120)){var a,b,c;for(c in J){for(b=J[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete J[c]}if(c=O._first,(!c||c._paused)&&E.autoSleep&&!N._first&&1===f._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||f.sleep()}}},f.addEventListener("tick",B._updateRoot);var P=function(a,b,c){var d,e,f=a._gsTweenID;if(J[f||(a._gsTweenID=f="t"+K++)]||(J[f]={target:a,tweens:[]}),b&&(d=J[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return J[f].tweens},Q=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var k,l=b._startTime+j,m=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(k=k||R(b,0,o),0===R(h,k,o)&&(m[n++]=h)):l>=h._startTime&&h._startTime+h.totalDuration()/h._timeScale>l&&((o||!h._initted)&&2e-10>=l-h._startTime||(m[n++]=h)));for(f=n;--f>-1;)h=m[f],2===d&&h._kill(c,a)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&h._enabled(!1,!1)&&(g=!0);return g},R=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*j>f-b?j:(f+=a.totalDuration()/a._timeScale/e)>b+j?0:f-b-j};e._init=function(){var a,b,c,d,e=this.vars,f=this._overwrittenProps,g=this._duration,h=e.immediateRender,i=e.ease;if(e.startAt){if(this._startAt&&this._startAt.render(-1,!0),e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=E.to(this.target,0,e.startAt),h)if(this._time>0)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{c={};for(d in e)L[d]&&"autoCSS"!==d||(c[d]=e[d]);if(c.overwrite=0,c.data="isFromStart",this._startAt=E.to(this.target,0,c),e.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=i?i instanceof t?e.easeParams instanceof Array?i.config.apply(i,e.easeParams):i:"function"==typeof i?new t(i,e.easeParams):u[i]||E.defaultEase:E.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f);if(b&&E._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate,this._initted=!0},e._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;this.vars.css||b.style&&b!==a&&b.nodeType&&I.css&&this.vars.autoCSS!==!1&&G(this.vars,b);for(f in this.vars){if(k=this.vars[f],L[f])k&&(k instanceof Array||k.push&&m(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(I[f]&&(i=new I[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&Q(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):h},e.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration;if(a>=i)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===i&&(g=this._rawPrevTime,this._startTime===this._timeline._duration&&(a=0),(0===a||0>g||g===j)&&g!==a&&(c=!0,g>j&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||this._rawPrevTime===a?a:j);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&this._rawPrevTime>0&&this._rawPrevTime!==j)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===i&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=g=!b||a||this._rawPrevTime===a?a:j)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,m=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:.5>a/i?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._time!==h||d)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||s),0===i&&this._rawPrevTime===j&&g!==j&&(this._rawPrevTime=0)))}},e._kill=function(a,b){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:E.selector(b)||b;var c,d,e,f,g,h,i,j;if((m(b)||F(b))&&"number"!=typeof b[0])for(c=b.length;--c>-1;)this._kill(a,b[c])&&(h=!0);else{if(this._targets){for(c=this._targets.length;--c>-1;)if(b===this._targets[c]){g=this._propLookup[c]||{},this._overwrittenProps=this._overwrittenProps||[],d=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==this.target)return!1;g=this._propLookup,d=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(g){i=a||g,j=a!==d&&"all"!==d&&a!==g&&("object"!=typeof a||!a._tempKill);for(e in i)(f=g[e])&&(f.pg&&f.t._kill(i)&&(h=!0),f.pg&&0!==f.t._overwriteProps.length||(f._prev?f._prev._next=f._next:f===this._firstPT&&(this._firstPT=f._next),f._next&&(f._next._prev=f._prev),f._next=f._prev=null),delete g[e]),j&&(d[e]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},e.invalidate=function(){return this._notifyPluginsOfEnabled&&E._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},e._enabled=function(a,b){if(g||f.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=P(d[c],this,!0);else this._siblings=P(this.target,this,!0)}return B.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?E._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},E.to=function(a,b,c){return new E(a,b,c)},E.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new E(a,b,c)},E.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new E(a,b,d)},E.delayedCall=function(a,b,c,d,e){return new E(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})},E.set=function(a,b){return new E(a,0,b)},E.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:E.selector(a)||a;var c,d,e,f;if((m(a)||F(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(E.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=P(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},E.killTweensOf=E.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=E.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var S=q("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=S.prototype},!0);if(e=S.prototype,S.version="1.10.1",S.API=2,e._firstPT=null,e._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},e.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=Math.round(b):d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},e._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},e._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},E._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},S.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===S.API&&(I[(new a[b])._propName]=a[b]);return!0},p.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=q("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){S.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new S(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,S.activate([g]),g},c=a._gsQueue){for(d=0;c.length>d;d++)c[d]();for(e in n)n[e].func||a.console.log("GSAP encountered missing dependency: com.greensock."+e)}g=!1}}(window),define("tween-lite",function(a){return function(){var b;return b||a.TweenLite}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=window.GreenSockGlobals||window,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d){var e=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(e,a),e},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=.5*f*f*r):(f=2*(1-c),e=.5*f*f*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&b.t>=a;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a||1,this._p2=b||d,this._p3=this._p2/g*(Math.asin(1/this._p1)||0)},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*g/this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2))},.3),d("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2):.5*this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("ease-pack",function(a){return function(){var b;return b||a.EasePack}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h={},i=g.prototype=new a("css");i.constructor=g,g.version="1.11.8",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",i="px",g.suffixMap={top:i,right:i,bottom:i,left:i,width:i,height:i,fontSize:i,padding:i,margin:i,perspective:i,lineHeight:""};var j,k,l,m,n,o,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,q=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,r=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,s=/[^\d\-\.]/g,t=/(?:\d|\-|\+|=|#|\.)*/g,u=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,w=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,y=/([A-Z])/g,z=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,B=function(a,b){return b.toUpperCase()},C=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,G=Math.PI/180,H=180/Math.PI,I={},J=document,K=J.createElement("div"),L=J.createElement("img"),M=g._internals={_specialProps:h},N=navigator.userAgent,O=function(){var a,b=N.indexOf("Android"),c=J.createElement("div");return l=-1!==N.indexOf("Safari")&&-1===N.indexOf("Chrome")&&(-1===b||Number(N.substr(b+8,1))>3),n=l&&6>Number(N.substr(N.indexOf("Version/")+8,1)),m=-1!==N.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(N)&&(o=parseFloat(RegExp.$1)),c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",a=c.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),P=function(a){return u.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(a){window.console&&console.log(a)},R="",S="",T=function(a,b){b=b||K;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(S=3===d?"ms":c[d],R="-"+S.toLowerCase()+"-",S+a):null;
},U=J.defaultView?J.defaultView.getComputedStyle:function(){},V=g.getStyle=function(a,b,c,d,e){var f;return O||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||U(a,null))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(y,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):P(a)},W=M.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=C.test(c),l=a,m=K.style,n=0>d;if(n&&(d=-d),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+V(a,"position")+";line-height:0;","%"!==e&&l.appendChild)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||J.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(K),h=parseFloat(K[k?"offsetWidth":"offsetHeight"]),l.removeChild(K),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=100*(h/d)),0!==h||f||(h=W(a,c,d,e,!0))}return n?-h:h},X=M.calculateOffset=function(a,b,c){if("absolute"!==V(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=V(a,"margin"+d,c);return a["offset"+d]-(W(a,b,parseFloat(e),e.replace(t,""))||0)},Y=function(a,b){var c,d,e={};if(b=b||U(a,null))if(c=b.length)for(;--c>-1;)e[b[c].replace(z,B)]=b.getPropertyValue(b[c]);else for(c in b)e[c]=b[c];else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===e[c]&&(e[c.replace(z,B)]=b[c]);return O||(e.opacity=P(a)),d=ya(a,b,!1),e.rotation=d.rotation,e.skewX=d.skewX,e.scaleX=d.scaleX,e.scaleY=d.scaleY,e.x=d.x,e.y=d.y,wa&&(e.z=d.z,e.rotationX=d.rotationX,e.rotationY=d.rotationY,e.scaleZ=d.scaleZ),e.filters&&delete e.filters,e},Z=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(s,"")?f:0:X(a,g),void 0!==j[g]&&(h=new la(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},$={width:["Left","Right"],height:["Top","Bottom"]},_=["marginLeft","marginRight","marginTop","marginBottom"],aa=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=$[b],f=e.length;for(c=c||U(a,null);--f>-1;)d-=parseFloat(V(a,"padding"+e[f],c,!0))||0,d-=parseFloat(V(a,"border"+e[f]+"Width",c,!0))||0;return d},ba=function(a,b){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(s,"")),b.oy=parseFloat(e.replace(s,""))),d+" "+e+(c.length>2?" "+c[2]:"")},ca=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},da=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},ea=function(a,b,c,d){var e,f,g,h,i=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),g=Number(f[0].replace(s,""))*(-1===a.indexOf("rad")?1:H)-("="===a.charAt(1)?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(0|g/e)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(0|g/e)*e)),h=b+g),i>h&&h>-i&&(h=0),h},fa={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ga=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,0|255*(1>6*a?b+6*(c-b)*a:.5>a?c:2>3*a?b+6*(c-b)*(2/3-a):b)+.5},ha=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,255&a>>8,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),fa[a]?fa[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):"hsl"===a.substr(0,3)?(a=a.match(p),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=.5>=g?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=ga(e+1/3,b,c),a[1]=ga(e,b,c),a[2]=ga(e-1/3,b,c),a):(a=a.match(p)||fa.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):fa.black},ia="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(i in fa)ia+="|"+i+"\\b";ia=RegExp(ia+")","gi");var ja=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ia)||[""])[0]:"",g=a.split(f).join("").match(r)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(p,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(o=a.replace(F,"|").split("|"),n=0;o.length>n;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ia)||[f])[0],m=a.split(b).join("").match(r)||[],n=m.length,k>n--)for(;k>++n;)m[n]=c?m[0|(n-1)/2]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(f=a.replace(F,"|").split("|"),m=0;f.length>m;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(r)||[],m=b.length,k>m--)for(;k>++m;)b[m]=c?b[0|(m-1)/2]:g[m];return h+b.join(j)+i}:function(a){return a}},ka=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},la=(M._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=Math.round(b):i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;c.l>d;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ma=(M._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=I;for(c._transform=null,I=b,d=k=c.parse(a,b,d,e),I=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(1>=d.type&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new la(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new la(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},M.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ma||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),na=g.parseComplex=function(a,b,c,d,e,f,g,h,i,k){c=c||f||"",g=new ma(a,b,0,0,g,k?2:1,null,!1,h,c,d),d+="";var l,m,n,o,r,s,t,u,v,w,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=j!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(F,", ").split(" "),B=B.join(" ").replace(F,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=k,l=0;C>l;l++)if(o=A[l],r=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,ca(r,u),r.replace(q,""),D&&-1!==r.indexOf("px"),!0);else if(e&&("#"===o.charAt(0)||fa[o]||x.test(o)))z=","===r.charAt(r.length-1)?"),":")",o=ha(o),r=ha(r),v=o.length+r.length>6,v&&!O&&0===r[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(O||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],r[0]-o[0],",",!0,!0).appendXtra("",o[1],r[1]-o[1],",",!0).appendXtra("",o[2],r[2]-o[2],v?",":z,!0),v&&(o=4>o.length?1:o[3],g.appendXtra("",o,(4>r.length?1:r[3])-o,z,!1)));else if(s=o.match(p)){if(t=r.match(q),!t||t.length!==s.length)return g;for(n=0,m=0;s.length>m;m++)y=s[m],w=o.indexOf(y,n),g.appendXtra(o.substr(n,w-n),Number(y),ca(t[m],y),"",D&&"px"===o.substr(w+y.length,2),0===m),n=w+y.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(z=g.xs0+g.data.s,l=1;g.l>l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},oa=9;for(i=ma.prototype,i.l=i.pr=0;--oa>0;)i["xn"+oa]=0,i["xs"+oa]="";i.xs0="",i._next=i._prev=i.xfirst=i.data=i.plugin=i.setRatio=i.rxp=null,i.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ma(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var pa=function(a,b){b=b||{},this.p=b.prefix?T(a)||a:a,h[a]=h[this.p]=this,this.format=b.formatter||ja(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},qa=M._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;f.length>d;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new pa(f[d],b)},ra=function(a){if(!h[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";qa(a,{parser:function(a,c,d,e,f,g,i){var j=(window.GreenSockGlobals||window).com.greensock.plugins[b];return j?(j._cssRegister(),h[d].parse(a,c,d,e,f,g,i)):(Q("Error: "+b+" js file not loaded."),f)}})}};i=pa.prototype,i.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(F.test(c)||F.test(b)?(h=b.replace(F,"|").split("|"),i=c.replace(F,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(c=-1===l?i:h,c[g]+=" "+m));b=h.join(", "),c=i.join(", ")}return na(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},i.parse=function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){qa(a,{parser:function(a,d,e,f,g,h){var i=new ma(a,e,0,0,g,2,e,!1,c);return i.plugin=h,i.setRatio=b(a,d,f._tween,e),i},priority:c})};var sa="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective".split(","),ta=T("transform"),ua=R+"transform",va=T("transformOrigin"),wa=null!==T("perspective"),xa=M.Transform=function(){this.skewY=0},ya=M.getTransform=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var e,f,h,i,j,k,l,m,n,o,p,q,r,s=c?a._gsTransform||new xa:new xa,t=0>s.scaleX,u=2e-5,v=1e5,w=179.99,x=w*G,y=wa?parseFloat(V(a,va,b,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0;for(ta?e=V(a,ua,b,!0):a.currentStyle&&(e=a.currentStyle.filter.match(D),e=e&&4===e.length?[e[0].substr(4),Number(e[2].substr(4)),Number(e[1].substr(4)),e[3].substr(4),s.x||0,s.y||0].join(","):""),f=(e||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=f.length;--h>-1;)i=Number(f[h]),f[h]=(j=i-(i|=0))?(0|j*v+(0>j?-.5:.5))/v+i:i;if(16===f.length){var z=f[8],A=f[9],B=f[10],C=f[12],E=f[13],F=f[14];if(s.zOrigin&&(F=-s.zOrigin,C=z*F-f[12],E=A*F-f[13],F=B*F+s.zOrigin-f[14]),!c||d||null==s.rotationX){var I,J,K,L,M,N,O,P=f[0],Q=f[1],R=f[2],S=f[3],T=f[4],U=f[5],W=f[6],X=f[7],Y=f[11],Z=Math.atan2(W,B),$=-x>Z||Z>x;s.rotationX=Z*H,Z&&(L=Math.cos(-Z),M=Math.sin(-Z),I=T*L+z*M,J=U*L+A*M,K=W*L+B*M,z=T*-M+z*L,A=U*-M+A*L,B=W*-M+B*L,Y=X*-M+Y*L,T=I,U=J,W=K),Z=Math.atan2(z,P),s.rotationY=Z*H,Z&&(N=-x>Z||Z>x,L=Math.cos(-Z),M=Math.sin(-Z),I=P*L-z*M,J=Q*L-A*M,K=R*L-B*M,A=Q*M+A*L,B=R*M+B*L,Y=S*M+Y*L,P=I,Q=J,R=K),Z=Math.atan2(Q,U),s.rotation=Z*H,Z&&(O=-x>Z||Z>x,L=Math.cos(-Z),M=Math.sin(-Z),P=P*L+T*M,J=Q*L+U*M,U=Q*-M+U*L,W=R*-M+W*L,Q=J),O&&$?s.rotation=s.rotationX=0:O&&N?s.rotation=s.rotationY=0:N&&$&&(s.rotationY=s.rotationX=0),s.scaleX=(0|Math.sqrt(P*P+Q*Q)*v+.5)/v,s.scaleY=(0|Math.sqrt(U*U+A*A)*v+.5)/v,s.scaleZ=(0|Math.sqrt(W*W+B*B)*v+.5)/v,s.skewX=0,s.perspective=Y?1/(0>Y?-Y:Y):0,s.x=C,s.y=E,s.z=F}}else if(!(wa&&!d&&f.length&&s.x===f[4]&&s.y===f[5]&&(s.rotationX||s.rotationY)||void 0!==s.x&&"none"===V(a,"display",b))){var _=f.length>=6,aa=_?f[0]:1,ba=f[1]||0,ca=f[2]||0,da=_?f[3]:1;s.x=f[4]||0,s.y=f[5]||0,k=Math.sqrt(aa*aa+ba*ba),l=Math.sqrt(da*da+ca*ca),m=aa||ba?Math.atan2(ba,aa)*H:s.rotation||0,n=ca||da?Math.atan2(ca,da)*H+m:s.skewX||0,o=k-Math.abs(s.scaleX||0),p=l-Math.abs(s.scaleY||0),Math.abs(n)>90&&270>Math.abs(n)&&(t?(k*=-1,n+=0>=m?180:-180,m+=0>=m?180:-180):(l*=-1,n+=0>=n?180:-180)),q=(m-s.rotation)%180,r=(n-s.skewX)%180,(void 0===s.skewX||o>u||-u>o||p>u||-u>p||q>-w&&w>q&&!1|q*v||r>-w&&w>r&&!1|r*v)&&(s.scaleX=k,s.scaleY=l,s.rotation=m,s.skewX=n),wa&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(g.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=y;for(h in s)u>s[h]&&s[h]>-u&&(s[h]=0);return c&&(a._gsTransform=s),s},za=function(a){var b,c,d=this.data,e=-d.rotation*G,f=e+d.skewX*G,g=1e5,h=(0|Math.cos(e)*d.scaleX*g)/g,i=(0|Math.sin(e)*d.scaleX*g)/g,j=(0|Math.sin(f)*-d.scaleY*g)/g,k=(0|Math.cos(f)*d.scaleY*g)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,p,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x,x=d.y;if(null!=d.ox&&(n=(d.oxp?.01*q*d.ox:d.ox)-q/2,p=(d.oyp?.01*r*d.oy:d.oy)-r/2,w+=n-(n*h+p*i),x+=p-(n*j+p*k)),s?(n=q/2,p=r/2,v+=", Dx="+(n-(n*h+p*i)+w)+", Dy="+(p-(n*j+p*k)+x)+")"):v+=", sizingMethod='auto expand')",l.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(E,v):v+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===v.indexOf("Dx=0, Dy=0")||u.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>o?1:-1;for(n=d.ieOffsetX||0,p=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),oa=0;4>oa;oa++)z=_[oa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):W(this.t,z,parseFloat(y),y.replace(t,""))||0,A=c!==d[z]?2>oa?-d.ieOffsetX:-d.ieOffsetY:2>oa?n-d.ieOffsetX:p-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===oa||2===oa?1:B)))+"px"}}},Aa=M.set3DTransformRatio=function(){var a,b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y=this.data,z=this.t.style,A=y.rotation*G,B=y.scaleX,C=y.scaleY,D=y.scaleZ,E=y.perspective;if(m){var F=1e-4;F>B&&B>-F&&(B=D=2e-5),F>C&&C>-F&&(C=D=2e-5),!E||y.z||y.rotationX||y.rotationY||(E=0)}if(A||y.skewX)s=Math.cos(A),t=Math.sin(A),a=s,e=t,y.skewX&&(A-=y.skewX*G,s=Math.cos(A),t=Math.sin(A),"simple"===y.skewType&&(u=Math.tan(y.skewX*G),u=Math.sqrt(1+u*u),s*=u,t*=u)),b=-t,f=s;else{if(!(y.rotationY||y.rotationX||1!==D||E))return void(z[ta]="translate3d("+y.x+"px,"+y.y+"px,"+y.z+"px)"+(1!==B||1!==C?" scale("+B+","+C+")":""));a=f=1,b=e=0}k=1,c=d=g=h=i=j=l=n=o=0,p=E?-1/E:0,q=y.zOrigin,r=1e5,A=y.rotationY*G,A&&(s=Math.cos(A),t=Math.sin(A),i=k*-t,n=p*-t,c=a*t,g=e*t,k*=s,p*=s,a*=s,e*=s),A=y.rotationX*G,A&&(s=Math.cos(A),t=Math.sin(A),u=b*s+c*t,v=f*s+g*t,w=j*s+k*t,x=o*s+p*t,c=b*-t+c*s,g=f*-t+g*s,k=j*-t+k*s,p=o*-t+p*s,b=u,f=v,j=w,o=x),1!==D&&(c*=D,g*=D,k*=D,p*=D),1!==C&&(b*=C,f*=C,j*=C,o*=C),1!==B&&(a*=B,e*=B,i*=B,n*=B),q&&(l-=q,d=c*l,h=g*l,l=k*l+q),d=(u=(d+=y.x)-(d|=0))?(0|u*r+(0>u?-.5:.5))/r+d:d,h=(u=(h+=y.y)-(h|=0))?(0|u*r+(0>u?-.5:.5))/r+h:h,l=(u=(l+=y.z)-(l|=0))?(0|u*r+(0>u?-.5:.5))/r+l:l,z[ta]="matrix3d("+[(0|a*r)/r,(0|e*r)/r,(0|i*r)/r,(0|n*r)/r,(0|b*r)/r,(0|f*r)/r,(0|j*r)/r,(0|o*r)/r,(0|c*r)/r,(0|g*r)/r,(0|k*r)/r,(0|p*r)/r,d,h,l,E?1+-l/E:1].join(",")+")"},Ba=M.set2DTransformRatio=function(a){var b,c,d,e,f,g=this.data,h=this.t,i=h.style;return g.rotationX||g.rotationY||g.z||g.force3D?(this.setRatio=Aa,void Aa.call(this,a)):void(g.rotation||g.skewX?(b=g.rotation*G,c=b-g.skewX*G,d=1e5,e=g.scaleX*d,f=g.scaleY*d,i[ta]="matrix("+(0|Math.cos(b)*e)/d+","+(0|Math.sin(b)*e)/d+","+(0|Math.sin(c)*-f)/d+","+(0|Math.cos(c)*f)/d+","+g.x+","+g.y+")"):i[ta]="matrix("+g.scaleX+",0,0,"+g.scaleY+","+g.x+","+g.y+")")};qa("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType",{parser:function(a,b,c,d,f,h,i){if(d._transform)return f;var j,k,l,m,n,o,p,q=d._transform=ya(a,e,!0,i.parseTransform),r=a.style,s=1e-6,t=sa.length,u=i,v={};if("string"==typeof u.transform&&ta)l=r.cssText,r[ta]=u.transform,r.display="block",j=ya(a,null,!1),r.cssText=l;else if("object"==typeof u){if(j={scaleX:da(null!=u.scaleX?u.scaleX:u.scale,q.scaleX),scaleY:da(null!=u.scaleY?u.scaleY:u.scale,q.scaleY),scaleZ:da(u.scaleZ,q.scaleZ),x:da(u.x,q.x),y:da(u.y,q.y),z:da(u.z,q.z),perspective:da(u.transformPerspective,q.perspective)},p=u.directionalRotation,null!=p)if("object"==typeof p)for(l in p)u[l]=p[l];else u.rotation=p;j.rotation=ea("rotation"in u?u.rotation:"shortRotation"in u?u.shortRotation+"_short":"rotationZ"in u?u.rotationZ:q.rotation,q.rotation,"rotation",v),wa&&(j.rotationX=ea("rotationX"in u?u.rotationX:"shortRotationX"in u?u.shortRotationX+"_short":q.rotationX||0,q.rotationX,"rotationX",v),j.rotationY=ea("rotationY"in u?u.rotationY:"shortRotationY"in u?u.shortRotationY+"_short":q.rotationY||0,q.rotationY,"rotationY",v)),j.skewX=null==u.skewX?q.skewX:ea(u.skewX,q.skewX),j.skewY=null==u.skewY?q.skewY:ea(u.skewY,q.skewY),(k=j.skewY-q.skewY)&&(j.skewX+=k,j.rotation+=k)}for(wa&&null!=u.force3D&&(q.force3D=u.force3D,o=!0),q.skewType=u.skewType||q.skewType||g.defaultSkewType,n=q.force3D||q.z||q.rotationX||q.rotationY||j.z||j.rotationX||j.rotationY||j.perspective,n||null==u.scale||(j.scaleZ=1);--t>-1;)c=sa[t],m=j[c]-q[c],(m>s||-s>m||null!=I[c])&&(o=!0,f=new ma(q,c,q[c],m,f),c in v&&(f.e=v[c]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return m=u.transformOrigin,(m||wa&&n&&q.zOrigin)&&(ta?(o=!0,c=va,m=(m||V(a,c,e,!1,"50% 50%"))+"",f=new ma(r,c,0,0,f,-1,"transformOrigin"),f.b=r[c],f.plugin=h,wa?(l=q.zOrigin,m=m.split(" "),q.zOrigin=(m.length>2&&(0===l||"0px"!==m[2])?parseFloat(m[2]):l)||0,f.xs0=f.e=r[c]=m[0]+" "+(m[1]||"50%")+" 0px",f=new ma(q,"zOrigin",0,0,f,-1,f.n),f.b=l,f.xs0=f.e=q.zOrigin):f.xs0=f.e=r[c]=m):ba(m+"",q)),o&&(d._transformType=n||3===this._transformType?3:2),f},prefix:!0}),qa("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),qa("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g){b=this.format(b);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=a.style;for(p=parseFloat(a.offsetWidth),q=parseFloat(a.offsetHeight),h=b.split(" "),i=0;x.length>i;i++)this.p.indexOf("border")&&(x[i]=T(x[i])),l=k=V(a,x[i],e,!1,"0px"),-1!==l.indexOf(" ")&&(k=l.split(" "),l=k[0],k=k[1]),m=j=h[i],n=parseFloat(l),s=l.substr((n+"").length),t="="===m.charAt(1),t?(o=parseInt(m.charAt(0)+"1",10),m=m.substr(2),o*=parseFloat(m),r=m.substr((o+"").length-(0>o?1:0))||""):(o=parseFloat(m),r=m.substr((o+"").length)),""===r&&(r=d[c]||s),r!==s&&(u=W(a,"borderLeft",n,s),v=W(a,"borderTop",n,s),"%"===r?(l=100*(u/p)+"%",k=100*(v/q)+"%"):"em"===r?(w=W(a,"borderLeft",1,"em"),l=u/w+"em",k=v/w+"em"):(l=u+"px",k=v+"px"),t&&(m=parseFloat(l)+o+r,j=parseFloat(k)+o+r)),g=na(y,x[i],l+" "+k,m+" "+j,!1,"0px",g);return g},prefix:!0,formatter:ja("0px 0px 0px 0px",!1,!0)}),qa("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",p=e||U(a,null),q=this.format((p?o?p.getPropertyValue(n+"-x")+" "+p.getPropertyValue(n+"-y"):p.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=V(a,"backgroundImage").replace(A,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),L.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-L.width:a.offsetHeight-L.height,h[j]=k?parseFloat(q)/100*l+"px":100*(parseFloat(q)/l)+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ba}),qa("backgroundSize",{defaultValue:"0 0",formatter:ba}),qa("perspective",{defaultValue:"0px",prefix:!0}),qa("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),qa("transformStyle",{prefix:!0}),qa("backfaceVisibility",{prefix:!0}),qa("userSelect",{prefix:!0}),qa("margin",{parser:ka("marginTop,marginRight,marginBottom,marginLeft")}),qa("padding",{parser:ka("paddingTop,paddingRight,paddingBottom,paddingLeft")}),qa("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>o?(i=a.currentStyle,j=8>o?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(V(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),qa("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),qa("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),qa("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,"borderTopWidth",e,!1,"0px")+" "+V(a,"borderTopStyle",e,!1,"solid")+" "+V(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ia)||["#000"])[0]}}),qa("borderWidth",{parser:ka("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),qa("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){var f=a.style,g="cssFloat"in f?"cssFloat":"styleFloat";return new ma(f,g,0,0,e,-1,c,!1,0,f[g],b)}});var Ca=function(a){var b,c=this.t,d=c.filter||V(this.data,"filter"),e=0|this.s+this.c*a;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!V(this.data,"filter")):(c.filter=d.replace(w,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("opacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(u,"opacity="+e))};qa("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(V(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===V(a,"visibility",e)&&0!==b&&(h=0),O?f=new ma(i,"opacity",h,b-h,f):(f=new ma(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ca),j&&(f=new ma(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Da=function(a,b){b&&(a.removeProperty?("ms"===b.substr(0,2)&&(b="M"+b.substr(1)),a.removeProperty(b.replace(y,"-$1").toLowerCase())):a.removeAttribute(b))},Ea=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.className=0===a?this.b:this.e;for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Da(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};qa("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.className,p=a.style.cssText;if(g=f._classNamePT=new ma(a,d,0,0,g,2),g.setRatio=Ea,g.pr=-11,c=!0,g.b=o,k=Y(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),f._tween._duration&&(a.className=g.e,j=Z(a,k,Y(a),i,m),a.className=o,g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)),g}});var Fa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f=this.t.style,g=h.transform.parse;if("all"===this.e)f.cssText="",e=!0;else for(b=this.e.split(","),d=b.length;--d>-1;)c=b[d],h[c]&&(h[c].parse===g?e=!0:c="transformOrigin"===c?va:h[c].p),Da(f,c);e&&(Da(f,ta),this.t._gsTransform&&delete this.t._gsTransform)}};for(qa("clearProps",{parser:function(a,b,d,e,f){return f=new ma(a,d,0,0,f,2),f.setRatio=Fa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),i="bezier,throwProps,physicsProps,physics2D".split(","),oa=i.length;oa--;)ra(i[oa]);i=g.prototype,i._firstPT=null,i._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,j=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=U(a,""),f=this._overwriteProps;var i,m,o,p,q,r,s,t,u,w=a.style;if(k&&""===w.zIndex&&(i=V(a,"zIndex",e),("auto"===i||""===i)&&(w.zIndex=0)),"string"==typeof b&&(p=w.cssText,i=Y(a,e),w.cssText=p+";"+b,i=Z(a,i,Y(a)).difs,!O&&v.test(b)&&(i.opacity=parseFloat(RegExp.$1)),b=i,w.cssText=p),this._firstPT=m=this.parse(a,b,null),this._transformType){for(u=3===this._transformType,ta?l&&(k=!0,""===w.zIndex&&(s=V(a,"zIndex",e),("auto"===s||""===s)&&(w.zIndex=0)),n&&(w.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):w.zoom=1,o=m;o&&o._next;)o=o._next;t=new ma(a,"transform",0,0,null,2),this._linkCSSP(t,null,o),t.setRatio=u&&wa?Aa:ta?Ba:za,t.data=this._transform||ya(a,e,!0),f.pop()}if(c){for(;m;){for(r=m._next,o=p;o&&o.pr>m.pr;)o=o._next;(m._prev=o?o._prev:q)?m._prev._next=m:p=m,(m._next=o)?o._prev=m:q=m,m=r}this._firstPT=p}return!0},i.parse=function(a,b,c,f){var g,i,k,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],i=h[g],i?c=i.parse(a,n,g,this,c,f,b):(m=V(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&x.test(n)?(q||(n=ha(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=na(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(k=parseFloat(m),o=k||0===k?m.substr((k+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(k=aa(a,g,e),o="px"):"left"===g||"top"===g?(k=X(a,g,e),o="px"):(k="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(t,"")):(l=parseFloat(n),p=q?n.substr((l+"").length)||"":""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(r?l+k:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&k&&(k=W(a,g,k,o),"%"===p?(k/=W(a,g,100,"%")/100,b.strictUnits!==!0&&(m=k+"%")):"em"===p?k/=W(a,g,1,"em"):"px"!==p&&(l=W(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+k+p)),r&&(l+=k),!k&&0!==k||!l&&0!==l?void 0!==s[g]&&(n||"NaN"!=n+""&&null!=n)?(c=new ma(s,g,l||k||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):Q("invalid "+g+" tween value: "+b[g]):(c=new ma(s,g,k,l-k,c,0,g,j!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=na(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},i.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;e.l>d;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;)2!==e.type?e.t[e.p]=e.e:e.setRatio(a),e=e._next},i._enableTransforms=function(a){this._transformType=a||3===this._transformType?3:2,this._transform=this._transform||ya(this._target,e,!0)},i._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},i._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Ga=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Ga(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(Y(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Ga(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h=b.to(a,c,d),i=[h],j=[],k=[],l=[],m=b._internals.reservedProps;for(a=h._targets||h.target,Ga(a,j,l),h.render(c,!0),Ga(a,k),h.render(0,!0),h._enabled(!0),e=l.length;--e>-1;)if(f=Z(l[e],j[e],k[e]),f.firstMPT){f=f.difs;for(g in d)m[g]&&(f[g]=d[g]);i.push(b.to(l[e],c,f))}return i},a.activate([g]),g},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css-plugin",function(a){return function(){var b;return b||a.CSSPlugin}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var a=180/Math.PI,b=[],c=[],d=[],e={},f=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},g=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},i=function(a,e,f,g,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,i?(t=b[j],u=c[j],v=.25*(u+t)*e/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-.5*(l-k)*e,p=l+.5*(m-l)*e,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=h(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=h(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},j=function(a,d,e,g){var h,i,j,k,l,m,n=[];if(g)for(a=[g].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=g[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new f(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new f(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new f(a[i][d],0,0,a[i+1][d]),n},k=function(a,f,h,k,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":g,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=j(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!k){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q],d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=h?4:1;--n>-1;)o=w[n],p=v[o],i(p,f,h,k,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},l=function(a,b,c){b=b||"soft";var d,e,g,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];
if(r&&c&&(a=[c].concat(a)),null==a||q+1>a.length)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],g=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new f(d,e,g,h):new f(d,(2*e+d)/3,(2*e+g)/3,g);i.length=n}return p},m=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},n=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],n=[];for(c in a)m(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,n[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=n,h[f]=j,i=0,n=[]);return{length:j,lengths:h,segments:l}},o=window._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.2",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},m=i[0],o=b.autoRotate||c.vars.orientToBezier;this._autoRotate=o?o instanceof Array?o:[["x","y","rotation",o===!0?0:Number(o)||0]]:null;for(d in m)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?k(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):l(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=n(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(o=this._autoRotate)for(this._initialRotations=[],o[0]instanceof Array||(this._autoRotate=o=[o]),f=o.length;--f>-1;){for(g=0;3>g;g++)d=o[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=o[f][2],this._initialRotations[f]=this._func[d]?this._func[d].call(this._target):this._target[d]}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&b>=(this._l2=k[++e]););this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(this._l1>b&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&this._l1>b?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&l.length-1>e){for(j=l.length-1;j>e&&b>=(this._s2=l[++e]););this._s1=l[e-1],this._si=e}else if(this._s1>b&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&this._s1>b?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=Math.round(i)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],n[f]?o[f](i):o[f]=i)}}}),p=o.prototype;o.bezierThrough=k,o.cubicToQuadratic=h,o._autoCSS=!0,o.quadraticToCubic=function(a,b,c){return new f(a,(2*b+a)/3,(2*b+c)/3,c)},o._cssRegister=function(){var a=window._gsDefine.globals.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new o;var j,k,l,m=b.values,n=m.length-1,p=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),p[j]=l.end;for(k in b)q[k]=b[k];return q.values=p,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform),i._onInitTween(l.proxy,q,g._tween),h}})}},p._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},p._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}),window._gsDefine&&window._gsQueue.pop()(),define("bezier-plugin",function(a){return function(){var b;return b||a.BezierPlugin}}(this)),define("helpers/GsapTweenLite",["require","tween-lite","ease-pack","css-plugin","bezier-plugin"],function(a){"use strict";var b=a("tween-lite");return a("ease-pack"),a("css-plugin"),a("bezier-plugin"),b.defaultOverwrite=!1,b}),define("helpers/external/ao",["require","lodash","external/superagent","polyfills/detection","helpers/utils","helpers/resolver","helpers/GsapTweenLite","helpers/vow","views/helpers/dom"],function(a){"use strict";var b,c,d=a("lodash"),e=a("external/superagent"),f=a("polyfills/detection"),g=a("helpers/utils"),h=(a("helpers/resolver"),a("helpers/GsapTweenLite")),i=a("helpers/vow"),j=a("views/helpers/dom"),k=0,l="SavePlayerData",m="SaveResume",n="GetResumeInfo",o="RefreshSession",p="GetSessionId",q="GetResumeInfoResponse",r="GetSessionIdResponse",s=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),t="</soap:Body></soap:Envelope>",u=window.location.origin,v=d.first(window.location.toString().split("#")),w="http://articulate.com",x=function(a){var b=d.rest(arguments);return[a].concat(b).join("/")},y="",z={};z[n]="sendResumeReady",z[p]="onSessionId",z[o]="dontDoAnything",z[m]="dontDoAnything",z[l]="dontDoAnything";var A={queue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(a,b){return window.globals.aoSupport?(this.activityId=a,this.scoring=b||{},this.sessionId=Date.now().toString(),window.addEventListener("beforeunload",this.onBeforeUnload.bind(this)),window.addEventListener("unload",this.onBeforeUnload.bind(this)),this):void 0},setTotalSlides:function(a){this.totalSlides=a},setResumer:function(a){this.resumer=a,this.queueRequest(p)},interactionAnswered:function(a,b){this.updateResults()},quizComplete:function(a){this.updateResults()},courseComplete:function(a){this.updateResults().sendResultsData(),this.scoring.markAttemptsSent(),this.updateResults()},courseStarted:d.noop,reportStatus:d.noop,viewedComplete:d.noop,slideViewed:function(a){var b=[j.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(a){b.push(a)}),b.push(j.writeCloseNode("viewdata")),this.updateViewData(b.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.scoring.isPastViewThreshold()&&this.sendResultsData())},getViewedEls:function(a){return a.reduce(function(a,b){return a.push(j.writeNode("slide",{id:g.stripPlayer(b.absoluteId),viewgroupid:b.getViewGroupId()},!0)),a},[])},setViewedResults:function(){var a=[j.writeNode("results"),j.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),j.writeCloseNode("results")].join("");this.updateResultsData(a,!0)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var a=[j.writeNode("results"),j.writeNode("summary",this.getSummaryAttributes(),!0),j.writeNode("quizzes")];return null!=this.scoring.quiz&&a.push(this.scoring.quiz.getAoSoapXml()),a.push(j.writeCloseNode("quizzes"),j.writeCloseNode("results")),this.updateResultsData(a.join(""),!1),this}},getSummaryAttributes:function(a){return a={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(a.score=this.scoring.prop("PercentScore"),a.possibleScore=100),a.duration=this.resumer.getCourseTime(),a.status=this.scoring.prop("Status")),a},onSessionId:function(a){this.sessionId=a.querySelector(r).textContent,this.createRefreshInterval()},killRefreshInterval:function(){h.killDelayedCallsTo(this.onIntervalComplete)},createRefreshInterval:function(){h.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(o).createRefreshInterval()},dontDoAnything:d.noop,getItem:function(){return this.resumeDfd=new i.Deferred,this.queueRequest(n),this.resumeDfd.promise()},setItem:function(a,b){b!==this.lastData&&(this.lastData=b,this.updateResumeData(b))},sendResumeReady:function(a){var b=a.querySelector(q);this.resumeDfd.resolve(b.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(a){var c;b=["<resumeData>",a,"</resumeData>"].join(""),c=['<playerdata sessionid="',this.sessionId,'">',b,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(m,c),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(a){c=a,this.prepareHtmlUpdate()},updateResultsData:function(a,b){y=a,b&&this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',k,'">',b,c,y,"</playerdata>"].join("")},sendResultsData:function(){var a=this.getPlayerData();k++,this.queueRequest(l,a,!0),this.htmlUpdate=b=c=y=""},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(a){var b;this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,b=f.isIE()?"sendSyncRequest":"sendRequest",this[b]({command:this.hasResultsData()?l:m,xmlData:this.htmlUpdate}))},queueRequest:function(a,b,c){var d=c?"push":"unshift",e={command:a,xmlData:b};return 0===this.queue.length&&this.awaitingResponse===!1?this.sendRequest(e):this.queue[d](e),this},requestCallback:function(a,b,c){var d,e;this.awaitingResponse=!1,b||(d=new window.DOMParser,e=d.parseFromString(c.text,"application/xml")),this[a](e),this.popQueue()},popQueue:function(){this.queue.length>0&&this.sendRequest(this.queue.pop())},sendRequest:function(a,b){f.isIE()&&this.hasEnded&&this.sendSyncRequest(a);var c=this.createBaseUrl("services/content/api.asmx"),d=this.createActionUrl("KnowledgeFlash/Services/Content/Api",a.command),g=this.createSoapRequest(a),h=z[a.command];this.awaitingResponse=!0,e.post(c).set("Content-Type","text/xml").set("soapaction",d).send(g).end(this.requestCallback.bind(this,h))},createActionUrl:d.partial(x,w),createBaseUrl:d.partial(x,u),createSoapRequest:function(a){return[s,"<command ".replace("command",a.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",w),"<contentUrl>",window.escape(v),"</contentUrl>",null!=a.xmlData?a.xmlData:"","</command>".replace("command",a.command),t].join("")},sendSyncRequest:function(a){var b=this.createBaseUrl("services/content/api.asmx"),c=this.createActionUrl("KnowledgeFlash/Services/Content/Api",a.command),d=this.createSoapRequest(a),e=new window.XMLHttpRequest;e.open("POST",b,!1),e.setRequestHeader("SOAPAction",c),e.send(d)}};return window.handleBeforeUnload=A.onBeforeUnload.bind(A),A}),define("helpers/external/lmsInteractionMethods",["require","lodash","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/constants"),"_"),d="|#|",e=function(a){return null==a&&(a=""),window.CreateResponseIdentifier(a.substr(0,1),a)},f=function(a,b){return a.push(e(b)),a},g=function(a,b,c){var d=b.statement.lmstext||b.statement,e=b.choice.lmstext||b.choice,f=window.CreateResponseIdentifier(c.toString(),d),g=window.CreateResponseIdentifier(d.charAt(0),e);return a.push(new window.MatchingResponse(f,g)),a},h=function(a){return null==a.choice&&""===a?a=c:""===a.choice&&(a.choice=c),a},i={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},j=function(a){var c=b.first(a).toUpperCase();return i[c]||a},k=function(a){return null!=a?"true"===a.lmstext.toLowerCase():!1},l=function(a,b){var c,d=b,e=[b.prop("AttemptCount")-1,a.getAttempts()];do c=d.get("lmsId"),c&&e.push(c);while(d=d.parent);return e.reverse().join("_")},m={truefalse:function(a,c,d){window.RecordTrueFalseInteraction(l(a,c),k(b.first(c.getResponseValues())),j(c.prop("Status")),k(b.first(c.getCorrectValues())),c.get("lmstext"),a.prop("Weight"),d,a.get("lmstext"))},multiEtc:function(a,c,d,g){var i,k,m,n,o=d.isType("sequence");o?(k=function(a,b,c){return a.push(e(b.statement.lmstext),e(b.choice.lmstext)),a},m=d.getResponseValues().reduce(k,[]),n=h(d.getCorrectValues()).reduce(k,[])):(i=function(a){return b.isString(a)?a:null!=a.choice?a.choice.lmstext:a.lmstext},m=d.getResponseValues().map(i).reduce(f,[]),n=h(d.getCorrectValues().map(i)).reduce(f,[])),window[a](l(c,d),m,j(d.prop("Status")),n,d.get("lmstext"),c.prop("Weight"),g,c.get("lmstext"))},numeric:function(a,b,c,d){window.RecordFillInInteraction(l(a,b),b.getResponseValues(),j(b.prop("Status")),d||b.getCorrectValues(),b.get("lmstext"),a.prop("Weight"),c,a.get("lmstext"))},fillin:function(a,b,c){var e=b.getCorrectValues().map(function(a){return a.lmstext}).join(d);m.numeric(a,b,c,e)},matching:function(a,b,c){var d=b.getResponseValues().reduce(g,[]),e=b.getCorrectValues();e=h(e).reduce(g,[]),window.RecordMatchingInteraction(l(a,b),d,j(b.prop("Status")),e,b.get("lmstext"),a.prop("Weight"),c,a.get("lmstext"))},likert:function(a,c,e){var f=b.flatten(c.getResponseValues().map(function(a){return[a.statement.lmstext,a.choice.lmstext]})).join(d);window.RecordLikertInteraction(l(a,c),window.CreateResponseIdentifier(f.substr(0,1),f),j(c.prop("Status")),"",c.get("lmstext"),a.prop("Weight"),e,a.get("lmstext"))}};return m.wordbank=m.hotspot=m.multiplechoice=m.multipleresponse=b.partial(m.multiEtc,"RecordMultipleChoiceInteraction"),m.sequence=b.partial(m.multiEtc,"RecordSequencingInteraction"),m.essay=m.numeric,m}),define("helpers/external/lms",["require","lodash","helpers/external/lmsInteractionMethods","helpers/GsapTweenLite","helpers/vow","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/external/lmsInteractionMethods"),d=a("helpers/GsapTweenLite"),e=a("helpers/vow"),f=(a("helpers/utils"),{complete:function(a){a.api.SetReachedEnd()},incomplete:function(a){a.api.ResetStatus()},fail:function(a){a.api.SetFailed()},pass:function(a){a.api.SetPassed()}}),g={queue:[],resumer:null,scoring:null,api:null,lessonCompleted:!1,setTotalSlides:b.noop,courseStarted:b.noop,quizComplete:b.noop,slideViewed:b.noop,initialize:function(a,b){var c=this.startWindow();return c&&(this.scoring=b,this.courseId=a,window.addEventListener("beforeunload",this.lmsUnload.bind(this)),this.initCommitTimeout()),c===!0?this:c},startWindow:function(){this.api=window;var a=b.isFunction(this.api.Start);return a&&this.api.Start(),a},setResumer:function(a){this.resumer=a},getItem:function(a){var b;return this.resumeDfd=this.resumeDfd||new e.Deferred,null!=this.api.IsLoaded&&this.api.IsLoaded()?(b=this.api.GetDataChunk(),this.resumeDfd.resolve(b),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):d.delayedCall(.5,this.getItem,void 0,this),null!=a?this.resumeDfd.promise():void 0},listenToResumer:function(){var a=this;this.resumer.resumeDfd.always(function(){"rejected"===this.state()&&(a.lastStatus="incomplete",f.incomplete(a))})},setItem:function(a,b){this.resumeData=b,this.sendDataCall||(this.sendDataCall=d.delayedCall(5,this.sendData,void 0,this))},initCommitTimeout:function(){d.delayedCall(60,this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall=null,d.killDelayedCallsTo(this.sendData),this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(a,b){if(this.scoring){var d=c[b.type()];d(a,b,this.resumer.getCourseTime())}},reportStatus:function(){return this.updateScore(),this.updateStatus(),this},updateStatus:function(){var a=this.scoring.prop("Status"),c=f[a]||b.noop;return this.lastStatus&&this.lastStatus===a||(this.lastStatus=a,c(this)),this},updateScore:function(){if(!this.scoring.isView()&&this.scoring.quiz.attempted()){var a=this.scoring.prop("PercentScore");this.lastScore!==a&&(this.lastScore=a,this.api.SetScore(a,100,0))}},viewedComplete:function(){return f.pass(this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(){this.resumer.savePresentationData(),this.reportStatus().forceCommit(),this.api.ConcedeControl(),this.api.Unload()},commit:function(){return this.api.CommitData(),this},courseComplete:function(){return this.reportStatus().forceCommit(),this}};return g}),define("helpers/resume/localStorageHelper",["require","lodash","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d="path=/",e=4048,f=function(a){return a.split("=")},g=function(a){return a[0]},h=function(){var a=new Date(Date.now()+31536e7);return["expires",a.toGMTString()].join("=")},i={setCookie:function(a,b){var c=[a,b].join("=");return document.cookie=[c,h(),d].join("; "),this},getCookies:function(a){var b=document.cookie.split("; "),c=function(b){return 0===b[0].indexOf(a)};return b.map(f).filter(c)},getItem:function(a){var d=new c.Deferred,e=b(this.getCookies(a)).sortBy(g).reduce(function(a,b){return a+b[1]},"");return d.resolve(e),d.promise()},setItem:function(a,b){for(var c,d,f=0;b.length>0;)d=[a,f++].join("_"),c=b.slice(0,e),this.setCookie(d,c),b=b.slice(e);return this}},j={getItem:function(a){var b=new c.Deferred,d=window.localStorage.getItem(a);return b.resolve(d),b.promise()},setItem:function(a,b){var c;try{c=window.localStorage.setItem(a,b)}catch(d){console.warn(d)}return c}},k={setResumer:b.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!b.isUndefined(window.localStorage)}catch(a){return!1}},getStorage:function(){return b.extend(k,this.hasStorage()?j:i)}}}),define("helpers/resume/Chunk",["require","lodash","models/BaseModel"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=64,e=6,f="abcdefghijklmnopqrstuvwxyz",g=function(a){return a.toString()},h=b.union(b.range(10).map(g),f.split(""),f.toUpperCase().split(""),"_$".split("")),i=function(a){return h.indexOf(a)},j=/([^a-zA-Z0-9_$])/,k=c.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(a){var b,c=1,d=0;"~"===this.fullString().charAt(0)&&(d=2,c=parseInt(this.fullString().charAt(1))),b=d+c,this.encodedLength(this.fullString().slice(d,b)),this.strLength(parseInt(k.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(b,b+this.strLength())),this.remainder(this.fullString().slice(b+this.strLength()))},getDecodedValue:function(a){var b=this.encodedString();return j.test(b)||(b=k[a](b)),b},reChunk:function(){return new k({fullString:this.remainder()})}}),l=k.prototype;return l.getSignedValue=b.partial(l.getDecodedValue,"fromSignedString64"),l.getUnsignedValue=b.partial(l.getDecodedValue,"fromUnsignedString64"),k.EMPTY_CHUNK=0,k.create=function(a){null==a&&(a="");var b="",c=a.toString().length,d=k.toUnsignedString64(c);return c>63&&(b+="~"+d.length),b+=d+a},k.packData=function(a){return[k.create(k.toUnsignedString64(a.length)),a].join("")},k.toUnsignedString64=function(a,c,f){var g="",i=!0,j=a,l=0;for(f=f||k.EMPTY_CHUNK;j>0||i;)i=!1,l=j&d-1,g+=h[l],j>>=e;return g+=b.times(c-g.length,b.partial(b.identity,f)).join("")},k.toSignedString64=function(a,b){var c,e=a,f=0>a,g=1,h=0;for(b=b||-1;Math.pow(d,g)/2<=Math.abs(a);)g++;if(c=Math.max(b,g),f){for(;-a>=Math.pow(d,h)/2;)h++;e=Math.pow(d,h)+a}return k.toUnsignedString64(e,c,f?"$":"0")},k.fromUnsignedString64=function(a){var b=a.toString().split(""),c=function(a,b,c){return a+=i(b)<<e*c};return b.reduce(c,0)},k.fromSignedString64=function(a){var b=k.fromUnsignedString64(a.toString()),c=Math.pow(d,a.length)/2;return b>=c&&(b-=2*c),b},k}),define("helpers/resume/courseStateHelper",["require","lodash","helpers/utils","helpers/vow","helpers/resume/Chunk"],function(a){"use strict";var b,c,d=a("lodash"),e=a("helpers/utils"),f=a("helpers/vow"),g=a("helpers/resume/Chunk"),h={initialize:function(){var a,b,c={},e=window.vRestoreStateData;if(this.hasData=!d.isEmpty(e),this.hasData){for(a=new g({fullString:e}),this.resumeData=a.encodedString(),a=a.reChunk(),a=new g({fullString:a.encodedString()}),b=a.encodedString();b.length>0;)a=a.reChunk(),c[b]=a.encodedString(),a=a.reChunk(),b=a.encodedString();this.slideStateData=c}},setResumer:function(a){b=a},setWindowManager:function(a){c=a},getSlideStateData:function(a){return this.hasData?this.slideStateData[e.stripPlayer(a)]:void 0},clearSlideStateData:function(a){delete this.slideStateData[e.stripPlayer(a)]},getState:function(){return d.map([g.packData(b.collectResumeData()),this.getActiveSlideStates()],g.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var a=new f.Deferred;return a.resolve(),a.promise()},setItem:d.noop,setResumer:d.noop}},getActiveSlideStates:function(){return c.windows.map(function(a){var b=a.getCurrentSlide();return null==b?"":(b.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),d.map([e.stripPlayer(b.absoluteId),b.getResumeData()],g.create).join(""))}).join("")}};return h.initialize(),h}),define("helpers/PostMessaging",["require","helpers/vow","helpers/errorManager"],function(a){"use strict";var b=a("helpers/vow"),c=a("helpers/errorManager"),d={},e="request",f="response",g="SUCCESS",h="ERROR",i=[e,f],j=function(a,b){return d[a]=b,function(){delete d[a]}},k=function(a){return null!=a&&null!=a.id&&null!=a.type&&-1!==i.indexOf(a.type)},l=function(a){var b,e=c.throwError("PostMessaging");if(null!=a.data){try{b=JSON.parse(a.data)}catch(f){return}k(b)&&(null!=d[b.connectionId]?d[b.connectionId](b,a):e("No listener exists for connectionId: ",b.connectionId))}};window.addEventListener("message",l,!1);var m=function(a,d){var i,k,l,m=c.throwError("PostMessaging"),n={},o=0,p=new b.Deferred,q=d,r=function(a){return null!=a&&"function"==typeof a.then},s=function(a,c,d,f,h){var i=++o,j=new b.Deferred,k={type:c,connectionId:q};return n[i]=j,c===e?(k.method=d,k.params=f,k.id=i):(k.id=d,k.data=f,k.status=null!=h?h:g),a.postMessage(JSON.stringify(k),"*"),j.always(function(){delete n[i]}).fail(function(a){delete n[i],m(a.message)}),j.promise()},t=function(a){i=function(b,c){return p.then(function(){return s(a,e,b,c)})},k=function(b,c,d){return p.then(function(){return s(a,f,b,c,d)})}},u=function(b,c){var d,i;if(b.type===e)if("connect"===b.method)t(c.source),s(c.source,f,b.id),p.resolve();else if(null!=a[b.method])try{i=a[b.method].apply(void 0,Array.isArray(b.params)?b.params:[b.params]),r(i)?i.then(function(a){k(b.id,a)}):k(b.id,i)}catch(j){k(b.id,j.message,h)}else k(b.id,["No handler for this method ",b.method].join(""),h);else{if(d=n[b.id],null!=d)return void(b.status===g?d.resolve(b.data,c):d.reject(b.data,c));k(b.id,["No pending requests for this response id ",b.id].join(""),h)}};l=j(q,u),this.ready=function(){return p},this.connect=function(a){return t(a),s(a,e,"connect").then(p.resolve),p},this.request=function(){return null!=i?i.apply(void 0,arguments):void m("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){l(),window.removeEventListener("message",u,!1)}};return m}),define("helpers/webObjectHelper",["require","lodash","polyfills/detection","helpers/utils","helpers/errorManager","helpers/pubSub","helpers/vow","helpers/PostMessaging"],function(a){"use strict";var b,c,d=a("lodash"),e=a("polyfills/detection"),f=a("helpers/utils"),g=a("helpers/errorManager"),h=a("helpers/pubSub"),i=a("helpers/vow"),j=a("helpers/PostMessaging"),k=new i.Deferred,l=g.throwError("webObjectHelper"),m=!1;(new i.Deferred).reject().promise();h.once("data:initialized",function(){m=!0});var n=function(a){b=a,e.isWebObject?(c=new j(p,f.queryStringToObj().id),c.ready().then(k.resolve),c.connect(window.parent)):k.reject()},o=function(){null!=c&&c.tearDown()},p={setVolume:function(a){h.trigger("volume:changed",a)},executeFilteredPlayerEvent:function(a){if(!m)throw new Error("data is not yet initialized");b.executeFilteredPlayerEvent(q(a),"onhostevent")}},q=function(a){return function(b){return b.eventname===a}},r=function(a){if(void 0===c)throw Error("triggerHostEvent - postMessaging has not been initialized");return c.request("triggerHostEvent",a)},s=function(){return k.then(function(){return c.request("getResumeData").then(function(a){return a}).fail(l.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))})},t=function(a){return c.request("setResumeData",a).fail(l.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))},u=function(a){return d.extend({},a,{getItem:s,setItem:function(b,c){return t(c),a.setItem.apply(a,arguments)}})};return{initialize:n,tearDown:o,triggerHostEvent:r,getResumer:u}}),define("helpers/resume/resumer",["require","lodash","helpers/appState","helpers/pubSub","helpers/external/tinCan","helpers/external/ao","helpers/external/lms","helpers/resume/localStorageHelper","helpers/resume/Chunk","helpers/vow","helpers/errorManager","polyfills/detection","helpers/resume/courseStateHelper","helpers/webObjectHelper"],function(a){"use strict";var b,c,d,e,f=a("lodash"),g=a("helpers/appState"),h=a("helpers/pubSub"),i=a("helpers/external/tinCan"),j=a("helpers/external/ao"),k=a("helpers/external/lms"),l=a("helpers/resume/localStorageHelper"),m=a("helpers/resume/Chunk"),n=a("helpers/vow"),o=a("helpers/errorManager"),p=a("polyfills/detection"),q=a("helpers/resume/courseStateHelper"),r=a("helpers/webObjectHelper"),s="",t=(o.warn("resumer"),function(a){return a.remainder().length===a.getUnsignedValue()}),u=function(a){return a.match(/.{2}/g)},v=function(a){return a.getViewGroupId()},w={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,initialize:function(a){return f.bindAll(this,"savePresentationData"),b=a,c=a.resume()||{},this.resumeDfd=new n.Deferred,this.resumeDfd.fail(function(){this.setViewedSlidesFromString("")}.bind(this)),q.setResumer(this),this.setProperLms(),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=(new n.Deferred).resolve().promise(),this.checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!e},setProperLms:function(){var a=b.get("scoring"),d=b.get("courseId");return this.hasLms=!0,window.globals.tinCanPresent?e=i.initialize(d,b.get("tincanVersion"),a,b):window.globals.aoSupport?e=j.initialize(d,a):window.globals.lmsPresent?(e=k.initialize(d,a),this.hasLms=this.isResumable()):c.flashresume===!0?(this.hasLms=!1,e=l.getStorage()):q.shouldShimLMS()?(this.hasLms=!1,e=q.getLMSShim()):this.hasLms=!1,p.isWebObject&&(e=r.getResumer(e)),null!=e&&this.hasLms&&!c.lmsresume&&this.neverResumeLms(e),this},neverResumeLms:function(a){a.setItem=f.noop,a.getItem=function(){var a=new n.Deferred;return a.resolve(),a.promise()}},informExternals:function(){return e.setResumer(this),this},setListeners:function(){return h.on({"player:closing":this.closePlayer.bind(this),"slide:viewed":this.slideViewed.bind(this),"actionlink:event":this.onActionLink.bind(this)}),this.hasLms&&h.on({"interaction:evaluated":this.onInteractionEvaluated,"quiz:completed":e.quizComplete.bind(e),"course:completed":e.courseComplete.bind(e),"course:viewed":e.viewedComplete.bind(e),"status:updated":e.reportStatus.bind(e)}),this},onInteractionEvaluated:function(a,b){a.hasScoring()&&e.interactionAnswered(a,b)},closePlayer:function(){b.isPreview()?h.trigger("preview:notify","PREVIEW_CLOSE_WND"):f.isFunction(e.lmsUnload)?e.lmsUnload():window.top.window.open("","_self","").close()},setWindowManager:function(a){d=a,q.setWindowManager(a),this.lmsDfd.done(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=b.scenes().map(function(a,b){return m.EMPTY_CHUNK}),this},callForLightboxClose:function(){return h.trigger("window:closing",c.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),h.trigger("resume:setdata",this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),h.trigger("resume:setdata"),this},check:function(a){p.isMobileAndNotPreview?g.getAppCompletePromise().done(function(){h.trigger("mobileStart:requesting",a)}):a()},initResumeData:function(){this.lmsDfd=e.getItem(c.id).done(function(a){var b=!1;q.hasData&&(a=q.resumeData),null!=a&&a.length&&(b=this.processResumeData(a)),b?this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(a){var b=!1,c=new m({fullString:a});return t(c)?(this.resumeData=c.reChunk(),b=!0):o.warn("processResumeData","the data is the incorrect length, resume not attempted"),b},checkApplyResumeData:function(){return c.prompt&&!q.hasData&&g.getAppCompletePromise().done(function(){h.trigger("nextSlide:requesting",c.slideId,c.window)}),this},checkQuickResume:function(){null==this.resumeData||c.prompt&&!q.hasData||this.checkAndResolve()},applyResumeData:function(a){var b=a?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[b]()},slideViewed:function(a){a.get("trackViews")&&(this.addSlideToViewedList(a),this.hasLms&&e.slideViewed(a))},onActionLink:function(a){var c=f.findIndex(b.get("actionlinks"),{id:a});-1!==c&&(this.viewedActionLinks[a]=c)},addSlideToViewedList:function(a){this.viewedSlides.push(a),this.viewedSlides=f.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=f.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(a,b){return a+m.toUnsignedString64(b.prop("Index")+1,2)},"")},setViewedSlidesFromString:function(a){if(a.length){var c=b.getFlatSlides(),d=b.get("scoring");this.totalViewedSlides=f(u(a)).map(m.fromUnsignedString64).map(function(a){var b=c[a-1];return null!=b&&d.incrementViewed(b),b}.bind(this)).compact().value()}this.hasLms&&b.getDrawPromise().done(function(){e.setTotalSlides(b.getUniqueSlides().length)})},getUniqueSlides:function(a){return f.uniq(this[a],v)},getViewedActionLinksString:function(){return f.reduce(this.viewedActionLinks,function(a,b){return a+m.toUnsignedString64(b,2)},"")},setViewedActionLinksFromString:function(a){if(a.length>0){var c=b.get("actionlinks");null!=c&&(this.viewedActionLinks=u(a).map(m.fromUnsignedString64).reduce(function(a,b){var d=c[b];return null!=d&&(a[d.id]=b),a;
},{}))}},collectResumeData:function(){return[m.create(this.getViewedSlidesString()),m.create(d.getResumeData()),b.variables().length>0?m.create(b.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),b.quizzes().getResumeData(),b.timers().length>0?b.timers().getResumeData():"",m.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(a){if(!this.isResumable()||n.isPending(this.resumeDfd))return this;var b=d.getCurrentWindowSlide();this.saveSceneData(a),null!=b&&(this.resumeData=this.collectResumeData(),e.setItem(c.id,m.packData(this.resumeData)))},saveSceneData:function(a){null!=a&&(this.sceneResume[a.index()]=m.create(a.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.done(this.setResumeData.bind(this)),this},setResumeData:function(){var a,c,e,f=this.resumeData.encodedString(),g=b.variables().length>0,h=this.resumeData.reChunk(),i=g?h.reChunk():null,j=g?i.reChunk():h.reChunk();g&&b.variables().setResumeData(i.encodedString()),a=this.setSceneResumeData(j),c=b.quizzes().setResumeData(a),b.timers().length>0&&b.timers().setResumeData(c),e=c,b.createSlideIndices(),this.setViewedSlidesFromString(f),this.setViewedActionLinksFromString(e.encodedString()),d.setResumeData(h.encodedString())},setSceneResumeData:function(a){return b.scenes().forEach(function(b){b.setResumeData(a.encodedString()),a=a.reChunk()}),a},courseStarted:function(a){this.courseStartTime=Date.now(),this.hasLms&&e.courseStarted(a)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){b.scenes().forEach(function(a){a.clearResumeData()}),b.getUniqueSlides().forEach(function(a){a.clearResumeData()}),d.setResumeData(s),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&e.setItem(c.id,s)}};return w.getUniqueViewedSlides=f.partial(w.getUniqueSlides,"viewedSlides"),w.getUniqueTotalSlides=f.partial(w.getUniqueSlides,"totalViewedSlides"),w.checkAndReject=f.partial(w.check,w.rejectDeferred.bind(w)),w.checkAndResolve=f.partial(w.check,w.resolveDeferred.bind(w)),w}),define("helpers/slidesController",["require","lodash","backbone","mixins/subscribable","helpers/pubSub","helpers/resolver"],function(a){"use strict";var b,c=a("lodash"),d=a("backbone"),e=a("mixins/subscribable"),f=(a("helpers/pubSub"),a("helpers/resolver")),g=c.extend({initialize:function(a){b=a,this.addSubscriptions()},ensureSlideIsSlide:function(a){return a.isScene&&(a=this.getStartingSlide(a)),a.isSlideDraw&&(a=a.slides().first()),a},getSlide:function(a,c){var d=f.isRelativePath(a)?c:b,e=f.resolvePath(a,d,{optional:!0});return null!=e&&(e=this.ensureSlideIsSlide(e)),e},getRef:function(a){var c=b.slideMap().slideRefs();return c.get(a.fullId())||c.get(a.id)},getStartingSlide:function(a){return f.resolvePath(a.startingSlide(),b)},getEntrypoint:function(){return b.entryPoint()},loadSlide:function(a,d){var e=c.isString(a)?this.getSlide(a,d):a,f=e.load(this.getRef(e));return b.slideMap().setCurrent(e.absoluteId,f),f},getSlideFromIndices:function(a,c){return b.scenes().at(a).slides().at(c)},getDrawFromIndices:function(a,c,d){return b.scenes().at(c).slidedraws().at(a).slides().at(d)}},d.Events,e);return g}),function(){"use strict";var a=10,b=16,c=4.5,d=1.5,e=[0,0,0,.5],f=!1,g={};window.captionator=g,g.CaptionatorCueStructure=function(a,b){var c=this;this.isTimeDependent=!1,this.cueSource=a,this.options=b,this.processedCue=null,this.toString=function d(e){if(b.processCueHTML!==!1){var d=function(a,b){if(null===c.processedCue){var f,g,h="";for(f in a)f.match(/^\d+$/)&&a.hasOwnProperty(f)&&(g=a[f],g instanceof Object&&g.children&&g.children.length?"v"===g.token?h+='<q data-voice="'+g.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+g.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+g.voice.replace(/[\"]/g,"")+'">'+d(g.children,b+1)+"</q>":"c"===g.token?h+="<span class='webvtt-span webvtt-class-span "+g.classes.join(" ")+"'>"+d(g.children,b+1)+"</span>":g.timeIn>0?null===e||void 0===e||e>0&&e>=g.timeIn?h+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+g.token+"' data-timestamp-seconds='"+g.timeIn+"'>"+d(g.children,b+1)+"</span>":e<g.timeIn&&(h+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+g.token+"' data-timestamp-seconds='"+g.timeIn+"'>"+d(g.children,b+1)+"</span>"):h+=g.rawToken+d(g.children,b+1)+"</"+g.token+">":(g instanceof String||"string"==typeof g||"number"==typeof g)&&(h+=g));return!c.isTimeDependent&&0===b&&(c.processedCue=h),h}return c.processedCue};return d(this,0)}return a},this.getPlain=function(c){if(b.processCueHTML!==!1){var d=function(a,b){var e,f,g="";for(e in a)e.match(/^\d+$/)&&a.hasOwnProperty(e)&&(f=a[e],f instanceof Object&&f.children&&f.children.length?f.timeIn>0?(null===c||void 0===c||c>0&&c>=f.timeIn)&&(g+=d(f.children,b+1)):g+=d(f.children,b+1):(f instanceof String||"string"==typeof f||"number"==typeof f)&&(g+=f));return g};return d(this,0)}return a.replace(/<[^>]*>/gi,"")}},g.CaptionatorCueStructure.prototype=[],g.TextTrack=function(a,b,c,d,e,f){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=a||"",this.internalMode=g.TextTrack.OFF,this.cues=new g.TextTrackCueList(this),this.activeCues=new g.ActiveTextTrackCueList(this.cues,this),this.kind=b||"subtitles",this.label=c||"",this.language=d||"",this.src=e||"",this.readyState=g.TextTrack.NONE,this.internalDefault=f||!1,this.getMode=function(){return this.internalMode},this.setMode=function(a){var b=[g.TextTrack.OFF,g.TextTrack.HIDDEN,g.TextTrack.SHOWING];if(-1===b.indexOf(a))throw new Error("Illegal mode value for track: "+a);a!==this.internalMode&&(this.internalMode=a,this.readyState===g.TextTrack.NONE&&this.src.length>0&&a>g.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,g.rebuildCaptions(this.videoNode),a===g.TextTrack.OFF&&(this.cues.length=0,this.readyState=g.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(a,b){var c,d=new XMLHttpRequest;if(this.readyState===g.TextTrack.LOADED)b instanceof Function&&b(c);else{this.src=a,this.readyState=g.TextTrack.LOADING;var e=this;d.open("GET",a,!0),d.onreadystatechange=function(a){if(4===d.readyState)if(200===d.status){var f=e.videoNode._captionatorOptions||{};"metadata"===e.kind&&(f.processCueHTML=!1,f.sanitiseCueHTML=!1),c=g.parseCaptions(d.responseText,f),e.readyState=g.TextTrack.LOADED,e.cues.loadCues(c),e.activeCues.refreshCues.apply(e.activeCues),e.videoNode._captionator_dirtyBit=!0,g.rebuildCaptions(e.videoNode),e.onload.call(this),b instanceof Function&&b.call(e,c)}else e.readyState=g.TextTrack.ERROR,e.onerror()};try{d.send(null)}catch(f){e.readyState=g.TextTrack.ERROR,e.onerror(f)}}},this.addCue=function(a){if(!(a&&a instanceof g.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(a)},this.removeCue=function(){}},g.TextTrack.NONE=0,g.TextTrack.LOADING=1,g.TextTrack.LOADED=2,g.TextTrack.ERROR=3,g.TextTrack.OFF=0,g.TextTrack.HIDDEN=1,g.TextTrack.SHOWING=2,g.TextTrackCue=function(a,b,c,d,e,f,h){if(this.id=a,this.track=h instanceof g.TextTrack?h:null,this.startTime=parseFloat(b),this.endTime=parseFloat(c)>=this.startTime?parseFloat(c):this.startTime,this.text="string"==typeof d||d instanceof g.CaptionatorCueStructure?d:"",this.settings="string"==typeof e?e:"",this.intSettings={},this.pauseOnExit=!!f,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var i=this.intSettings,j=this;e=e.split(/\s+/).filter(function(a){return a.length>0}),e instanceof Array&&e.forEach(function(a){var b={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};a=a.split(":"),b[a[0]]&&(i[b[a[0]]]=a[1]),b[a[0]]in j&&(j[b[a[0]]]=a[1])})}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var a=document.createDocumentFragment(),b=document.createElement("div");return b.innerHTML=String(this.text),Array.prototype.forEach.call(b.childNodes,function(b){a.appendChild(b.cloneNode(!0))}),a},this.isActive=function(){var a=0;if(this.track instanceof g.TextTrack&&(this.track.mode===g.TextTrack.SHOWING||this.track.mode===g.TextTrack.HIDDEN)&&this.track.readyState===g.TextTrack.LOADED)try{if(a=this.track.videoNode.currentTime,this.startTime<=a&&this.endTime>=a)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(b){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},g.TextTrackCueList=function(a){this.track=a instanceof g.TextTrack?a:null,this.getCueById=function(a){return this.filter(function(b){return b.id===a})[0]},this.loadCues=function(a){for(var b=0;b<a.length;b++)a[b].track=this.track,Array.prototype.push.call(this,a[b])},this.addCue=function(a){if(!(a&&a instanceof g.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(a.track!==this.track&&a.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,a)},this.toString=function(){return"[TextTrackCueList]"}},g.TextTrackCueList.prototype=[],g.ActiveTextTrackCueList=function(a,b){this.refreshCues=function(){if(a.length){var c=this,d=!1,e=[].slice.call(this,0);if(this.length=0,a.forEach(function(a){a.active&&(c.push(a),c[c.length-1]!==e[c.length-1]&&(d=!0))}),d)try{b.oncuechange()}catch(f){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},g.ActiveTextTrackCueList.prototype=new g.TextTrackCueList(null);var h=function(a){this.targetObject=a,this.currentTime=0;var b=function(){};this.addEventListener=function(a,b,c){"timeupdate"===a&&b instanceof Function&&(this.timeupdateEventHandler=b)},this.attachEvent=function(a,b){"timeupdate"===a&&b instanceof Function&&(this.timeupdateEventHandler=b)},this.updateTime=function(a){isNaN(a)||(this.currentTime=a,b())}};g.rebuildCaptions=function(a){var b=a.textTracks||[],c=(a._captionatorOptions instanceof Object?a._captionatorOptions:{},a.currentTime),d=[],e=!1,f=[],h=[];if(b.forEach(function(a,b){a.mode===g.TextTrack.SHOWING&&a.readyState===g.TextTrack.LOADED&&(h=[].slice.call(a.activeCues,0),h=h.sort(function(a,b){return a.startTime>b.startTime?-1:1}),d=d.concat(h))}),f=d.map(function(a){return a.track.id+"."+a.id+":"+a.text.toString(c).length}),e=!g.compareArray(f,a._captionator_previousActiveCues),e||a._captionator_dirtyBit){a._captionator_dirtyBit=!1,a._captionator_availableCueArea=null,a._captionator_previousActiveCues=f,g.styleCueCanvas(a);var i=[].slice.call(a._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(a._containerObject.getElementsByTagName("div"),0));i.forEach(function(a){a.cueObject&&!a.cueObject.active&&(a.cueObject.rendered=!1,a.cueObject.domNode=null,a.parentElement.removeChild(a))}),d.forEach(function(b){var d,e;"metadata"!==b.track.kind&&b.mode!==g.TextTrack.HIDDEN&&(b.rendered?(d=b.domNode,e=d.getElementsByClassName("captionator-cue-inner")[0],b.text.toString(c)!==d.currentText&&(d.currentText=b.text.toString(c),e.innerHTML=d.currentText,e.spanified=!1)):(d=document.createElement("div"),e=document.createElement("span"),e.className="captionator-cue-inner",d.id=String(b.id).length?b.id:g.generateID(),d.className="captionator-cue",d.appendChild(e),d.cueObject=b,b.domNode=d,d.setAttribute("lang",b.track.language),d.currentText=b.text.toString(c),e.innerHTML=d.currentText,b.rendered=!0,"descriptions"===b.track.kind?a._descriptionContainerObject.appendChild(d):a._containerObject.appendChild(d)),"descriptions"!==b.track.kind&&g.styleCue(d,b,a))})}},g.captionify=function(i,j,k){var l=[],m=0;if(k=k instanceof Object?k:{},k.minimumFontSize&&"number"==typeof k.minimumFontSize&&(a=k.minimumFontSize),k.minimumLineHeight&&"number"==typeof k.minimumLineHeight&&(b=k.minimumLineHeight),k.fontSizeVerticalPercentage&&"number"==typeof k.fontSizeVerticalPercentage&&(c=k.fontSizeVerticalPercentage),k.lineHeightRatio&&"number"!=typeof k.lineHeightRatio&&(d=k.lineHeightRatio),k.cueBackgroundColour&&k.cueBackgroundColour instanceof Array&&(e=k.cueBackgroundColour),HTMLVideoElement||i instanceof h||k.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||k.forceCaptionify){if(!f&&k.exportObjects&&(window.TextTrack=g.TextTrack,window.TextTrackCueList=g.TextTrackCueList,window.ActiveTextTrackCueList=g.ActiveTextTrackCueList,window.TextTrackCue=g.TextTrackCue,f=!0),i&&i!==!1&&void 0!==i&&null!==i)if(i instanceof Array)for(m=0;m<i.length;m++)"string"==typeof i[m]?l=l.concat([].slice.call(document.querySelectorAll(i[m]),0)):i[m].constructor===HTMLVideoElement&&l.push(i[m]);else"string"==typeof i?l=[].slice.call(document.querySelectorAll(i),0):i.constructor===HTMLVideoElement&&l.push(i);else l=[].slice.call(document.getElementsByTagName("video"),0);return l.length?(l.forEach(function(a){a.addTextTrack=function(b,c,d,e,f,h,i){var j,k=["subtitles","captions","descriptions","captions","metadata","chapters"];k.slice(0,7);if(b="string"==typeof b?b:"",d="string"==typeof d?d:"",e="string"==typeof e?e:"",i="boolean"==typeof i?i:!1,!k.filter(function(a){return c===a}).length)throw g.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return j=new g.TextTrack(b,c,d,e,f,null),j?(a.textTracks instanceof Array||(a.textTracks=[]),a.textTracks.push(j),j):!1},g.processVideoElement(l[m],j,k)}),!0):!1}return!1}return!1},g.parseCaptions=function(a,b){b=b instanceof Object?b:{};var c="",d=[],e="",f=[],h=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,i=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,j=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,k=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,l=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,m=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,n=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,o=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,p=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,q=/<tt\s+xml/gi,r=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(a){var s=function(a){var c,d,e,f,h,i=new g.CaptionatorCueStructure(a,b),j=[],l=[],m=0,n=function(a){return!!a.replace(/[^a-z0-9]+/gi,"").length};j=a.split(/(<\/?[^>]+>)/gi),e=i;for(c in j)if(j.hasOwnProperty(c))if(d=j[c],"<"===d.substr(0,1)){if("/"===d.substr(1,1)){var o=d.substr(2).split(/[\s>]+/g)[0];if(l.length>0){var p=0;for(m=l.length-1;m>=0;m--){var q=l[m][l[m].length-1];if(p=m,q.token===o)break}e=l[p],l=l.slice(0,p)}}else if(d.substr(1).match(k)||d.match(/^<v\s+[^>]+>/i)||d.match(/^<c[a-z0-9\-\_\.]+>/)||d.match(/^<(b|i|u|ruby|rt)>/)||b.sanitiseCueHTML!==!1){var r={token:d.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:d,children:[]};"v"===r.token?r.voice=d.match(/^<v\s*([^>]+)>/i)[1]:"c"===r.token?r.classes=d.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(n):!(f=r.rawToken.match(k))||(i.isTimeDependent=!0,h=f.slice(1),r.timeIn=parseInt(60*(h[0]||0)*60,10)+parseInt(60*(h[1]||0),10)+parseInt(h[2]||0,10)+parseFloat("0."+(h[3]||0))),e.push(r),l.push(e),e=r.children}}else b.sanitiseCueHTML!==!1&&(d=d.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),b.ignoreWhitespace||(d=d.replace(/\n+/g,"<br />"))),e.push(d);return i},t=function(a,d){var k,q,r,t,u,v,w,x,y,z,A="";if(x=n.exec(a))return f=x.slice(2).join(""),f=f.split(/\s+/g).filter(function(a){return a&&!!a.length}),null;if(x=o.exec(a))return e+=x[x.length-1],null;if(x=p.exec(a))return null;for(k="LRC"===c?[a.substr(0,a.indexOf("]")+1),a.substr(a.indexOf("]")+1)]:a.split(/\n/g);!k[0].replace(/\s+/gi,"").length&&k.length>0;)k.shift();for(w=k[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(k.shift().replace(/\s*/gi,"")):d,v=0;v<k.length;v++){var B=k[v];(y=j.exec(B))||(y=h.exec(B))||(y=i.exec(B))?(u=y.slice(1),q=parseInt(60*(u[0]||0)*60,10)+parseInt(60*(u[1]||0),10)+parseInt(u[2]||0,10)+parseFloat("0."+(u[3]||0)),r=parseInt(60*(u[4]||0)*60,10)+parseInt(60*(u[5]||0),10)+parseInt(u[6]||0,10)+parseFloat("0."+(u[7]||0)),u[8]&&(A=u[8])):(y=l.exec(B))?(u=y.slice(1),q=parseFloat(u[0]),r=q+parseFloat(u[1]),u[2]&&(A=u[2])):!(y=m.exec(B))||(u=y.slice(1,y.length-1),q=parseInt(60*(u[0]||0)*60,10)+parseInt(60*(u[1]||0),10)+parseInt(u[2]||0,10)+parseFloat("0."+(u[3]||0)),r=q),k=k.slice(0,v).concat(k.slice(v+1));break}if(!q&&!r)return null;var C=f.reduce(function(a,b,c,d){return a[b.split(":")[0]]=b.split(":")[1],a},{});C=A.split(/\s+/g).filter(function(a){return a&&!!a.length}).reduce(function(a,b,c,d){return a[b.split(":")[0]]=b.split(":")[1],a},C),A="";for(var D in C)C.hasOwnProperty(D)&&(A+=A.length?" ":"",A+=D+":"+C[D]);return t=b.processCueHTML===!1?k.join("\n"):s(k.join("\n")),z=new g.TextTrackCue(w,q,r,t,A,!1,null),z.styleData=e,z},u=function(a){var b,c=0;return"string"!=typeof a?0:((b=r.exec(a))&&(b=b.slice(1),c=parseInt(60*(b[0]||0)*60,10)+parseInt(60*(b[1]||0),10)+parseInt(b[2]||0,10)+parseFloat("0."+(b[3]||0))),c)},v=function(a,c){var d,e=0,f=0,h=String(a.getAttribute("begin")),i=String(a.getAttribute("end")),j=a.getAttribute("id")||c;return e=u(h),f=u(i),d=b.processCueHTML===!1?a.innerHTML:s(a.innerHTML),new g.TextTrackCue(j,e,f,d,{},!1,null)};if(d=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),q.exec(a)){var w=document.createElement("ttml");w.innerHTML=a;var x=[].slice.call(w.querySelectorAll("[begin],[end]"),0),y=x.map(v);return y}return a.split(/\n+/g).reduce(function(a,b,c,d){return a||!!m.exec(b)},!1)?(d=d.split(/\n+/g),c="LRC"):d=d.split(/\n\n+/g),d=d.filter(function(a){return a.match(/^WEBVTT(\s*FILE)?/gi)?(c="WebVTT",!1):!!a.replace(/\s*/gi,"").length}).map(t).filter(function(a){return null!==a}),"LRC"===c&&(d.forEach(function(a,b){var c,e=0;b>0&&(e=a.startTime,c=d[--b],c.endTime<e&&(c.endTime=e))}),d=d.filter(function(a){return a.text.toString().replace(/\s*/,"").length>0})),d}throw new Error("Required parameter captionData not supplied.")},g.processVideoElement=function(a,b,c){var d=[],e=navigator.language||navigator.userLanguage;b||e.split("-")[0];if(c=c instanceof Object?c:{},!a.captioned){a._captionatorOptions=c,a.className+=(a.className.length?" ":"")+"captioned",a.captioned=!0,0===a.id.length&&(a.id=g.generateID());[].slice.call(a.querySelectorAll("track"),0).forEach(function(e){var f=null;f=e.querySelectorAll("source").length>0?e.querySelectorAll("source"):e.getAttribute("src");var h=a.addTextTrack(e.getAttribute("id")||g.generateID(),e.getAttribute("kind"),e.getAttribute("label"),e.getAttribute("srclang").split("-")[0],f,e.getAttribute("type"),e.hasAttribute("default"));e.track=h,h.trackNode=e,h.videoNode=a,d.push(h);var i=!1;("subtitles"===h.kind||"captions"===h.kind)&&b===h.language&&c.enableCaptionsByDefault&&(d.filter(function(a){return("captions"===a.kind||"subtitles"===a.kind)&&b===a.language&&a.mode===g.TextTrack.SHOWING}).length||(i=!0)),"chapters"===h.kind&&b===h.language&&(d.filter(function(a){return"chapters"===a.kind&&a.mode===g.TextTrack.SHOWING}).length||(i=!0)),"descriptions"===h.kind&&c.enableDescriptionsByDefault===!0&&b===h.language&&(d.filter(function(a){return"descriptions"===a.kind&&a.mode===g.TextTrack.SHOWING}).length||(i=!0)),i===!0&&d.forEach(function(a){a.trackNode.hasAttribute("default")&&a.mode===g.TextTrack.SHOWING&&(a.mode=g.TextTrack.HIDDEN)}),e.hasAttribute("default")&&(d.filter(function(a){return!(!a.trackNode.hasAttribute("default")||a.trackNode===e)}).length||(i=!0,h.internalDefault=!0)),i===!0&&(h.mode=g.TextTrack.SHOWING)}),a.addEventListener("timeupdate",function(a){var b=a.target;try{b.textTracks.forEach(function(a){a.activeCues.refreshCues.apply(a.activeCues)})}catch(d){}c.renderer instanceof Function?c.renderer.call(g,b):g.rebuildCaptions(b)},!1),window.addEventListener("resize",function(b){a._captionator_dirtyBit=!0,g.rebuildCaptions(a)},!1),c.enableHighResolution===!0&&window.setInterval(function(){try{a.textTracks.forEach(function(a){a.activeCues.refreshCues.apply(a.activeCues)})}catch(b){}c.renderer instanceof Function?c.renderer.call(g,a):g.rebuildCaptions(a)},20)}return a},g.getNodeMetrics=function(a){var b=window.getComputedStyle(a,null),c=a,d=a.offsetTop,e=a.offsetLeft,f=a,g=0,h=0;for(f=parseInt(b.getPropertyValue("width"),10),g=parseInt(b.getPropertyValue("height"),10);c=c.offsetParent;)d+=c.offsetTop,e+=c.offsetLeft;if(a.hasAttribute("controls")){var i=navigator.userAgent.toLowerCase();-1!==i.indexOf("chrome")?h=32:-1!==i.indexOf("opera")?h=25:-1!==i.indexOf("firefox")?h=28:-1!==i.indexOf("ie 9")||-1!==i.indexOf("ipad")?h=44:-1!==i.indexOf("safari")&&(h=25)}else if(a._captionatorOptions){var j=a._captionatorOptions;j.controlHeight&&(h=parseInt(j.controlHeight,10))}return{left:e,top:d,width:f,height:g,controlHeight:h}},g.applyStyles=function(a,b){for(var c in b)({}).hasOwnProperty.call(b,c)&&(a.style[c]=b[c])},g.checkDirection=function(a){var b="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",c="֑-߿יִ-﷽ﹰ-ﻼ",d=new RegExp("^[^"+c+"]*["+b+"]"),e=new RegExp("^[^"+b+"]*["+c+"]");return e.test(a)?"rtl":d.test(a)?"ltr":""},g.styleCue=function(f,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=i._captionatorOptions||{},M=50,N=0,O=0,P=!0,Q="",R=(h.track.language,function(a){if(a.spanified)return a.characterCount;var b,c,d,e,f=function(a){return!!a.length},h="<span class='captionator-cue-character'>",i=0,j=function(a){i++,g.applyStyles(a,{display:"block",lineHeight:"auto",height:m+"px",width:s+"px",textAlign:"center"})};for(b in a.childNodes)a.childNodes.hasOwnProperty(b)&&!a.childNodes[b].nospan&&(c=a.childNodes[b],3===c.nodeType?(e=document.createDocumentFragment(),d=c.nodeValue,e.appendChild(document.createElement("span")),e.childNodes[0].innerHTML=h+d.split(/(.)/).filter(f).join("</span>"+h)+"</span>",[].slice.call(e.querySelectorAll("span.captionator-cue-character"),0).forEach(j),c.parentNode.replaceChild(e,c)):1===a.childNodes[b].nodeType&&(i+=R(a.childNodes[b])));return a.characterCount=i,a.spanified=!0,i});if(v=g.getNodeMetrics(i),i._captionator_availableCueArea||(i._captionator_availableCueArea={bottom:v.height-v.controlHeight,right:v.width,top:0,left:0,height:v.height-v.controlHeight,width:v.width}),"horizontal"===h.direction&&(g.applyStyles(f,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),N=parseInt(f.offsetWidth,10),O=Math.floor(N/i._captionator_availableCueArea.width*100),O=100>=O?O:100),l=v.height*(c/100)/96*72,l=l>=a?l:a,m=Math.floor(l/72*96),n=Math.floor(l*d),n=n>b?n:b,r=Math.ceil(n/72*96),s=r,r*Math.floor(v.height/r)<v.height&&(r=Math.floor(v.height/Math.floor(v.height/r)),n=Math.ceil(r/96*72)),r*Math.floor(v.width/r)<v.width&&(s=Math.ceil(v.width/Math.floor(v.width/r))),p=Math.floor(i._captionator_availableCueArea.height/r),q=Math.floor(i._captionator_availableCueArea.width/s),0===parseFloat(String(h.size).replace(/[^\d\.]/gi,""))?L.sizeCuesByTextBoundingBox===!0?j=O:(j=100,P=!1):(P=!1,j=parseFloat(String(h.size).replace(/[^\d\.]/gi,"")),j=100>=j?j:100),B="horizontal"===h.direction?Math.floor(.01*v.width):0,C="horizontal"===h.direction?0:Math.floor(.01*v.height),"auto"===h.linePosition?h.linePosition="horizontal"===h.direction?p:q:String(h.linePosition).match(/\%/)&&(h.snapToLines=!1,h.linePosition=parseFloat(String(h.linePosition).replace(/\%/gi,""))),"horizontal"===h.direction)A=r,"auto"!==h.textPosition&&P&&(M=parseFloat(String(h.textPosition).replace(/[^\d\.]/gi,"")),j-M>O?j-=M:j=O),z=h.snapToLines===!0?i._captionator_availableCueArea.width*(j/100):v.width*(j/100),"auto"===h.textPosition?x=(i._captionator_availableCueArea.right-z)/2+i._captionator_availableCueArea.left:(M=parseFloat(String(h.textPosition).replace(/[^\d\.]/gi,"")),x=(i._captionator_availableCueArea.right-z)*(M/100)+i._captionator_availableCueArea.left),h.snapToLines===!0?y=(p-1)*r+i._captionator_availableCueArea.top:(o=v.controlHeight+r+2*C,y=(v.height-o)*(h.linePosition/100));else{if(y=i._captionator_availableCueArea.top,x=i._captionator_availableCueArea.right-s,z=s,A=i._captionator_availableCueArea.height*(j/100),E=R(f),F=[].slice.call(f.querySelectorAll("span.captionator-cue-character"),0),D=Math.floor((A-2*C)/m),z=Math.ceil(E/D)*s,G=Math.ceil(E/D),H=E-D*(G-1),I=H*m,h.snapToLines===!0)x="vertical-lr"===h.direction?i._captionator_availableCueArea.left:i._captionator_availableCueArea.right-z;else{var S=z+2*B;x="vertical-lr"===h.direction?(v.width-S)*(h.linePosition/100):v.width-S-(v.width-S)*(h.linePosition/100)}"auto"===h.textPosition?y=(i._captionator_availableCueArea.bottom-A)/2+i._captionator_availableCueArea.top:(h.textPosition=parseFloat(String(h.textPosition).replace(/[^\d\.]/gi,"")),y=(i._captionator_availableCueArea.bottom-A)*(h.textPosition/100)+i._captionator_availableCueArea.top),J=0,K=0,t=0,u=0,F.forEach(function(a,b){t="vertical-lr"===h.direction?s*J:z-s*(J+1),"start"===h.alignment||"start"!==h.alignment&&G-1>J?u=K*m+C:"end"===h.alignment?u=K*m-m+(A+2*C-I):"middle"===h.alignment&&(u=(A-2*C-I)/2+K*m),a.setAttribute("aria-hidden","true"),g.applyStyles(a,{position:"absolute",top:u+"px",left:t+"px"}),K>=D-1?(K=0,J++):K++}),f.accessified||(Q=h.text.getPlain(i.currentTime),w=document.createElement("div"),w.innerHTML=Q,w.nospan=!0,f.appendChild(w),f.accessified=!0,g.applyStyles(w,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===h.direction&&(k="rtl"===g.checkDirection(String(h.text))?{start:"right",middle:"center",end:"left"}[h.alignment]:{start:"left",middle:"center",end:"right"}[h.alignment]),g.applyStyles(f,{position:"absolute",overflow:"hidden",width:z+"px",height:A+"px",top:y+"px",left:x+"px",padding:C+"px "+B+"px",textAlign:k,backgroundColor:"rgba("+e.join(",")+")",direction:g.checkDirection(String(h.text)),lineHeight:n+"pt",boxSizing:"border-box"}),"vertical"===h.direction||"vertical-lr"===h.direction)x-i._captionator_availableCueArea.left-i._captionator_availableCueArea.left>=i._captionator_availableCueArea.right-(x+z)?i._captionator_availableCueArea.right=x:i._captionator_availableCueArea.left=x+z,i._captionator_availableCueArea.width=i._captionator_availableCueArea.right-i._captionator_availableCueArea.left;else{if(f.scrollHeight>1.2*f.offsetHeight)if(h.snapToLines){for(var T=0;f.scrollHeight>1.2*f.offsetHeight;)A+=r,f.style.height=A+"px",T++;y-=T*r,f.style.top=y+"px"}else{f.scrollHeight-A;A=f.scrollHeight+C,o=v.controlHeight+A+2*C,y=(v.height-o)*(h.linePosition/100),f.style.height=A+"px",f.style.top=y+"px"}y-i._captionator_availableCueArea.top-i._captionator_availableCueArea.top>=i._captionator_availableCueArea.bottom-(y+A)&&i._captionator_availableCueArea.bottom>y?i._captionator_availableCueArea.bottom=y:i._captionator_availableCueArea.top<y+A&&(i._captionator_availableCueArea.top=y+A),i._captionator_availableCueArea.height=i._captionator_availableCueArea.bottom-i._captionator_availableCueArea.top}},g.styleCueCanvas=function(e){var f,h,i,j,k,l,m=e._captionatorOptions instanceof Object?e._captionatorOptions:{};if(!(e instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(e._containerObject&&(i=e._containerObject,k=i.id),e._descriptionContainerObject&&(j=e._descriptionContainerObject,l=j.id),j?j.parentNode||document.body.appendChild(j):(j=document.createElement("div"),j.className="captionator-cue-descriptive-container",l=g.generateID(),j.id=l,e._descriptionContainerObject=j,j.setAttribute("aria-live","polite"),j.setAttribute("aria-atomic","true"),j.setAttribute("role","region"),document.body.appendChild(j),g.applyStyles(j,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),i)i.parentNode||document.body.appendChild(i);else{if(i=document.createElement("div"),i.className="captionator-cue-canvas",k=g.generateID(),i.id=k,m.appendCueCanvasTo){var n=null;if(m.appendCueCanvasTo instanceof HTMLElement)n=m.appendCueCanvasTo;else if("string"==typeof m.appendCueCanvasTo)try{var o=document.querySelectorAll(m.appendCueCanvasTo);if(!(o.length>0))throw null;n=o[0]}catch(p){n=document.body,m.appendCueCanvasTo=!1}else n=document.body,m.appendCueCanvasTo=!1;n.appendChild(i)}else document.body.appendChild(i);e._containerObject=i}var q=g.getNodeMetrics(e);f=q.height*(c/100)/96*72,f=f>=a?f:a,h=Math.floor(f*d),h=h>b?h:b,g.applyStyles(i,{position:"absolute",overflow:"hidden",zIndex:100,height:q.height-q.controlHeight+"px",width:q.width+"px",top:(m.appendCueCanvasTo?0:q.top)+"px",left:(m.appendCueCanvasTo?0:q.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:f+"pt",lineHeight:h+"pt",boxSizing:"border-box"})},g.createDOMException=function(a,b,c){try{document.querySelectorAll("div/[]")}catch(d){var e=function(a,b,c){this.code=a,this.message=b,this.name=c};return e.prototype=d,new e(a,b,c)}},g.compareArray=function(a,b){if(a instanceof Array&&b instanceof Array){if(a.length!==b.length)return!1;for(var c in a)if(a.hasOwnProperty(c)&&a[c]!==b[c])return!1;return!0}return!1},g.generateID=function(a){var b="";for(a=a?a:10;b.length<a;)b+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+b}}(),define("captionator",function(a){return function(){var b;return b||a.captionator}}(this)),define("helpers/captionsManager",["require","helpers/backboneSync","helpers/pubSub","helpers/utils","polyfills/detection","captionator","lodash"],function(a){"use strict";var b,c,d,e=a("helpers/backboneSync"),f=a("helpers/pubSub"),g=a("helpers/utils"),h=a("polyfills/detection"),i=a("captionator"),j=a("lodash"),k={},l=!0,m=!1,n=[],o='"Open Sans Full", Helvetica, Arial, sans-serif',p=[],q={},r=function(a){return null!=a.captions()},s=function(a,b){var c=k[b],d=[];return c&&c.forEach(function(b){a>=b.startTime&&a<=b.endTime&&d.push(b.getCueAsHTML())}),d},t=function(){f.trigger("render:captions",[])},u=function(a){var b,c,e=a.props.slideVisible&&a.props.objectVisible;return a.isVideo()?a.props.slideObjectModel.prop("HiddenByLayer")&&(e=!1):(b=d.getCurrentWindowSlide().slideLayers(),c=b.getTopMostLayer(),null!=c&&a.props.model.parent.get("isBaseLayer")===!0&&c.get("pauseParent")===!0&&(e=!1)),e},v=function(){var a=d.getCurrentWindowSlide(),b=!0;a.getScene().isMessageScene()||(p=q[a.id]||[],m&&(b=p.filter(function(a){return u(a)}).length>0,p.length>0&&b?f.trigger("show:caption-button"):(f.trigger("hide:caption-button"),t())))},w=function(a){return a.isVideo()&&(h.isIosPhoneBefore10()||void 0===a.state.hasEverPlayed)},x=function(){var a,b=p.reduce(function(b,c){return c.ended()||w(c)||!u(c)||-1!==n.indexOf(c.getAssetId())?b:(a=s(c.getCurrentTime(),c.getAssetId()),a.length>0?b.concat(a):b)},[]);f.trigger("render:captions",b)},y=function(a){null!=c&&c.value()!==a?c.changeValue(a):(l=a,a?x():t(),f.trigger("captions:enabled",l))},z=function(a){y(a.value())},A=function(a){var b=a.getCueAsSource();return null!=b&&(b=b.trim()),!j.isEmpty(b)},B={initialize:function(a,h,j,n){var p=g.getPath(h,"controlOptions.controls.font");b=null!=p?['"',p,'", ',o].join(""):o,d=j,m=g.getPath(h,"controlOptions.controls.closed_captions"),null!=n?(c=n,l=c.value(),c.on("change:value",z)):l=!1,k={},a.filter(r).map(function(a){e.scriptSync("read",{id:"caption"},{url:a.captions(),success:function(b){
null!=b&&(k[a.id]=i.parseCaptions(decodeURI(b.data)).filter(A))},error:function(a){console.error(a)}})}),f.on("slide:started",v),f.on("media:currentTime",x),f.on("captions:enable",y)},isCaptionButtonToggled:function(){return l},canShowCaptionButton:function(){return m},mount:function(a,b){k[a.getAssetId()]&&(null==q[b]&&(q[b]=[]),q[b].push(a))},unmount:function(a,b){var c=j.findIndex(q[b],function(b){return b.getAssetId()===a.getAssetId()});-1!==c&&q[b].splice(c,1)},hasCaptions:function(a){return Array.isArray(a)||(a=[a]),a.some(function(a){return null!=k[a]})},getCaptions:function(a){return k[a]},getCaptionFont:function(){return b},reloadCaptions:v,excludeMedia:function(a){-1===n.indexOf(a)&&n.push(a)},includeMedia:function(a){var b=n.indexOf(a);-1!==b&&n.splice(b,1)}};return B}),define("views/presentation/mixins/slideWindow",["require","lodash","helpers/resume/Chunk","helpers/vow","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resume/Chunk"),d=a("helpers/vow"),e=a("helpers/constants"),f={componentWillUpdate:function(a,b){b.currentSlide&&b.currentSlide!==this.state.currentSlide&&!this.isShowingMovedSlide&&b.currentSlide.resetBeforeView()},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getId:function(){return this.isMainWindow?e.refs.FRAME:this.props.model.id},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().done(function(a){a.forceTransition()})},getCurrentSlide:function(){return b.last(this.state?this.state.history:[])},getPrevSlide:function(){var a=this.state.history;return a.length>1&&a[a.length-2]},getPrevHistoryGroup:function(){var a=this.state.history,b=this.getPrevHistoryGroupIndex();return-1===b?null:a[b]},getPrevHistoryGroupIndex:function(){var a=this.getCurrentSlide(),c=this.state.history;return null==a?-1:b.findLastIndex(c,function(b){return a.get("historyGroupId")!==b.get("historyGroupId")})},canGoForward:function(a){return b.last(this.state.history)!==a},pushHistory:function(a){return this.canGoForward(a)&&this.refreshHistory(a),this},popHistory:function(){return this.getPrevSlide()&&this.refreshHistory(),this},popHistoryGroup:function(){var a=this.state.history,b=this.getPrevHistoryGroupIndex();return-1!==b&&(a=a.slice(0,b+1),this.updateHistoryState(a)),this},refreshHistory:function(a){var b=this.state.history.slice();return a?b.push(a):b.pop(),this.updateHistoryState(b),this},updateHistoryState:function(a){var c=b.last(a);c.prop("WindowId",this.isMainWindow?e.refs.FRAME:this.props.model.id),this.setState({history:a,currentSlide:c})},prepareToUpdateSlide:function(a){return this.isShowingMovedSlide=a,this.slideContainer.prepareToUpdateSlide(a),this},replaceSlideWith:function(a){return this.slideContainer.replaceSlideWith(a),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},getHistoryResumeData:function(){var a=function(a){return a.getWindowResumeRef()};return this.state.history.map(a).join("")},getResumeData:function(){var a=this.props.model,b=null==a?0:a.index()+1;return[c.create(c.toUnsignedString64(b)),this.getCurrentSlide().getWindowResumeRef(),c.create(this.getHistoryResumeData())].join("")},setPreviousHistory:function(a){var b=this.state.history;b.unshift.apply(b,a)},isWaitingForSlideLoad:function(){return d.isPending(this.slideLoadingPromise)},setSlideLoading:function(a){return this.slideLoadingPromise=a,this}};return f}),define("views/presentation/LightBox",["require","lodash","react","react-dom","helpers/constants","views/mixins/baseView","helpers/appState","helpers/captionsManager","helpers/pubSub","views/presentation/mixins/slideWindow","polyfills/detection","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("react-dom"),e=a("helpers/constants"),f=a("views/mixins/baseView"),g=a("helpers/appState"),h=a("helpers/captionsManager"),i=a("helpers/pubSub"),j=a("views/presentation/mixins/slideWindow"),k=a("polyfills/detection"),l=a("helpers/utils"),m=c.createClass({displayName:"LightBox",mixins:[f,j],subscriptions:{"slideContainer:positioned":"onSlideContainerPositioned","slide:hasMounted":"onSlideContainerPositioned"},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(a){this.setState({caption:a})},hasCaption:function(){return!!this.state.caption},componentDidMount:function(){k.isMobile&&(this.refs.optionPane.style.opacity=0)},componentDidUpdate:function(){this.positionControls()},componentWillMount:function(){this.listenTo(g,"layout:changed",this.onLayoutChanged),this.onLayoutChanged(g,g.currentLayout()||{},this.props.model.id);var a=h.canShowCaptionButton();a===!1?this.setState({caption:!1}):(this.showCaptionButton=b.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=b.partial(this.toggleCaptionButton,!1),i.on("show:caption-button",this.showCaptionButton),i.on("hide:caption-button",this.hideCaptionButton))},componentWillUnmount:function(){i.off("show:caption-button",this.showCaptionButton),i.off("hide:caption-button",this.hideCaptionButton)},actionKeyCallback:function(a){return a===this.refs.close&&this.close(),!0},getTabbableItems:function(){return this.refs.close.dsFocusController=this,[b.assign(this.refs.close,{idx:e.tabIndices.LIGHTBOX_CLOSE,indexGroupName:"SlideControlButton"})]},shouldUpdate:function(a,b){return this.state.currentSlide!==b.currentSlide||this.state.caption!==b.caption?(this.updateSizeCalculations(b.currentSlide),!0):this.state.showCloseBtn!==b.showCloseBtn},updateSizeCalculations:function(a){this.slideScale=this.calcSlideScale(a),this.slideWrapperHeight=this.calcSlideWrapperHeight(a)},getWrapperDimensions:function(){var a=this.refs.lightbox;return{width:a.offsetWidth,height:a.offsetHeight}},positionControlsDesktop:function(){return this},calcSlideWrapperHeight:function(a){return a.get("height")*this.slideScale},calcSlideScale:function(a){var b=a.get("width"),c=this.getAdjustedWindowWidth();return c/b},getAdjustedWindowWidth:function(){return this.props.model.get("width")-this.getWindowOffsetWidth()},getWindowOffsetWidth:function(){var a=window.getComputedStyle(this.find(".lightbox")),b=parseFloat(a.paddingTop),c=parseFloat(a.borderTopWidth);return 2*(b+c)},close:function(a){i.trigger("window:closing",this.getPath("props.model.id"))},stealFocus:function(a){var b=d.findDOMNode(a);b.focus(),b.classList.add("focused")},releaseFocus:function(a){var b=d.findDOMNode(a);b.blur(),b.classList.remove("focused")},onLayoutChanged:function(a,b,c){c===this.props.model.id&&this.setState({showCloseBtn:b.close_btn})},positionControlsMobile:function(){var a,c,e,f,g,h=this.refs.optionPane,i=this.refs.slideContainer.curSlide;return null!=h.offsetParent&&null!=i&&(a=h.getBoundingClientRect(),c=d.findDOMNode(i),e=c.getBoundingClientRect(),f=h.offsetParent.getBoundingClientRect(),g="landscape"===k.orientation?{top:l.pxify(Math.max(-f.top,e.top-f.top)),left:l.pxify(Math.min(f.right,e.right-f.left)),width:"",height:l.pxify(Math.min(window.innerHeight,e.height+b.min([0,e.top,document.body.clientHeight])))}:{top:l.pxify(Math.min(f.bottom,e.bottom-f.top)),left:l.pxify(Math.max(-f.left,e.left-f.left)),width:l.pxify(Math.min(window.innerWidth,e.width+b.min([0,e.left,document.body.clientWidth]))),height:""},g.opacity=1,b.extend(h.style,g)),this},onSlideContainerPositioned:function(){this.htmlReady(function(){this.positionControls()}.bind(this))}}),n=m.prototype;return n.positionControls=n[k.isMobile?"positionControlsMobile":"positionControlsDesktop"],m}),define("views/presentation/MessageWindow",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/slideWindow","polyfills/detection","helpers/constants","helpers/stringTabler","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("views/presentation/mixins/slideWindow"),f=a("polyfills/detection"),g=a("helpers/constants"),h=a("helpers/stringTabler"),i=a("helpers/utils"),j=b.memoize(b.partial(i.quote,g.MOBILE_FONT)),k=c.createClass({displayName:"MessageWindow",mixins:[d,e],windowType:function(){return this.state.currentSlide?b.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return this.isResumeWin()},isResumeWin:function(){return"resume-prompt-slide"===this.windowType()},componentDidUpdate:function(){this.adjustForMobileLayout()},createResumeText:function(){var a=document.createElement("style");a.innerHTML=[".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(2) button::after {",' content: "',h.getString("continueresponsive"),'"; } ',".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(3) button::after {",' content: "',h.getString("restart"),'"; }'].join(""),document.body.appendChild(a)},adjustForMobileLayout:function(){var a;f.isMobile&&(a=this.find(".message-window-heading"),b.union([a],a.querySelectorAll("*")).forEach(function(a){a.style.fontFamily=j()}),this.isResumeWin()?this.createResumeText():(document.body.classList.add("resume-shown"),this.htmlReady(function(){var a=this.findAll('[aria-label]:not([aria-label=""]):not(.slide-object-button)').map(function(a){return a.getAttribute("aria-label")}).join(" ");this.setState({mobileText:a})}.bind(this))))}});return k}),define("helpers/windowManager",["require","lodash","helpers/utils","helpers/constants","backbone","react","react-dom","helpers/resume/resumer","helpers/resume/Chunk","mixins/subscribable","helpers/pubSub","helpers/appState","helpers/slidesController","views/presentation/LightBox","helpers/keyManager","views/presentation/MessageWindow","helpers/errorManager"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/utils"),e=(a("helpers/constants"),a("backbone")),f=a("react"),g=a("react-dom"),h=a("helpers/resume/resumer"),i=a("helpers/resume/Chunk"),j=a("mixins/subscribable"),k=a("helpers/pubSub"),l=a("helpers/appState"),m=a("helpers/slidesController"),n=a("views/presentation/LightBox"),o=a("helpers/keyManager"),p=a("views/presentation/MessageWindow"),q=a("helpers/errorManager"),r=100,s=q.warn("windowManager"),t=function(a,b){return f.createElement(a,b)},u=function(a,b){return a.classList.add("opaque"),a.style.zIndex=r++,k.trigger("window:created",b),g.render(b,a)},v=function(a,c,d){return u(document.querySelector("#overlay-container"+(a?"-controls":"")),t(n,{hasControls:a,state:l,model:b.windows().get(c),isRtl:document.documentElement.classList.contains("text-direction-rtl")}))},w=function(a,c){return u(document.querySelector("#overlay"),t(p,{model:b.windows().get(a)}))},x=function(a,b,c){var d,e={_ActTargetSlideId:b.absoluteId,_ActTargetSlideNavIndex:b.get("navIndex")};return a.executePlayerEvent("onbeforeslidejump",e),d=!e.cancel,d&&k.trigger("slide:willChange",a,b,c),d},y={LightboxControlsWnd:c.partial(v,!0),LightboxWnd:c.partial(v,!1),LightboxTab:c.partial(v,!0),MessageWnd:w},z="_current",A=c.extend({subscriptions:{"mainWindow:created":"onMainWindowCreated","nextSlide:requesting":"onRequestingNextSlide","prevSlide:requesting":"onRequestingPrevSlide","nextDrawSlide:requesting":"onRequestingNextDrawSlide","window:closing":"onCloseWindowById","prevHistoryGroup:requesting":"onRequestingPrevHistoryGroup"},initialize:function(a){b=a,this.windows=[],this.addSubscriptions(),k.trigger("windowManager:created",this)},getCurrentWindow:function(){return c.last(this.windows)},getCurrentWindowId:function(){var a=A.getCurrentWindow();return a.getId()},getMainWindow:function(){return c.first(this.windows)},getCurrentWindowSlide:function(){var a=this.getCurrentWindow();return a&&a.state.currentSlide},removeWindow:function(a){return this.windows=c.without(this.windows,a),this},addWindow:function(a){return this.removeWindow(a),this.windows.push(a),this},getOrCreateWindow:function(a,b){var c,d=this.getCurrentWindow();return a&&a!==z?(d&&(c=d.getCurSlide(),c&&(this.lastTimeline=c.props.model.currentTimeline(),this.lastTimeline.pause())),this.findWindowById(a)||y[a.split("_")[0]](a,b)):d},findWindowById:function(a){return a===z?this.getCurrentWindow():c.find(this.windows,function(b){return b.getId()===a})},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveMainWindowSlideToOtherWindow:function(a){var b=this.getMainWindow(),c=b.getCurSlide();a.replaceSlideWith(c),b.hasHadSlideMoved=!0;var d=function(c){c===a&&(b.hasHadSlideMoved=!1,b.rebuildCurSlide(),k.off("window:closed",d))};return k.on("window:closed",d),this},onMainWindowCreated:function(a){this.addWindow(a),h.setWindowManager(this)},onCloseWindowById:function(a){var b,c,d=this.findWindowById(a),e=this.getMainWindow();d&&(d.el&&(b=d.el.parentNode)&&(b.classList.remove("opaque"),this.lastTimeline&&(this.lastTimeline.play(),this.lastTimeline=null),g.unmountComponentAtNode(b)),this.removeWindow(d),k.trigger("window:closed",d),null!=e&&(c=e.getCurrentSlide(),null!=c&&k.trigger("slide:started",c.id)),h.savePresentationData())},loadSlide:function(a,b,e){var f=c.isString(a)?a:a.absoluteId,g=m.loadSlide(a,this.getCurrentWindowSlide()).done(b.bind(this));return k.trigger("slide:hasChanged",d.stripPlayer(f),e),g},onRequestingPrevSlide:function(){var a,b=this.getCurrentWindow(),c=this.getCurrentWindowSlide(),d=b.getPrevSlide(),e=function(a){this.updateWindowHistory(b)};if(d){if(null!=c){if(!x(c,d))return;b.forceTransition()}a=this.loadSlide(d.absoluteId,e),b.setSlideLoading(a)}},onRequestingPrevHistoryGroup:function(){var a,b=this.getCurrentWindow(),c=b.getPrevHistoryGroup(),d=function(a){this.updateWindowHistory(b,null,!0)};null!=c&&(null!=b.getCurrentSlide()&&b.forceTransition(),a=this.loadSlide(c.absoluteId,d),b.setSlideLoading(a))},isNewLightBox:function(a,b){return!("MessageWnd"===a||!y[a]||a===b.displayName)},onRequestingNextSlide:function(a,c){var d,e,f,g,i=this.getCurrentWindowSlide(),j=this.getCurrentWindow(),l=this.isNewLightBox(c,j);if(o.clearCurrentItem(),o.currentIndex=-1,i?j.forceTransition():a=a||m.getEntrypoint(),a){if(g=m.getSlide(a,this.getCurrentWindowSlide()),null==g){if(b.parent.isPreview())return void k.trigger("preview:notify","PREVIEW_SLIDE_MISSING");s("onRequestingNextSlide","could not resolve slide",q.backtick(a),"so defaulting to entry point"),g=m.getSlide(m.getEntrypoint())}if(f=null!=i&&i.absoluteId===g.absoluteId,f&&!l)i.restart();else{if(null!=i&&!x(i,g,l))return;d=this.getOrCreateWindow(c),this.addWindow(d),e=this.loadSlide(g,function(a){this.updateWindowHistory(d,a)}),f&&l&&k.trigger("loader:hide"),d.setSlideLoading(e),null!=i&&d!==j&&e.done(function(){h.savePresentationData()})}}else i.executePlayerEvent("onnextslide")},onRequestingNextDrawSlide:function(){var a,b=this.getCurrentWindowSlide(),c=b.getSlideDraw();c&&(a=c.getNextSlideId(b),a?this.onRequestingNextSlide(a):c.performExitAction())},updateWindowHistory:function(a,b,c){var d,e=!!b,f=this.getMainWindow(),g=a===f;d=!g&&b===f.state.currentSlide&&!f.hasHadSlideMoved,a.prepareToUpdateSlide(d),e?a.pushHistory(b):a[c?"popHistoryGroup":"popHistory"](),d&&(this.lastTimeline&&this.lastTimeline.play(),this.moveMainWindowSlideToOtherWindow(a))},getResumeData:function(){return this.windows.reduce(function(a,b){return a+i.create(b.getResumeData())},"")},setResumeData:function(a){var b=new i({fullString:a}),c=b.encodedString();for(this.resumeWindowQueue=[];c.length;)this.setWindowAndHistory(c),b=b.reChunk(),c=b.encodedString()},setWindowAndHistory:function(a){var b=new i({fullString:a}),c=b.getUnsignedValue(),d=this.resolveSlideFromResumeData(b.remainder()),e=new i({fullString:d.data}),f=this.createSlideHistoryArray(e.encodedString());0===f.length&&f.push(d.slide),this.restoreOrQueueWindow(c,f)},restoreOrQueueWindow:function(a,b){this.restoringWindow?this.resumeWindowQueue.push({idx:a,history:b}):(this.restoringWindow=!0,this.setLoadedWindow(a,b))},setLoadedWindow:function(a,b){var c=this.getWindowFromIndex(a,b),d=b.pop(),e=this.loadSlide(d.absoluteId,function(a){var d;c.setPreviousHistory(b),this.updateWindowHistory(c,a),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(a.pauseForResume=!0,d=this.resumeWindowQueue.shift(),this.setLoadedWindow(d.idx,d.history))});c.setSlideLoading(e)},getWindowFromIndex:function(a,c){var d,e;return 0===a?d=this.getMainWindow():(e=b.windows().at(a-1).id,d=this.getOrCreateWindow(e),this.addWindow(d)),d},createSlideHistoryArray:function(a){for(var b,c=[];a.length;)b=this.resolveSlideFromResumeData(a),c.push(b.slide),a=b.data;return c},resolveSlideFromResumeData:function(a){var b="1"===a.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData";return this[b](a.slice(1))},getSlideFromResumeData:function(a){var b=new i({fullString:a}),c=b.reChunk(),d=b.getUnsignedValue(),e=c.getUnsignedValue();return{slide:m.getSlideFromIndices(e,d),data:c.remainder()}},getDrawFromResumeData:function(a){var b=new i({fullString:a}),c=b.reChunk(),d=c.reChunk(),e=b.getUnsignedValue(),f=c.getUnsignedValue(),g=d.getUnsignedValue();return{slide:m.getDrawFromIndices(g,f,e),data:d.remainder()}}},e.Events,j);return l.windowManager=A,A}),define("views/player/mixins/appStateable",["require","lodash","views/helpers/dom","helpers/appState","backbone","helpers/utils","helpers/constants","helpers/windowManager","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=a("helpers/appState"),e=(a("backbone"),a("helpers/utils"),a("helpers/constants")),f=(a("helpers/windowManager"),a("helpers/vow")),g={componentDidMount:function(){this.layoutProps=[],this.liveCallbacks={};var a=b.isFunction(this.stateableValues)?this.stateableValues():this.stateableValues,f=c.closest(this.el,function(a){return!!a.getAttribute("data-window-id")});b.forOwn(a,function(a,b){a&&(this.liveCallbacks[b]=a),this.layoutProps.push(b)}.bind(this)),this.windowId=null!=f?f.getAttribute("data-window-id"):e.refs.FRAME,this.listenTo(d,"layout:changed",this.onLayoutChanged),this.onLayoutChanged(d,d.currentLayout()||{},this.windowId)},componentWillUnmount:function(){this.stopListening()},onLayoutChanged:function(a,c,d){var e=[];d===this.windowId&&this.isMounted()&&(null!=this.beforeStateableValuesUpdated&&this.beforeStateableValuesUpdated(c),this.layoutProps.forEach(function(a){var d=this.getLayoutPropVal(c,a);if(null!=d){var g,h,i,j={},k=this.liveCallbacks[a],l=!!(d&&null!=d.enabled?d.enabled:d);null!=k?k(l):(g=a.split("."),h=g.length>1?b.last(g):b.first(g),j["stateable_"+h]=l,i=new f.Deferred,e.push(i.promise()),this.setState(j,i.resolve))}}.bind(this)),this.stateableValuesUpdated&&f.after.apply(f,e).then(b.partial(this.stateableValuesUpdated,c)))},getLayoutPropVal:function(a,c){return b.reduce(c.split("."),function(a,b){return a[b]},a)}};return g}),define("views/player/Topbar",["require","lodash","views/helpers/dom","react","views/player/mixins/appStateable","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/dom")),c=a("react"),d=a("views/player/mixins/appStateable"),e=a("views/mixins/baseView"),f=a("helpers/utils"),g=c.createClass({displayName:"Topbar",mixins:[e,d],componentDidMount:function(){this.afterHtmlReady(this.adjustLayout)},componentDidUpdate:function(){this.adjustLayout()},stateableValuesUpdated:function(a){this.htmlReady(this.adjustLayout)},hasLinkLeft:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkLeft")},hasLinkRight:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkRight")},hasTitle:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.titleEnabled")},hasTimer:function(){return this.getPath("props.timers").length>0},hasElapsedAndTotalTime:function(){return!!this.getPath("props.model.controlOptions.controls.elapsedandtotaltime")},adjustLayout:function(){var a=".topmenu-item:not(.hidden) .topmenu-tab",c=this.find(".presentation-title"),d=this.hasElapsedAndTotalTime(),e=this.find(".top-tabs"),f=this.findAll(".top-tabs-right "+a),g=this.findAll(".top-tabs-left "+a),h=this.findAll(".top-tabs-left .topmenu-item .topmenu-tab, .top-tabs-right .topmenu-item .topmenu-tab"),i=c&&this.hasSpaceForTitle(c,g,f);this.el.classList[i?"add":"remove"]("centered-title"),this.el.classList[h.length&&(c||d)?"add":"remove"]("extended-height"),b.resizeToFit(e,h,void 0,-2)},hasSpaceForTitle:function(a,b,c){return!b.length&&(!c.length||a.getBoundingClientRect().right<c[0].getBoundingClientRect().left)},onTimerShow:function(a){f.showTimer(this,a)}});return g}),define("views/mixins/propertizable",["require","lodash","helpers/constants"],function(a){"use strict";var b=(a("lodash"),a("helpers/constants")),c=(b.PLAYER_PROPS_KEYPATH,{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var a=this.props.model;return this.playerPropsModel={},a&&a.createPlayerProps&&(this.playerPropsModel=a.playerProps||a.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},getPlayerProp:function(a){return this.state[a]},setPlayerProp:function(a,b){return this.props.model.prop(a,b)}});return c}),define("views/mixins/mouseable",["require","lodash","views/events/mouseEvents"],function(a){"use strict";var b=a("lodash"),c=a("views/events/mouseEvents"),d={componentWillMount:function(){this.offs=[]},registerEvent:function(a,b,d){d=d||this.el,this.offs.push(c[a](d,b,this))},componentWillUnmount:function(){b(this.offs).flatten().invoke("teardown").value()}};return d}),define("helpers/assetManager",["require","lodash","helpers/errorManager","helpers/vow"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/errorManager"),e=a("helpers/vow"),f=d.throwError("assetManager"),g=d.backtick,h="No asset with id of",i="Must pass in an array of asset ids",j={initialize:function(a){return b=a,this},getAsset:function(a){var c=b.get(a);return c||f("getAsset",h,g(a)),c},getAssetUrl:function(a){return this.getAsset(a).url()},loadAsset:function(a){return this.getAsset(a).load()},loadAssets:function(a){c.isArray(a)||f("loadAssets",i);var b=a.map(this.loadAsset.bind(this)),d=e.after.apply(null,b);return d.dfds=c.pluck(b,"dfd"),d}};return j}),define("views/mixins/zoompanable",["require","lodash","helpers/GsapTweenLite","helpers/svg/svgUtils","helpers/utils","helpers/assetManager","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("helpers/GsapTweenLite"),d=(a("helpers/svg/svgUtils"),a("helpers/utils")),e=a("helpers/assetManager"),f=a("views/helpers/dom"),g=.1,h=function(a,b,c){return(c*a-c)/2-b*a},i=b.flow(function(a){return a/2},d.pxify),j={componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan),this.zoomPans={},this.zoomBackgrounds=[]},zoomPan:function(a){if(!this.zoomPans[a.event.time]&&this.el){var b,j,k,l,m=a.action,n=a.event,o=this.props.model,p=o.currentTimeline(),q=o.get("width"),r=o.get("height"),s=this.el.parentNode,t=m.duration/1e3,u=(n.time+m.duration*g)/1e3,v=q/m.width,w=h(v,m.xPos,q),x=h(v,m.yPos,r);this.zoomPans[n.time]=m,b=c.to(s,t,{transformOrigin:[q,r].map(i).join(" "),x:w,y:x,scale:v,ease:"Cubic.easeIn"}),p.addChildTimeline(b,n.timelineLabel),this.lastZoomBackground&&(l=c.to(this.lastZoomBackground,0,{autoAlpha:0}),p.addChildTimeline(l,u)),-1!==m.staticimageassetid&&(j=s.querySelector(".zoom-bg-container"),k=document.createElement("img"),k.src=e.getAssetUrl(m.staticimageassetid),f.setStyles(k,{position:"absolute",left:d.pxify(m.xPos),top:d.pxify(m.yPos),width:d.pxify(m.width),height:d.pxify(m.height),visibility:"hidden"}),j.appendChild(k),l=c.to(k,0,{autoAlpha:1}),p.addChildTimeline(l,u)),this.lastZoomBackground=k}}};return j}),define("helpers/TransMatrix",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/utils"),e=a("helpers/constants"),f=6,g=1e-12,h=e.math.TO_RADIANS,i=function(a){return Math.abs(a)<=g},j=function(){this.reset()};return b.extend(j.prototype,{adjustByViewProps:function(a){return this.translate(a.RawXPos,a.RawYPos).scale(a.ScaleX,a.ScaleY,a.rotateXPos,a.rotateYPos).rotate(a.Rotation,a.rotateXPos,a.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(a,b){return this.tx+=a*this.a+b*this.b,this.ty+=a*this.c+b*this.d,this},scale:function(a,b,c,d){var e=c||d;return e&&this.translate(c,d),this.a*=a,this.c*=a,this.b*=b,this.d*=b,e&&this.translate(-c,-d),this},rotate:function(a,b,c){a*=h;var d=Math.cos(a),e=Math.sin(a),f=b-b*d+c*e,g=c-b*e-c*d,i=this.a,j=this.b,k=this.c,l=this.d;return this.a=d*i+e*j,this.b=-e*i+d*j,this.c=d*k+e*l,this.d=-e*k+d*l,this.tx+=f*i+g*j,this.ty+=f*k+g*l,this},skew:function(a,b,c,d){var e=c||d,f=this.a,g=this.c;return a=Math.tan(a*h),b=Math.tan(b*h),e&&this.translate(c,d),this.a+=b*this.b,this.c+=b*this.d,this.b+=a*f,this.d+=a*g,e&&this.translate(-c,-d),this},transform:function(a,b){return{x:a*this.a+b*this.b+this.tx,y:a*this.c+b*this.d+this.ty}},copy:function(){var a=new j;return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},invert:function(){var a=1/(this.a*this.d-this.b*this.c),b=this.d*a,c=-this.b*a,d=-this.c*a,e=this.a*a,f=a*(this.b*this.ty-this.d*this.tx),g=a*(this.c*this.tx-this.a*this.ty);return this.a=b,this.b=c,this.c=d,this.d=e,this.tx=f,this.ty=g,this},toCssTransform:function(){var a=d.fix(this.a,f),b=d.fix(this.b,f),e=d.fix(this.c,f),g=d.fix(this.d,f),h=d.fix(this.tx,f),i=d.fix(this.ty,f);return c.buildTransformFn("matrix",a,e,b,g,h,i)},getScale:function(){var a=d.hypot(this.a,this.c),b=d.hypot(this.b,this.d);return{x:a,y:b}},transformPoint:function(a,b){return{x:a*this.a+b*this.b+this.tx,y:a*this.c+b*this.d+this.ty}},unTransformPoint:function(a,b){return this.copy().invert().transformPoint(a,b)},decompose:function(){var a,b,c=this.a,d=this.b,e=this.c,f=this.d;return i(c*f-d*e)?null:(a=Math.sqrt(c*c+d*d),c/=a,d/=a,b=Math.sqrt(e*e+f*f),e/=b,f/=b,d*e>c*f&&(c=-c,d=-d,a=-a),{scaling:{x:a,y:b},rotation:180*-Math.atan2(d,c)/Math.PI})},append:function(a){var b=this.a,c=this.b,d=this.c,e=this.d,f=a.a,g=a.b,h=a.c,i=a.d,j=a.tx,k=a.ty;return this.a=f*b+h*c,this.b=g*b+i*c,this.c=f*d+h*e,this.d=g*d+i*e,this.tx+=j*b+k*c,this.ty+=j*d+k*e,this}}),j}),define("views/mixins/pinchzoomable",["require","lodash","tween-lite","polyfills/detection","helpers/TransMatrix","helpers/utils","helpers/cssPrefix","helpers/errorManager","helpers/slideObjectUtils","helpers/constants","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("polyfills/detection"),e=a("helpers/TransMatrix"),f=a("helpers/utils"),g=(a("helpers/cssPrefix"),a("helpers/errorManager"),a("helpers/slideObjectUtils")),h=a("helpers/constants"),i=a("helpers/pubSub"),j=6,k=250,l=function(a){return!a||a.length<2},m=function(a){return l(a)?1:f.dist(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY)},n={getPinchCenter:function(a){var b,c={x:0,y:0};this.props.model.parentTransform;return l(a)?c:(b=this.isLightboxDocked(),this.isInLightbox&&this.lightboxDockedState!==b?(c.x=(a[0].pageX+a[1].pageX+document.body.clientWidth/2)/3,c.y=(a[0].pageY+a[1].pageY)/4):(c.x=(a[0].pageX+a[1].pageX)/2,c.y=(a[0].pageY+a[1].pageY)/2),c)},shouldInitPinchZoom:function(){return g.isMobileSlide(this)&&null==this.props.slideFrame},initPinch:function(){this.pinch={scale:1,matrix:new e,panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},initPinchZoom:function(a){this.shouldInitPinchZoom()&&(this.pinchZoomSlideContainer=a||this.props.slideContainer,this.container=this.el.parentNode,this.isInLightbox=this.pinchZoomSlideContainer.props.lightboxed,this.hasLightboxControls=this.pinchZoomSlideContainer.props.hasControls,this.initPinch(),this.container.addEventListener("gesturestart",this.onPrevent),this.container.addEventListener("touchstart",this.onTouchStart,!0),this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchend",this.onTouchEnd),this.isInLightbox&&i.on("detection:orientationChange",this.onOrientationChange),this.doubleTapCount=0,document.addEventListener("touchstart",this.onDoubleTap))},resetDoubleTap:function(){this.doubleTapCount=0},onDoubleTap:function(a){l(a.touches)&&this.pinch.scale>1&&!g.isDoubleClickRelated(a.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,k),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onOrientationChange:function(){this.initPinch(),this.pinch.currMatrix=new e,this.startTransition(0)},zoomOut:function(){this.pinch.matrix=new e,this.pinch.currMatrix=this.pinch.matrix.copy(),this.props.model.pinchZoomScale=this.pinch.scale=1,this.pinch.zoomingOut=!0,this.startTransition(200,function(){this.pinch.zoomingOut=!1}.bind(this))},transTouch:function(a){var c=this.props.model.parentTransform,d=b(a).map(function(a){return{pageX:a.pageX/c.scale-c.xOff,pageY:a.pageY/c.scale-c.yOff}}).value();return d},updatePinchPan:function(a){var b=this.pinch.matrix.unTransformPoint(a[0].pageX,a[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(b.x-this.pinch.startCenter.x,b.y-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.isInLightbox&&this.trigger("pinchzoom")},updatePinchZoom:function(a){var b=m(a),c=this.getPinchCenter(a),d=this.pinch.matrix.unTransformPoint(c.x,c.y),e=b/this.pinch.startDistance;e=Math.max(1/this.pinch.scale,Math.min(e,j/this.pinch.scale)),this.pinch.zoom=e,this.pinch.currMatrix=this.pinch.matrix.copy().translate(d.x,d.y).scale(e,e).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.trigger("pinchzoom")},onPrevent:function(a){a.preventDefault()},isLightboxDocked:function(){var a=this.el.getBoundingClientRect(),b=0,c=0;return"portrait"===d.orientation?c=this.hasLightboxControls?h.MOBILE_UI_SIZE:0:b=h.MOBILE_UI_SIZE,a.left<=0&&a.top<=0&&a.right+b>=document.body.clientHeight&&a.bottom+c>=document.body.clientWidth},isLightboxScaledToScreen:function(){var a,b,c=this.pinch.scale;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),"portrait"===d.orientation?(a=this.pinch.width*c,b=this.pinch.height*c):(b=this.pinch.width*c,a=this.pinch.height*c),a>=document.body.clientWidth&&b>=document.body.clientHeight},onTouchStart:function(a){var b,c=this.transTouch(a.touches);if(this.lightboxDockState=this.isLightboxDocked(),2===c.length){this.pinch.panning=!1,this.pinch.zooming=!0,b=this.getPinchCenter(c);this.props.model.parentTransform;this.pinch.startCenter=this.pinch.matrix.unTransformPoint(b.x,b.y),this.pinch.startDistance=m(c),this.pinch.disable=!1}else 1!==c.length||1===this.pinch.scale&&!this.isInLightbox||this.shouldDisablePan(a)?(this.pinch.panning=this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(c[0].pageX,c[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=a.touches.length},onTouchEnd:function(a){this.pinch.disable=!1,this.lightboxDockState=this.isLightboxDocked(),a.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.screenBounds(),this.pinch.matrix=this.pinch.currMatrix,this.props.model.pinchZoomScale=this.pinch.scale))},onTouchMove:function(a){if(!this.pinch.disable){var b=this.transTouch(a.touches);2===b.length?this.updatePinchZoom(b):1===b.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(b);
}},screenBounds:function(){var a,b,c,f,g,i,j,k,l,m,n,o,p=!1;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),d.isMobile&&(j="portrait"===d.orientation?h.DOUBLE_MOBILE_UI_SIZE:0,k="landscape"===d.orientation?h.DOUBLE_MOBILE_UI_SIZE:0,n=this.el.getBoundingClientRect(),o=n.width>=document.body.clientWidth-k&&n.height>=document.body.clientHeight-j,this.isInLightbox&&!o)?(this.pinch.currMatrix=new e,this.pinch.currMatrix.scale(this.pinch.scale,this.pinch.scale,this.pinch.width/2,this.pinch.height/2),void this.startTransition(400)):(a=this.pinch.currMatrix.transformPoint(0,0),b=this.pinch.currMatrix.transformPoint(this.pinch.width,this.pinch.height),o&&(c=this.props.model.parentTransform.scale,f=this.pinch.currMatrix.getScale().x,g=1/(c*f),i=this.pinchZoomSlideContainer.el.getBoundingClientRect(),l=i.left*g,m=i.top*g,a=this.pinch.currMatrix.transformPoint(l,m),b=this.pinch.currMatrix.transformPoint(this.pinch.width+-1*l,this.pinch.height+-1*m),this.isInLightbox&&"portrait"===d.orientation&&(b.y-=.75*h.DOUBLE_MOBILE_UI_SIZE)),a.x>0&&(p=!0,this.pinch.currMatrix.translate(-a.x/this.pinch.scale,0)),a.y>0&&(p=!0,this.pinch.currMatrix.translate(0,-a.y/this.pinch.scale)),b.x<this.pinch.width&&(p=!0,this.pinch.currMatrix.translate((this.pinch.width-b.x)/this.pinch.scale,0)),b.y<this.pinch.height&&(p=!0,this.pinch.currMatrix.translate(0,(this.pinch.height-b.y)/this.pinch.scale)),void(p&&this.startTransition(400)))},startTransition:function(a,d){d=d||b.noop,this.pinchZoomTransitionTween=c.to(this.container,a/1e3,{transform:this.pinch.currMatrix.toCssTransform(),parseTransform:!0,onUpdate:this.trigger.bind(this,"pinchzoom"),onComplete:function(){d(),this.endTransition()}.bind(this)}),this.pinchZoomTransitionTween.play()},endTransition:function(){null!=this.pinchZoomTransitionTween&&(this.pinchZoomTransitionTween.kill(),delete this.pinchZoomTransitionTween)},killPinchZoom:function(){this.shouldInitPinchZoom()&&(this.container.removeEventListener("gesturestart",this.onPrevent),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchend",this.onTouchEnd),i.off("detection:orientationChange",this.onOrientationChange),document.removeEventListener("touchstart",this.onDoubleTap),this.container.style[this.cssTransform]="")},componentWillUnmount:function(){this.killPinchZoom()},shouldDisablePan:function(a){return 1===a.touches.length&&(g.isDraggableRelated(a.target)||g.isScrollRelated(a.target)||g.isRotatableRelated(a.target)||g.isSlideableRelated(a.target))}};return n}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],g(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));g(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals.isSelector,g=c._internals.isArray,h=[],i=window._gsDefine.globals,j=function(a){var b,c={};for(b in a)c[b]=a[b];return c},k=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||h)},l=h.slice,m=d.prototype=new b;return d.version="1.11.8",m.constructor=d,m.kill()._gc=!1,m.to=function(a,b,d,e){var f=d.repeat&&i.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},m.from=function(a,b,d,e){return this.add((d.repeat&&i.TweenMax||c).from(a,b,d),e)},m.fromTo=function(a,b,d,e,f){var g=e.repeat&&i.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},m.staggerTo=function(a,b,e,g,h,i,k,m){var n,o=new d({onComplete:i,onCompleteParams:k,onCompleteScope:m,smoothChildTiming:this.smoothChildTiming});for("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=l.call(a,0)),g=g||0,n=0;a.length>n;n++)e.startAt&&(e.startAt=j(e.startAt)),o.to(a[n],b,j(e),n*g);return this.add(o,h)},m.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},m.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},m.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},m.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},m.add=function(e,f,h,i){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&g(e)){for(h=h||"normal",i=i||0,j=f,k=e.length,l=0;k>l;l++)g(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===h?j=m._startTime+m.totalDuration()/m._timeScale:"start"===h&&(m._startTime-=m.delay())),j+=i;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},m.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array||b&&b.push&&g(b)){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},m._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},m.insert=m.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},m.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},m.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},m.addPause=function(a,b,c,d){return this.call(k,["{self}",b,c,d],this,a)},m.removeLabel=function(a){return delete this._labels[a],this},m.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},m._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&g(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},m.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(a,b){return this.play(a,b)},m.gotoAndStop=function(a,b){return this.pause(a,b)},m.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,i,j,k=this._dirty?this.totalDuration():this._totalDuration,l=this._time,m=this._startTime,n=this._timeScale,o=this._paused;if(a>=k?(this._totalTime=this._time=k,this._reversed||this._hasPausedChild()||(f=!0,i="onComplete",0===this._duration&&(0===a||0>this._rawPrevTime||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(j=!0,this._rawPrevTime>e&&(i="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=k+1e-4):1e-7>a?(this._totalTime=this._time=0,(0!==l||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(i="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(j=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=0,this._initted||(j=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==l&&this._first||c||j){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==l&&a>0&&(this._active=!0),0===l&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h)),this._time>=l)for(d=this._first;d&&(g=d._next,!this._paused||o);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||o);)(d._active||l>=d._startTime&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),i&&(this._gc||(m===this._startTime||n!==this._timeScale)&&(0===this._time||k>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||h)))}},m._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},m.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)e>g._startTime||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},m.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},m._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},m.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},m._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},m.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},m._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},m.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,0>e._startTime&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},m.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},m.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline-lite",["tween-lite"],function(a){return function(){var b;return b||a.TimelineLite}}(this)),define("mixins/actionable",["require","lodash","helpers/errorManager"],function(a){"use strict";var b=(a("lodash"),a("helpers/errorManager")),c=b.throwError("actionable"),d=(b.warn("actionable"),"Cannot execute action without `kind`"),e={triggerAction:function(a,b){var e=a&&a.kind;return e||c("triggerAction",d),this.trigger("action:"+e,a,b),this}};return e}),define("helpers/quizResultsHelper",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=", ",d={},e={};d.numeric=d.fillin=b.identity,d.likert=d.sequence=d.matching=function(a){return[a.statement.lmstext,a.choice.lmstext].join(c)},d.multiplechoice=d.truefalse=d.hotspot=d.wordbank=d.multipleresponse=function(a){return a.lmstext},e.numeric=e.fillin=function(a,b){return b},e.likert=e.sequence=e.matching=function(a,b){return[a.getStatementById(b.statementResponse).lmstext,a.getChoiceById(b.choiceResponse).lmstext].join(c)},e.multiplechoice=e.truefalse=e.hotspot=e.wordbank=e.multipleresponse=function(a,b){return a.getChoiceById(b).lmstext};var f=function(a){return a.prop("CorrectResponse").map(d[a.type()]).join(c)},g=function(a){var d=b.last(a.attempts);return null==d?"":d.responses.map(b.partial(e[a.type()],a)).join(c)},h={correctResponseToString:f,actualResponseToString:g};return h}),define("helpers/printer",["require","lodash","helpers/quizResultsHelper","helpers/pubSub","helpers/constants","helpers/resolver"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/quizResultsHelper"),e=a("helpers/pubSub"),f=a("helpers/constants"),g=a("helpers/resolver"),h={qm:f.QUIZ_MAKER_URL,ap:f.PRESENTER_URL},i=function(a){return{strQuizId:a.id,strQuizName:a.get("lmstext"),nScore:a.prop("Score"),nPassingScore:a.prop("PassPercent"),nPtScore:a.prop("PercentScore"),dtmFinished:a.timeComplete,strStatus:a.prop("Status"),arrQuestions:a.flatInteractions.map(function(a,b){return{nQuestionNumber:b+1,strDescription:a.get("lmstext"),strCorrectResponse:d.correctResponseToString(a),strUserResponse:d.actualResponseToString(a),strStatus:a.prop("Status"),nPoints:a.prop("Score"),strLMSId:a.get("lmsId"),strType:a.get("type")}})}},j=function(a,d){var j=[];if(b.isPreview())return void e.trigger("preview:notify","PREVIEW_PRINT_RESULTS");var k={type:a.quizidtype,value:a.quizid},l=g.resolvePath(g.getRef(k,d.context,d)),m=null==a.usernamevar||""===a.usernamevar?null:g.resolvePath(a.usernamevar),n=null==m?null:m.value();window.g_oPrintOptions={strName:n||"",arrQuizzes:[l.id],strMainQuizId:l.id,bShowUserScore:a.showuserscore,bShowPassingScore:a.showpassingscore,bShowShowPassFail:a.showpassfail,bShowQuizReview:a.showquizreview,bSurvey:l.get("issurvey")},window.g_listQuizzes={},window.g_listQuizzes[l.id]=i(l),l.quizzes.length>0&&(l.quizzes.forEach(function(a){j.push(a.id),window.g_listQuizzes[a.id]=i(a)}),window.g_oPrintOptions.arrQuizzes=j),window.g_oContentResults={dtmFinished:l.timeComplete||new Date};var o=window.open(c.get(h,f.player.OUTPUT_TYPE,f.STORY_CONTENT_URL)+"report.html","_blank");o.addEventListener("load",function p(){o.removeEventListener("load",p),window.g_oPrintOptions=null,window.g_listQuizzes=null,window.g_oContentResults=null})},k=function(a){b=a},l={printQuizResults:j,initialize:k};return l}),define("helpers/actionator",["require","lodash","backbone","helpers/constants","helpers/pubSub","helpers/mixer","helpers/utils","helpers/errorManager","mixins/actionable","mixins/shortEventable","helpers/resolver","helpers/resume/resumer","helpers/windowManager","helpers/printer","helpers/webObjectHelper","helpers/slidesController"],function(a){"use strict";var b,c,d=a("lodash"),e=a("backbone"),f=a("helpers/constants"),g=a("helpers/pubSub"),h=a("helpers/mixer"),i=a("helpers/utils"),j=a("helpers/errorManager"),k=a("mixins/actionable"),l=a("mixins/shortEventable"),m=a("helpers/resolver"),n=a("helpers/resume/resumer"),o=a("helpers/windowManager"),p=a("helpers/printer"),q=a("helpers/webObjectHelper"),r=a("helpers/slidesController"),s=j.throwError("actionator"),t=function(){return o.getCurrentWindow().isWaitingForSlideLoad()},u={mixins:[k,l,e.Events],shortEvents:{self:{"action:save_resume_data":"saveResume","action:notify_preview":"notifyPreview","action:enable_frame_control":"enableFrameControl","action:set_frame_layout_type":"setFrameLayout","action:set_window_control_layout":"setWindowControlLayout","action:set_frame_layout":"setFrameLayoutFromLayout","action:set_window_control_visible":"changeWindowControl","action:enable_window_control":"changeWindowControl","action:gotoplay":"changeSlide","action:trigger_next_slide":"advanceSlide","action:trigger_prev_slide":"triggerPrevSlideClicked","action:trigger_submitall_slide":"onSubmitAll","action:trigger_submit_slide":"onSubmitSlide","action:trigger_slide_finish":"onSlideFinish","action:history_prev":"goBack","action:history_prev_group":"goBackHistoryGroup","action:close_window":"closeWindow","action:close_player":"closePlayer","action:open_video":"openVideo","action:open_url":"openUrl","action:resume_player":"applyPlayerResumeData","action:playnextdrawslide":"advanceSlideDrawSlide","action:get_mouse_position":"getMousePosition","action:zoompan":"zoomPan","action:closewndgotoslide":"closeWndGotoSlide","action:nextviewedslide":"nextViewedSlide","action:exe_javascript":"exeJavaScript","action:emailto":"mailTo","action:reset_player":"resetPlayer","action:printresults":"printQuizResults","action:notifylinkselected":"notifyLinkSelected","action:cancel_event":"cancelEvent","action:trigger_host_event":"triggerHostEvent"}},onSubmitAll:function(){var a=o.getCurrentWindowSlide();a.executePlayerEvent("onsubmitallslide")},onSubmitSlide:function(){var a=o.getCurrentWindowSlide();a.executePlayerEvent("onsubmitslide")},onSlideFinish:function(){var a=o.getCurrentWindowSlide();a.executePlayerEvent("onfinishslide")},saveResume:function(a,b){var c=m.getRef(a.slideref||a.slideRefs),d=m.resolvePath(c,b.context);d.prepareResumeData({retainState:!0})},notifyPreview:function(a,b){g.trigger("preview:notify",a.message,a.data)},enableFrameControl:function(a,b){g.trigger("navcontrols:changed",a)},mailTo:function(a){c.isPreview()?g.trigger("preview:notify","PREVIEW_EMAILTO"):window.location.assign("mailto:"+a.address)},execUserJs:window.ExecuteScript,exeJavaScript:function(a){if(c.isPreview())g.trigger("preview:notify","PREVIEW_EXE_JAVASCRIPT");else try{this.execUserJs(a.id)}catch(b){s("exeJavaScript",b.message||"Unknown custom script error")}},openVideo:function(a,b){a.windowsize="custom",g.trigger("externalWindow:open",a,b)},getMousePosition:function(a,b){i.applyMethod("triggerAction",b.context,a,b)},zoomPan:function(a,b){i.applyMethod("triggerAction",b.context,a,b)},closeWndGotoSlide:function(a,b){var c=a.objRef.value;g.trigger("window:closing",a.closewindowid),g.trigger("nextSlide:requesting",c)},nextViewedSlide:function(a,b){var c=m.resolvePath(m.getRef(a.quizRef),b.context);i.applyMethod("triggerAction",c,a,b)},openUrl:function(a,b){g.trigger("externalWindow:open",a,b)},initialize:function(a,d){b=a,c=d},getControlLayout:function(a){return b.controlLayouts().get(a)},setWindowControlLayout:function(a,b){var c=this.getControlLayout(a.name),d=b.context.prop("WindowId")||o.getCurrentWindowId();null!=c&&g.trigger("controllayout:changed",c,d)},setFrameLayout:function(a,b){var c=this.getControlLayout(a.name);g.trigger("controllayout:changed",c,f.refs.FRAME)},setFrameLayoutFromLayout:function(a){var c=b.getLayout(a.name).controllayout;g.trigger("controllayout:changed",this.getControlLayout(c),f.refs.FRAME)},changeWindowControl:function(a,b){g.trigger("navcontrols:changed",a,b)},changeSlide:function(a,b){if(!t()){var e=d.get(b,"actionTarget.absoluteId");null==e&&c.isPreview()?g.trigger("preview:notify","PREVIEW_SLIDE_MISSING"):g.trigger("nextSlide:requesting",e,a.window)}},triggerPrevSlideClicked:function(a){var b=o.getCurrentWindowSlide();b.executePlayerEvent("onprevslide")},goBack:function(a){t()||g.trigger("prevSlide:requesting")},goBackHistoryGroup:function(a,b){t()||g.trigger("prevHistoryGroup:requesting")},advanceSlide:function(a){t()||g.trigger("nextSlide:requesting")},advanceSlideDrawSlide:function(a){t()||g.trigger("nextDrawSlide:requesting")},closeWindow:function(a){g.trigger("window:closing",a.id)},closePlayer:function(){g.trigger("player:closing")},applyPlayerResumeData:function(a){g.trigger("loader:unmute"),n.applyResumeData(a.resume)},resetPlayer:function(a,b){g.trigger("player:reset");var c=o.getCurrentWindowSlide(),e=r.getSlide(a.startslideid,c),f=null!=c&&c.absoluteId===e.absoluteId;f?(n.clearResumeData(),c.reset()):(null!=d.get(c,"currView.killSlide")&&c.currView.killSlide(),n.clearResumeData(),this.changeSlide(a,b))},printQuizResults:function(a,b){p.printQuizResults(a,b)},notifyLinkSelected:function(a,b){g.trigger("actionlink:viewed",a.id)},cancelEvent:function(a,b){b.cancel=!0},triggerHostEvent:function(a){q.triggerHostEvent(a.eventName)}};return h.mix(u),h.initMixinsOf(u),u}),define("views/helpers/bitmaskHelper",["require"],function(a){"use strict";var b=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,c},c={buildImage:function(a,c,d){var e,f,g,h,i=0,j=b(c,d),k=j.getContext("2d"),l=k.createImageData(c,d),m=a.split(/([XO])/g),n=m.length;for(e=0;n>e;e+=2)for(g=parseInt(m[e],16),h="X"===m[e+1]?255:0,f=0;g>=f;f++)l.data[i]=h,l.data[i+3]=h,i+=4;return k.putImageData(l,0,0),j}};return c}),function(){function a(a){var c={opts:a};return c.MAX_VIRTUAL_PIXELS=3e4,c.log=function(a){},1==c.opts.log&&"undefined"!=typeof console&&(c.log=function(a){console.log(a)}),c.init=function(a){var b=0;c.UniqueId=function(){return b++,"canvg"+b},c.Definitions={},c.Styles={},c.StylesSpecificity={},c.ctx=a,c.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},c.init(),c.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},c.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")},c.parseXml=function(a){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var b=new Windows.Data.Xml.Dom.XmlDocument,c=new Windows.Data.Xml.Dom.XmlLoadSettings;return c.prohibitDtd=!1,b.loadXml(a,c),b}if(window.DOMParser){var d=new DOMParser;return d.parseFromString(a,"text/xml")}a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b},c.Property=function(a,b){this.name=a,this.value=b},c.Property.prototype.getValue=function(){return this.value},c.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},c.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);return(this.value+"").match(/%$/)&&(a/=100),a},c.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a},c.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a},c.Property.prototype.getDefinition=function(){var a=this.value.match(/#([^\)'"]+)/);return a&&(a=a[1]),a||(a=this.value),c.Definitions[a]},c.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},c.Property.prototype.getDPI=function(a){return 96},c.Property.prototype.getEM=function(a){var b=12,d=new c.Property("fontSize",c.Font.Parse(c.ctx.font).fontSize);return d.hasValue()&&(b=d.toPixels(a)),b},c.Property.prototype.getUnits=function(){var a=this.value+"";return a.replace(/[0-9\.\-]/g,"")},c.Property.prototype.toPixels=function(a,b){if(!this.hasValue())return 0;var d=this.value+"";if(d.match(/em$/))return this.numValue()*this.getEM(a);if(d.match(/ex$/))return this.numValue()*this.getEM(a)/2;if(d.match(/px$/))return this.numValue();if(d.match(/pt$/))return this.numValue()*this.getDPI(a)*(1/72);if(d.match(/pc$/))return 15*this.numValue();if(d.match(/cm$/))return this.numValue()*this.getDPI(a)/2.54;if(d.match(/mm$/))return this.numValue()*this.getDPI(a)/25.4;if(d.match(/in$/))return this.numValue()*this.getDPI(a);if(d.match(/%$/))return this.numValue()*c.ViewPort.ComputeSize(a);var e=this.numValue();return b&&1>e?e*c.ViewPort.ComputeSize(a):e},c.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},c.ToNumberArray=function(a){for(var b=c.trim(c.compressSpaces((a||"").replace(/,/g," "))).split(" "),d=0;d<b.length;d++)b[d]=parseFloat(b[d]);return b},c.Point=function(a,b){this.x=a,this.y=b},c.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)},c.Point.prototype.applyTransform=function(a){var b=this.x*a[0]+this.y*a[2]+a[4],c=this.x*a[1]+this.y*a[3]+a[5];this.x=b,this.y=c},c.CreatePoint=function(a){var b=c.ToNumberArray(a);return new c.Point(b[0],b[1])},c.CreatePath=function(a){for(var b=c.ToNumberArray(a),d=[],e=0;e<b.length;e+=2)d.push(new c.Point(b[e],b[e+1]));return d},c.BoundingBox=function(a,b,c,d){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(a,b){null!=a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),null!=b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},this.addX=function(a){this.addPoint(a,null)},this.addY=function(a){this.addPoint(null,a)},this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1),this.addPoint(a.x2,a.y2)},this.addQuadraticCurve=function(a,b,c,d,e,f){var g=a+2/3*(c-a),h=b+2/3*(d-b),i=g+1/3*(e-a),j=h+1/3*(f-b);this.addBezierCurve(a,b,g,i,h,j,e,f)},this.addBezierCurve=function(a,b,c,d,e,f,g,h){var j=[a,b],k=[c,d],l=[e,f],m=[g,h];for(this.addPoint(j[0],j[1]),this.addPoint(m[0],m[1]),i=0;i<=1;i++){var n=function(a){return Math.pow(1-a,3)*j[i]+3*Math.pow(1-a,2)*a*k[i]+3*(1-a)*Math.pow(a,2)*l[i]+Math.pow(a,3)*m[i]},o=6*j[i]-12*k[i]+6*l[i],p=-3*j[i]+9*k[i]-9*l[i]+3*m[i],q=3*k[i]-3*j[i];if(0!=p){var r=Math.pow(o,2)-4*q*p;if(!(0>r)){var s=(-o+Math.sqrt(r))/(2*p);s>0&&1>s&&(0==i&&this.addX(n(s)),1==i&&this.addY(n(s)));var t=(-o-Math.sqrt(r))/(2*p);t>0&&1>t&&(0==i&&this.addX(n(t)),1==i&&this.addY(n(t)))}}else{if(0==o)continue;var u=-q/o;u>0&&1>u&&(0==i&&this.addX(n(u)),1==i&&this.addY(n(u)))}}},this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2},this.addPoint(a,b),this.addPoint(c,d)},c.Transform=function(a){var b=this;this.Type={},this.Type.translate=function(a){this.p=c.CreatePoint(a),this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)},this.unapply=function(a){a.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(a){var b=c.ToNumberArray(a);this.angle=new c.Property("angle",b[0]),this.cx=b[1]||0,this.cy=b[2]||0,this.apply=function(a){a.translate(this.cx,this.cy),a.rotate(this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.unapply=function(a){a.translate(this.cx,this.cy),a.rotate(-1*this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.applyToPoint=function(a){var b=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),a.applyTransform([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0]),a.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(a){this.p=c.CreatePoint(a),this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(a){a.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(a){this.m=c.ToNumberArray(a),this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(a){var b=this.m[0],c=this.m[2],d=this.m[4],e=this.m[1],f=this.m[3],g=this.m[5],h=0,i=0,j=1,k=1/(b*(f*j-g*i)-c*(e*j-g*h)+d*(e*i-f*h));a.transform(k*(f*j-g*i),k*(g*h-e*j),k*(d*i-c*j),k*(b*j-d*h),k*(c*g-d*f),k*(d*e-b*g))},this.applyToPoint=function(a){a.applyTransform(this.m)}},this.Type.SkewBase=function(a){this.base=b.Type.matrix,this.base(a),this.angle=new c.Property("angle",a)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(a){this.base=b.Type.SkewBase,this.base(a),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(a){this.base=b.Type.SkewBase,this.base(a),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].apply(a)},this.unapply=function(a){for(var b=this.transforms.length-1;b>=0;b--)this.transforms[b].unapply(a)},this.applyToPoint=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].applyToPoint(a)};for(var d=c.trim(c.compressSpaces(a)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),e=0;e<d.length;e++){var f=c.trim(d[e].split("(")[0]),g=d[e].split("(")[1].replace(")",""),h=new this.Type[f](g);h.type=f,this.transforms.push(h)}},c.AspectRatio=function(a,b,d,e,f,g,h,i,j,k){b=c.compressSpaces(b),b=b.replace(/^defer\s/,"");var l=b.split(" ")[0]||"xMidYMid",m=b.split(" ")[1]||"meet",n=d/e,o=f/g,p=Math.min(n,o),q=Math.max(n,o);"meet"==m&&(e*=p,g*=p),"slice"==m&&(e*=q,g*=q),j=new c.Property("refX",j),k=new c.Property("refY",k),j.hasValue()&&k.hasValue()?a.translate(-p*j.toPixels("x"),-p*k.toPixels("y")):(l.match(/^xMid/)&&("meet"==m&&p==o||"slice"==m&&q==o)&&a.translate(d/2-e/2,0),l.match(/YMid$/)&&("meet"==m&&p==n||"slice"==m&&q==n)&&a.translate(0,f/2-g/2),l.match(/^xMax/)&&("meet"==m&&p==o||"slice"==m&&q==o)&&a.translate(d-e,0),l.match(/YMax$/)&&("meet"==m&&p==n||"slice"==m&&q==n)&&a.translate(0,f-g)),"none"==l?a.scale(n,o):"meet"==m?a.scale(p,p):"slice"==m&&a.scale(q,q),a.translate(null==h?0:-h,null==i?0:-i)},c.Element={},c.EmptyProperty=new c.Property("EMPTY",""),c.Element.ElementBase=function(a){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(a,b){var d=this.attributes[a];return null!=d?d:(1==b&&(d=new c.Property(a,""),this.attributes[a]=d),d||c.EmptyProperty)},this.getHrefAttribute=function(){for(var a in this.attributes)if("href"==a||a.match(/:href$/))return this.attributes[a];return c.EmptyProperty},this.style=function(a,b,d){var e=this.styles[a];if(null!=e)return e;var f=this.attribute(a);if(null!=f&&f.hasValue())return this.styles[a]=f,f;if(1!=d){var g=this.parent;if(null!=g){var h=g.style(a);if(null!=h&&h.hasValue())return h}}return 1==b&&(e=new c.Property(a,""),this.styles[a]=e),e||c.EmptyProperty},this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){
if(a.save(),this.style("mask").hasValue()){var b=this.style("mask").getDefinition();null!=b&&b.apply(a,this)}else if(this.style("filter").hasValue()){var c=this.style("filter").getDefinition();null!=c&&c.apply(a,this)}else this.setContext(a),this.renderChildren(a),this.clearContext(a);a.restore()}},this.setContext=function(a){},this.clearContext=function(a){},this.renderChildren=function(a){for(var b=0;b<this.children.length;b++)this.children[b].render(a)},this.addChild=function(a,b){var d=a;b&&(d=c.CreateElement(a)),d.parent=this,"title"!=d.type&&this.children.push(d)},this.addStylesFromStyleDefinition=function(){for(var d in c.Styles)if("@"!=d[0]&&b(a,d)){var e=c.Styles[d],f=c.StylesSpecificity[d];if(null!=e)for(var g in e){var h=this.stylesSpecificity[g];"undefined"==typeof h&&(h="000"),f>h&&(this.styles[g]=e[g],this.stylesSpecificity[g]=f)}}},null!=a&&1==a.nodeType){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];this.attributes[e.nodeName]=new c.Property(e.nodeName,e.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var f=this.attribute("style").value.split(";"),d=0;d<f.length;d++)if(""!=c.trim(f[d])){var g=f[d].split(":"),h=c.trim(g[0]),i=c.trim(g[1]);this.styles[h]=new c.Property(h,i)}this.attribute("id").hasValue()&&null==c.Definitions[this.attribute("id").value]&&(c.Definitions[this.attribute("id").value]=this);for(var d=0;d<a.childNodes.length;d++){var j=a.childNodes[d];if(1==j.nodeType&&this.addChild(j,!0),this.captureTextNodes&&(3==j.nodeType||4==j.nodeType)){var k=j.value||j.text||j.textContent||"";""!=c.compressSpaces(k)&&this.addChild(new c.Element.tspan(j),!1)}}}},c.Element.RenderedElementBase=function(a){this.base=c.Element.ElementBase,this.base(a),this.setContext=function(a){if(a.fillStyle=c.opts.col||"red",a.strokeStyle=c.opts.col||"blue",this.style("stroke-width").hasValue()){var b=this.style("stroke-width").toPixels();a.lineWidth=0==b?.001:b}if(this.style("stroke-linecap").hasValue()&&(a.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var d=c.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof a.setLineDash?a.setLineDash(d):"undefined"!=typeof a.webkitLineDash?a.webkitLineDash=d:"undefined"==typeof a.mozDash||1==d.length&&0==d[0]||(a.mozDash=d);var e=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof a.lineDashOffset?a.lineDashOffset=e:"undefined"!=typeof a.webkitLineDashOffset?a.webkitLineDashOffset=e:"undefined"!=typeof a.mozDashOffset&&(a.mozDashOffset=e)}if(this.style("transform",!1,!0).hasValue()){var f=new c.Transform(this.style("transform",!1,!0).value);f.apply(a)}if(this.style("clip-path",!1,!0).hasValue()){var g=this.style("clip-path",!1,!0).getDefinition();null!=g&&g.apply(a)}}},c.Element.RenderedElementBase.prototype=new c.Element.ElementBase,c.Element.PathElementBase=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.path=function(a){return null!=a&&a.beginPath(),new c.BoundingBox},this.renderChildren=function(a){this.path(a),""!=a.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?a.fill(this.style("fill-rule").value):a.fill()),""!=a.strokeStyle&&a.stroke()},this.getBoundingBox=function(){return this.path()}},c.Element.PathElementBase.prototype=new c.Element.RenderedElementBase,c.Element.svg=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.baseClearContext=this.clearContext,this.clearContext=function(a){this.baseClearContext(a),c.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,"undefined"!=typeof a.font&&"undefined"!=typeof window.getComputedStyle&&(a.font=window.getComputedStyle(a.canvas).getPropertyValue("font")),this.baseSetContext(a),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var b=c.ViewPort.width(),d=c.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){b=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y");var e=0,f=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(e=-this.attribute("refX").toPixels("x"),f=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(a.beginPath(),a.moveTo(e,f),a.lineTo(b,f),a.lineTo(b,d),a.lineTo(e,d),a.closePath(),a.clip())}if(c.ViewPort.SetCurrent(b,d),this.attribute("viewBox").hasValue()){var g=c.ToNumberArray(this.attribute("viewBox").value),h=g[0],i=g[1];b=g[2],d=g[3],c.AspectRatio(a,this.attribute("preserveAspectRatio").value,c.ViewPort.width(),b,c.ViewPort.height(),d,h,i,this.attribute("refX").value,this.attribute("refY").value),c.ViewPort.RemoveCurrent(),c.ViewPort.SetCurrent(g[2],g[3])}}},c.Element.svg.prototype=new c.Element.RenderedElementBase,c.Element.rect=function(a){this.base=c.Element.PathElementBase,this.base(a),this.path=function(a){var b=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),e=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y"),g=this.attribute("rx").toPixels("x"),h=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(h=g),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(g=h),g=Math.min(g,e/2),h=Math.min(h,f/2),null!=a&&(a.beginPath(),a.moveTo(b+g,d),a.lineTo(b+e-g,d),a.quadraticCurveTo(b+e,d,b+e,d+h),a.lineTo(b+e,d+f-h),a.quadraticCurveTo(b+e,d+f,b+e-g,d+f),a.lineTo(b+g,d+f),a.quadraticCurveTo(b,d+f,b,d+f-h),a.lineTo(b,d+h),a.quadraticCurveTo(b,d,b+g,d),a.closePath()),new c.BoundingBox(b,d,b+e,d+f)}},c.Element.rect.prototype=new c.Element.PathElementBase,c.Element.circle=function(a){this.base=c.Element.PathElementBase,this.base(a),this.path=function(a){var b=this.attribute("cx").toPixels("x"),d=this.attribute("cy").toPixels("y"),e=this.attribute("r").toPixels();return null!=a&&(a.beginPath(),a.arc(b,d,e,0,2*Math.PI,!0),a.closePath()),new c.BoundingBox(b-e,d-e,b+e,d+e)}},c.Element.circle.prototype=new c.Element.PathElementBase,c.Element.ellipse=function(a){this.base=c.Element.PathElementBase,this.base(a),this.path=function(a){var b=4*((Math.sqrt(2)-1)/3),d=this.attribute("rx").toPixels("x"),e=this.attribute("ry").toPixels("y"),f=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y");return null!=a&&(a.beginPath(),a.moveTo(f,g-e),a.bezierCurveTo(f+b*d,g-e,f+d,g-b*e,f+d,g),a.bezierCurveTo(f+d,g+b*e,f+b*d,g+e,f,g+e),a.bezierCurveTo(f-b*d,g+e,f-d,g+b*e,f-d,g),a.bezierCurveTo(f-d,g-b*e,f-b*d,g-e,f,g-e),a.closePath()),new c.BoundingBox(f-d,g-e,f+d,g+e)}},c.Element.ellipse.prototype=new c.Element.PathElementBase,c.Element.line=function(a){this.base=c.Element.PathElementBase,this.base(a),this.getPoints=function(){return[new c.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new c.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(a){var b=this.getPoints();return null!=a&&(a.beginPath(),a.moveTo(b[0].x,b[0].y),a.lineTo(b[1].x,b[1].y)),new c.BoundingBox(b[0].x,b[0].y,b[1].x,b[1].y)}},c.Element.line.prototype=new c.Element.PathElementBase,c.Element.polyline=function(a){this.base=c.Element.PathElementBase,this.base(a),this.points=c.CreatePath(this.attribute("points").value),this.path=function(a){var b=new c.BoundingBox(this.points[0].x,this.points[0].y);null!=a&&(a.beginPath(),a.moveTo(this.points[0].x,this.points[0].y));for(var d=1;d<this.points.length;d++)b.addPoint(this.points[d].x,this.points[d].y),null!=a&&a.lineTo(this.points[d].x,this.points[d].y);return b}},c.Element.polyline.prototype=new c.Element.PathElementBase,c.Element.polygon=function(a){this.base=c.Element.polyline,this.base(a),this.basePath=this.path,this.path=function(a){var b=this.basePath(a);return null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath()),b}},c.Element.polygon.prototype=new c.Element.polyline,c.Element.path=function(a){this.base=c.Element.PathElementBase,this.base(a);var b=this.attribute("d").value;b=b.replace(/,/gm," ");for(var d=0;2>d;d++)b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");b=b.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([0-9])([+\-])/gm,"$1 $2");for(var d=0;2>d;d++)b=b.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");b=b.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),b=c.compressSpaces(b),b=c.trim(b),this.PathParser=new function(a){this.tokens=a.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new c.Point(0,0),this.control=new c.Point(0,0),this.current=new c.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var a=new c.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)},this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a,a},this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a,a},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var a=new c.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return a},this.makeAbsolute=function(a){return this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y),a},this.addMarker=function(a,b,c){null!=c&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(c)),this.addMarkerAngle(a,null==b?null:b.angleTo(a))},this.addMarkerAngle=function(a,b){this.points.push(a),this.angles.push(b)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(b),this.path=function(a){var b=this.PathParser;b.reset();var d=new c.BoundingBox;for(null!=a&&a.beginPath();!b.isEnd();)switch(b.nextCommand(),b.command){case"M":case"m":var e=b.getAsCurrentPoint();for(b.addMarker(e),d.addPoint(e.x,e.y),null!=a&&a.moveTo(e.x,e.y),b.start=b.current;!b.isCommandOrEnd();){var e=b.getAsCurrentPoint();b.addMarker(e,b.start),d.addPoint(e.x,e.y),null!=a&&a.lineTo(e.x,e.y)}break;case"L":case"l":for(;!b.isCommandOrEnd();){var f=b.current,e=b.getAsCurrentPoint();b.addMarker(e,f),d.addPoint(e.x,e.y),null!=a&&a.lineTo(e.x,e.y)}break;case"H":case"h":for(;!b.isCommandOrEnd();){var g=new c.Point((b.isRelativeCommand()?b.current.x:0)+b.getScalar(),b.current.y);b.addMarker(g,b.current),b.current=g,d.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y)}break;case"V":case"v":for(;!b.isCommandOrEnd();){var g=new c.Point(b.current.x,(b.isRelativeCommand()?b.current.y:0)+b.getScalar());b.addMarker(g,b.current),b.current=g,d.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y)}break;case"C":case"c":for(;!b.isCommandOrEnd();){var h=b.current,i=b.getPoint(),j=b.getAsControlPoint(),k=b.getAsCurrentPoint();b.addMarker(k,j,i),d.addBezierCurve(h.x,h.y,i.x,i.y,j.x,j.y,k.x,k.y),null!=a&&a.bezierCurveTo(i.x,i.y,j.x,j.y,k.x,k.y)}break;case"S":case"s":for(;!b.isCommandOrEnd();){var h=b.current,i=b.getReflectedControlPoint(),j=b.getAsControlPoint(),k=b.getAsCurrentPoint();b.addMarker(k,j,i),d.addBezierCurve(h.x,h.y,i.x,i.y,j.x,j.y,k.x,k.y),null!=a&&a.bezierCurveTo(i.x,i.y,j.x,j.y,k.x,k.y)}break;case"Q":case"q":for(;!b.isCommandOrEnd();){var h=b.current,j=b.getAsControlPoint(),k=b.getAsCurrentPoint();b.addMarker(k,j,j),d.addQuadraticCurve(h.x,h.y,j.x,j.y,k.x,k.y),null!=a&&a.quadraticCurveTo(j.x,j.y,k.x,k.y)}break;case"T":case"t":for(;!b.isCommandOrEnd();){var h=b.current,j=b.getReflectedControlPoint();b.control=j;var k=b.getAsCurrentPoint();b.addMarker(k,j,j),d.addQuadraticCurve(h.x,h.y,j.x,j.y,k.x,k.y),null!=a&&a.quadraticCurveTo(j.x,j.y,k.x,k.y)}break;case"A":case"a":for(;!b.isCommandOrEnd();){var h=b.current,l=b.getScalar(),m=b.getScalar(),n=b.getScalar()*(Math.PI/180),o=b.getScalar(),p=b.getScalar(),k=b.getAsCurrentPoint(),q=new c.Point(Math.cos(n)*(h.x-k.x)/2+Math.sin(n)*(h.y-k.y)/2,-Math.sin(n)*(h.x-k.x)/2+Math.cos(n)*(h.y-k.y)/2),r=Math.pow(q.x,2)/Math.pow(l,2)+Math.pow(q.y,2)/Math.pow(m,2);r>1&&(l*=Math.sqrt(r),m*=Math.sqrt(r));var s=(o==p?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(m,2)-Math.pow(l,2)*Math.pow(q.y,2)-Math.pow(m,2)*Math.pow(q.x,2))/(Math.pow(l,2)*Math.pow(q.y,2)+Math.pow(m,2)*Math.pow(q.x,2)));isNaN(s)&&(s=0);var t=new c.Point(s*l*q.y/m,s*-m*q.x/l),u=new c.Point((h.x+k.x)/2+Math.cos(n)*t.x-Math.sin(n)*t.y,(h.y+k.y)/2+Math.sin(n)*t.x+Math.cos(n)*t.y),v=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},w=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(v(a)*v(b))},x=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(w(a,b))},y=x([1,0],[(q.x-t.x)/l,(q.y-t.y)/m]),z=[(q.x-t.x)/l,(q.y-t.y)/m],A=[(-q.x-t.x)/l,(-q.y-t.y)/m],B=x(z,A);w(z,A)<=-1&&(B=Math.PI),w(z,A)>=1&&(B=0);var C=1-p?1:-1,D=y+C*(B/2),E=new c.Point(u.x+l*Math.cos(D),u.y+m*Math.sin(D));if(b.addMarkerAngle(E,D-C*Math.PI/2),b.addMarkerAngle(k,D-C*Math.PI),d.addPoint(k.x,k.y),null!=a){var w=l>m?l:m,F=l>m?1:l/m,G=l>m?m/l:1;a.translate(u.x,u.y),a.rotate(n),a.scale(F,G),a.arc(0,0,w,y,y+B,1-p),a.scale(1/F,1/G),a.rotate(-n),a.translate(-u.x,-u.y)}}break;case"Z":case"z":null!=a&&a.closePath(),b.current=b.start}return d}},c.Element.path.prototype=new c.Element.PathElementBase,c.Element.defs=function(a){this.base=c.Element.ElementBase,this.base(a),this.render=function(a){}},c.Element.defs.prototype=new c.Element.ElementBase,c.Element.image=function(a){},c.Element.image.prototype=new c.Element.RenderedElementBase,c.Element.g=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.getBoundingBox=function(){for(var a=new c.BoundingBox,b=0;b<this.children.length;b++)a.addBoundingBox(this.children[b].getBoundingBox());return a}},c.Element.g.prototype=new c.Element.RenderedElementBase,c.Element.symbol=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.render=function(a){}},c.Element.symbol.prototype=new c.Element.RenderedElementBase,c.Element.use=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};var b=this.getHrefAttribute().getDefinition();this.path=function(a){null!=b&&b.path(a)},this.getBoundingBox=function(){return null!=b?b.getBoundingBox():void 0},this.renderChildren=function(a){if(null!=b){var d=b;"symbol"==b.type&&(d=new c.Element.svg,d.type="svg",d.attributes.viewBox=new c.Property("viewBox",b.attribute("viewBox").value),d.attributes.preserveAspectRatio=new c.Property("preserveAspectRatio",b.attribute("preserveAspectRatio").value),d.attributes.overflow=new c.Property("overflow",b.attribute("overflow").value),d.children=b.children),"svg"==d.type&&(this.attribute("width").hasValue()&&(d.attributes.width=new c.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(d.attributes.height=new c.Property("height",this.attribute("height").value)));var e=d.parent;d.parent=null,d.render(a),d.parent=e}}},c.Element.use.prototype=new c.Element.RenderedElementBase,c.Element.mask=function(a){this.base=c.Element.ElementBase,this.base(a),this.apply=function(a,b){var d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");if(0==f&&0==g){for(var h=new c.BoundingBox,i=0;i<this.children.length;i++)h.addBoundingBox(this.children[i].getBoundingBox());var d=Math.floor(h.x1),e=Math.floor(h.y1),f=Math.floor(h.width()),g=Math.floor(h.height())}var j=b.attribute("mask").value;b.attribute("mask").value="";var k=document.createElement("canvas");k.width=d+f,k.height=e+g;var l=k.getContext("2d");this.renderChildren(l);var m=document.createElement("canvas");m.width=d+f,m.height=e+g;var n=m.getContext("2d");b.render(n),n.globalCompositeOperation="destination-in",m.width>0&&(n.fillStyle=l.createPattern(k,"no-repeat"),n.fillRect(0,0,d+f,e+g),a.fillStyle=n.createPattern(m,"no-repeat"),a.fillRect(0,0,d+f,e+g)),b.attribute("mask").value=j},this.render=function(a){}},c.Element.mask.prototype=new c.Element.ElementBase,c.Element.clipPath=function(a){this.base=c.Element.ElementBase,this.base(a),this.apply=function(a){var b=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var d=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},b.call(a);for(var e=0;e<this.children.length;e++){var f=this.children[e];if("undefined"!=typeof f.path){var g=null;f.style("transform",!1,!0).hasValue()&&(g=new c.Transform(f.style("transform",!1,!0).value),g.apply(a)),f.path(a),CanvasRenderingContext2D.prototype.closePath=d,g&&g.unapply(a)}}d.call(a),a.clip(),CanvasRenderingContext2D.prototype.beginPath=b,CanvasRenderingContext2D.prototype.closePath=d},this.render=function(a){}},c.Element.clipPath.prototype=new c.Element.ElementBase,c.Element.MISSING=function(a){c.log("zilent fail - node not supported (REMOVE)"+a+"z")},c.Element.MISSING.prototype=new c.Element.ElementBase,c.CreateElement=function(a){var b=a.nodeName.replace(/^[^:]+:/,"");b=b.replace(/\-/g,"");var d=null;return d="undefined"!=typeof c.Element[b]?new c.Element[b](a):new c.Element.MISSING(a),d.type=a.nodeName,d},c.loadXml=function(a,b){c.loadXmlDoc(a,c.parseXml(b))},c.loadXmlDoc=function(a,b){c.init(a);var d=c.CreateElement(b.documentElement);d.root=!0,d.addStylesFromStyleDefinition();var e=!0,f=function(){c.ViewPort.Clear(),a.canvas.parentNode&&c.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight),1!=c.opts.ignoreDimensions&&(d.style("width").hasValue()&&(a.canvas.width=d.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),d.style("height").hasValue()&&(a.canvas.height=d.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var f=a.canvas.clientWidth||a.canvas.width,g=a.canvas.clientHeight||a.canvas.height;if(1==c.opts.ignoreDimensions&&d.style("width").hasValue()&&d.style("height").hasValue()&&(f=d.style("width").toPixels("x"),g=d.style("height").toPixels("y")),c.ViewPort.SetCurrent(f,g),null!=c.opts.offsetX&&(d.attribute("x",!0).value=c.opts.offsetX),null!=c.opts.offsetY&&(d.attribute("y",!0).value=c.opts.offsetY),null!=c.opts.scaleWidth||null!=c.opts.scaleHeight){var h=null,i=null,j=c.ToNumberArray(d.attribute("viewBox").value);null!=c.opts.scaleWidth&&(d.attribute("width").hasValue()?h=d.attribute("width").toPixels("x")/c.opts.scaleWidth:isNaN(j[2])||(h=j[2]/c.opts.scaleWidth)),null!=c.opts.scaleHeight&&(d.attribute("height").hasValue()?i=d.attribute("height").toPixels("y")/c.opts.scaleHeight:isNaN(j[3])||(i=j[3]/c.opts.scaleHeight)),null==h&&(h=i),null==i&&(i=h),d.attribute("width",!0).value=c.opts.scaleWidth,d.attribute("height",!0).value=c.opts.scaleHeight,d.style("transform",!0,!0).value+=" scale("+1/h+","+1/i+")"}1!=c.opts.ignoreClear&&a.clearRect(0,0,f,g),d.render(a),e&&(e=!1,"function"==typeof c.opts.renderCallback&&c.opts.renderCallback(b))};f()},c.stop=function(){},c}window.slimCanvg=function(b,c,d){c=c.trim(),"string"==typeof b&&(b=document.getElementById(b)),null!=b.svg&&b.svg.stop();var e=a(d||{});1==b.childNodes.length&&"OBJECT"==b.childNodes[0].nodeName||(b.svg=e);var f=b.getContext("2d");"undefined"!=typeof c.documentElement?e.loadXmlDoc(f,c):"<"==c.substr(0,1)&&e.loadXml(f,c)};var b;"undefined"!=typeof Element.prototype.matches?b=function(a,b){return a.matches(b)}:"undefined"!=typeof Element.prototype.webkitMatchesSelector?b=function(a,b){return a.webkitMatchesSelector(b)}:"undefined"!=typeof Element.prototype.mozMatchesSelector?b=function(a,b){return a.mozMatchesSelector(b)}:"undefined"!=typeof Element.prototype.msMatchesSelector?b=function(a,b){return a.msMatchesSelector(b)}:"undefined"!=typeof Element.prototype.oMatchesSelector&&(b=function(a,b){return a.oMatchesSelector(b)})}(),define("slim-canvg",function(a){return function(){var b;return b||a.slimCanvg}}(this)),define("models/presentation/helpers/collisionUtils",["require","lodash","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),0),d=1,e=2,f=3,g={collisionAabb:function(a,b){return a[c]<b[c]+b[e]&&a[c]+a[e]>b[c]&&a[d]<b[d]+b[f]&&a[f]+a[d]>b[d]},applyTweenTransform:function(a,c){a.tweenedConfig&&b.extend(c,a.tweenedConfig.props)},getBoundingBox:function(a,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u=a.collision.transform||{},v=a.currView,w=[],x=[],y=4,z=v.props.model.getCurrentStateMetrics(),A=z.strokewidth;if(null!=z.mask?(q=z.xPos,r=z.yPos,s=t=0):(q=r=-A/2,s=t=A),u.RawXPos=v.state.RawXPos,u.RawYPos=v.state.RawYPos,u.Rotation=v.state.Rotation,u.rotateXPos=v.state.rotateXPos,u.rotateYPos=v.state.rotateYPos,u.ScaleX=v.state.ScaleX,u.ScaleY=v.state.ScaleY,u.width=v.actualWidth,u.height=v.actualHeight,g)for(p in g)g.hasOwnProperty(p)&&(u[p]=g[p]);if(this.applyTweenTransform(v,u),u.ScaleX/=100,u.ScaleY/=100,v.props.parent){for(x=[],o=v;o;)o.props.isInnard||x.push(o),o=o.props.parent;x.reverse(),n=a.collision.transMatrix.reset(),x.forEach(function(a){var c,d=a.props.model.collision;if(null==d||null==d.transform?(c=b.pick(a.state,["RawXPos","RawYPos","Rotation","ScaleX","ScaleY","rotateXPos","rotateYPos","height","width"]),c.ScaleX/=100,c.ScaleY/=100):c=d.transform,a===v&&null!=g)for(p in g)g.hasOwnProperty(p)&&(c[p]=g[p],"ScaleX"!==p&&"ScaleY"!==p||(c[p]/=100));n.adjustByViewProps(c)}),a.collision.hasMatrix=!0,w[c]=n.transform(q,r),w[d]=n.transform(u.width+s,r),w[e]=n.transform(u.width+s,u.height+t),w[f]=n.transform(q,u.height+t)}else u.Rotation%360===0&&1===u.ScaleX&&1===u.ScaleY||(n=a.collision.transMatrix.reset(),n.adjustByViewProps(u),a.collision.hasMatrix=!0,w[c]=n.transform(q,r),w[d]=n.transform(u.width+s,r),w[e]=n.transform(u.width+s,u.height+t),w[f]=n.transform(q,u.height+t));if(0===w.length)return a.collision.hasMatrix=!1,a.collision.tx=u.RawXPos,a.collision.ty=u.RawYPos,[u.RawXPos+q,u.RawYPos+r,v.actualWidth+s,v.actualHeight+t];for(h=i=w[0].x,j=k=w[0].y,p=y;p--;)l=w[p].x,m=w[p].y,i>l&&(i=l),k>m&&(k=m),l>h&&(h=l),m>j&&(j=m);return[i,k,h-i,j-k]}};return g}),define("views/helpers/collisionHelper",["require","lodash","views/helpers/dom","views/helpers/bitmaskHelper","helpers/utils","helpers/resolver","slim-canvg","polyfills/detection","models/presentation/helpers/collisionUtils","helpers/pubSub","helpers/TransMatrix"],function(a){"use strict";var b,c,d,e=a("lodash"),f=a("views/helpers/dom"),g=a("views/helpers/bitmaskHelper"),h=a("helpers/utils"),i=a("helpers/resolver"),j=a("slim-canvg"),k=a("polyfills/detection"),l=a("models/presentation/helpers/collisionUtils"),m=a("helpers/pubSub"),n=a("helpers/TransMatrix"),o="svgHit",p="rectHit",q="groupHit",r="collide",s="start",t="end",u=30,v="data:image/svg+xml;base64, ",w=4,x=3,y=128,z=10,A=2*z,B={},C=[],D={},E=!1,F=0,G={},H=function(){d=document.querySelector("#collision-library"),d&&(b=d.querySelector("canvas"),c=b.getContext("2d"),c.imageSmoothingEnabled=!1,b.width=720,b.height=540,d.appendChild(b),E=!0)},I=function(a){return v+window.btoa(window.unescape(encodeURIComponent(J(a))))},J=function(a){return a.replace(/\&nbsp\;/g," ")},K={initialize:function(){m.on("app:complete",function(){H()}),m.on("slide:hasMounted",function(a){var c=e.get(a,"props.model");null==c||a.props.isMessageWindow||(b.width=c.get("width"),b.height=c.get("height"))})},initSlideObject:function(a){this.addCollisionProp(a),a.isVectorShape()?(a.collision.img=a.collision.img||{},a.collision.canvas=a.collision.canvas||{},a.collision.ctx=a.collision.ctx||{},a.collision.hitType=o):a.isGroupingSlideObject?a.collision.hitType=q:a.collision.hitType=p},sanitizeSvgForCollision:function(a,b){var c=b||"#ffff00",d=a.replace(/<image(.*?)image>/g,'<rect fill="'+c+'"$1rect>').replace(/xlink\:href="(.*?)"/g,"").replace(/&nbsp;/g," ").replace(/fill="(.*?)"/g,'fill="'+c+'"').replace(/stroke="(.*?)"/g,'stroke="'+c+'"').replace(/data-reactid="(.*?)"/g,"").replace(/stroke-opacity="(.*?)"/g,'stroke-opacity="1"').replace(/fill-opacity="(.*?)"/g,'fill-opacity="1"');return d},addCollisionProp:function(a){a.collision||(a.collision={})},registerCollisions:function(a){var b,c,d=a.props.model;d.hasCollisionEvents===!1||d.cacheCollisionSetup||(b=this.getCollisionEvents(d),c=this.getStageCollisionEvents(d),b.length>0&&(this.addCollisionProp(d),d.hasCollisionEvents=!0,this.setupCollideables(d,b)),c.length>0&&(this.addCollisionProp(d),d.hasCollisionEvents=!0,this.setupStageCollisions(d)),null!=d.initForCollisions?d.initForCollisions():m.once("slide:hasMounted",function(){null!=d.initForCollisions&&d.initForCollisions()}.bind(this)))},setCollisionStartEventVals:function(a,b){b.length>0?(a.hasCollisionEvents=!0,a.cacheCollisionSetup=!0):a.hasCollisionEvents=a.hasCollisionEvents||!1},getStageCollisionEvents:function(a){var b=e(a.events()).filter(function(a){return"ononscreen"===a.kind||"onoffscreen"===a.kind}).value();return this.setCollisionStartEventVals(a,b),b},getCollisionEvents:function(a){var b=e(a.events()).filter(function(a){return"oncollisionstart"===a.kind||"oncollisionend"===a.kind}).value();return this.setCollisionStartEventVals(a,b),b},initForCollisions:function(a,b){b&&(a.collisionParents||(a.collisionParents=[]),e.contains(a.collisionParents,b)||a.collisionParents.push(b)),a.initForCollisions=function(a){K.addCollisionProp(this),this.isCollideable=!0,this.collision.transform=this.collision.transform||{rotateXPos:this.prop("rotateXPos"),rotateYPos:this.prop("rotateYPos")},this.collision.transMatrix=this.collision.transMatrix||new n,l.getBoundingBox(this),this.collision.fill=this.collision.fill||"#ff0000",K.initSlideObject(this),K.calculateHitTest(this,a)}},setupCollideables:function(a,b){this.initForCollisions(a),a.collision.objects=e(b).chain().reduce(function(a,b,c){return a=a.concat(b.targets)},[]).unique().map(function(b){var c=i.resolvePath(b,a);return c.collisionPath=b,this.initForCollisions(c,a),null!=c.currView?c.initForCollisions():m.once("slide:hasMounted",function(){c.initForCollisions()}.bind(this)),c}.bind(this)).value()},setupStageCollisions:function(a){a.initForCollisions||this.initForCollisions(a),a.collision.checkStage=!0},executeCollisionEvent:function(a,b,c){a.executeFilteredPlayerEvent(function(a){return e.contains(a.targets,b)},c),a.collision.executionParent&&a.collision.executionParent.executeFilteredPlayerEvent(function(a){return e.contains(a.targets,b)},c)},hitTestStage:function(a,c){var d=c.props.model,e=[0,0,b.width,b.height],f=d.id+"_stage";G[f]===s&&(G[f]="collide"),l.collisionAabb(a,e)?"collide"!==G[f]&&(d.executePlayerEvent("ononscreen"),G[f]=s):"collide"===G[f]&&(d.executePlayerEvent("onoffscreen"),G[f]=t)},hitTestAtoB:function(a,b,c,d){var f,g,h,i,j,k,m,n,o,p,q,u,v={},w=b.props.model,x=null!=b.state.OnStage?b.state.OnStage:b.state.isVisible,y=!1,z=[],A=w.collision.objects;for(f=A.length,m=0;f>m;m++){q=A[m],o=q.isGroupingSlideObject?q.currView.allRefs.slice():[q],p=o.length;for(var B=0;p>B;B++)g=o[B],h=g.currView,n=null!=h.state.OnStage?h.state.OnStage:h.state.isVisible,i=l.getBoundingBox(g,g.collision.transform),j=(null!=d?d.id:b.props.model.id)+"_"+q.id,l.collisionAabb(a,i)&&x&&n?z.push({view:h,relationKey:j,model:q}):G[j]!==r&&G[j]!==s||b.isLast===!1||B!==p-1||(this.executeCollisionEvent(b.props.model,q.collisionPath,"oncollisionend"),G[j]=t)}for(f=z.length,m=0;f>m;m++)k=z[m],h=k.view,g=k.model,u=k.relationKey,v[u]!==!0&&(y=this.pixelTest(b,h,a,{view:b,model:g,relationKey:u}),v[u]=y);return e.contains(e.values(v),!0)},hitTestBtoA:function(a,b,c,d){var f,g,h,i,j,k,m,n,o,p,q,u,v={},w=b.props.model,x=!1,y=[],z=w.collisionParents,A=null!=b.state.OnStage?b.state.OnStage:b.state.isVisible;for(f=z.length,k=0;f>k;k++){p=z[k],o=p.isGroupingSlideObject?p.currView.allRefs.slice():[p],n=o.length;for(var B=0;n>B;B++)g=o[B],h=g.currView,m=null!=h.state.OnStage?h.state.OnStage:h.state.isVisible,i=l.getBoundingBox(g,g.collision.transform),j=p.id+"_"+(null!=d?d.id:b.props.model.id),l.collisionAabb(a,i)&&A&&m?(g.collision.executionParent=p,y.push({view:h,relationKey:j})):G[j]!==r&&G[j]!==s||b.isLast===!1||B!==n-1||(this.executeCollisionEvent(p,null!=d?d.collisionPath:w.collisionPath,"oncollisionend"),G[j]=t)}for(f=y.length,k=0;f>k;k++)q=y[k],h=q.view,u=q.relationKey,v[u]!==!0&&(x=this.pixelTest(b,h,a,{view:h,model:b.props.model,relationKey:u}),v[u]=x);return e.contains(e.values(v),!0)},getPixels:function(a,b,d,e,f){var g,h,i,j,k,m,n;for(e[0]-=z,e[1]-=z,e[2]+=A,e[3]+=A,e=e.map(function(a){return parseInt(a)}),c.clearRect(e[0],e[1],e[2],e[3]),c.globalAlpha=.5,this.drawToCtx(c,b),k=d.length,j=0;k>j;j++)null==m&&(m=l.getBoundingBox(b.props.model)),n=l.getBoundingBox(d[j].props.model),l.collisionAabb(m,n)&&this.drawToCtx(c,d[j],!0);this.drawToCtx(c,a),g=c.getImageData(e[0],e[1],e[2],e[3]).data,h=g.length;for(var o=x;h>o&&i!==!1;o+=w)i=f(g[o])},drawToCtx:function(a,b,d){var e,f,g;a.save(),d&&(c.globalAlpha=1,c.globalCompositeOperation="destination-out");var h=b.props.model.getCurrentStateMetrics(),i=null!=h.mask?h.xPos:-h.strokewidth,j=null!=h.mask?h.yPos:-h.strokewidth;b.props.model.collision.hasMatrix?(g=b.props.model.collision.transMatrix,a.transform(g.a,g.c,g.b,g.d,g.tx,g.ty)):(e=b.props.model.collision.tx,f=b.props.model.collision.ty,a.translate(e,f)),a.translate(i,j),a.drawImage(b.props.model.collision.currImg,0,0),a.restore()},pixelTest:function(a,b,c,d){var e=!1,f=!1,g=d.relationKey,h=d.view.props.model.collision.executionParent||d.view.props.model,i=null!=d.model.collision.executionParent?d.model.collision.executionParent.collisionPath:d.model.collisionPath;return G[g]===s&&(G[g]="collide"),this.getPixels(a,b,[],c,function(a){return a>y?(f=!0,"collide"!==G[g]&&(G[g]=s,i=null!=d.model.collision.executionParent?d.model.collision.executionParent.collisionPath:d.model.collisionPath,this.executeCollisionEvent(h,i,"oncollisionstart")),e=!0,!1):void 0}.bind(this)),f||"collide"!==G[g]||(this.executeCollisionEvent(h,i,"oncollisionend"),G[g]=t,e=!0),e},performCollisionDetect:function(a,b,c){var d,e,f,g,h,i,j,k=!1,m=a.props.model;if(F++,F%2!==0||c===!0){if(d=l.getBoundingBox(m,b),m.isGroupingSlideObject){i=a.allRefs.filter(function(a){return a.currView.state.OnStage===!0}),j=i.length;for(var n=0;j>n&&(e=i[n],h=e.currView,g=l.getBoundingBox(e,e.collision.transform),e.collision.executionParent=m,m.collision.objects&&(h.isLast=n===j-1,f=e.collision.objects,e.collision.objects=m.collision.objects,k=this.hitTestAtoB(g,h,e.collision.transform,m),e.collision.objects=f),m.collisionParents&&(h.isLast=n===j-1,f=e.collisionParents,e.collisionParents=m.collisionParents,k=this.hitTestBtoA(g,h,e.collision.transform,m)||k,
e.collisionParents=f),e.collision.executionParent=void 0,k!==!0);n++);}else m.collision.objects&&this.hitTestAtoB(d,a,b),m.collisionParents&&this.hitTestBtoA(d,a,b);m.collision.checkStage&&this.hitTestStage(d,a)}},calculateHitTest:function(a,b){var c;a.collision.hitType===o?this.fromSvg(a.currView,b):a.collision.hitType===q?(c=a.currView.allRefs,c.forEach(function(a){a.hasCollisionEvents||(K.initSlideObject(a),K.calculateHitTest(a,b)),K.initForCollisions(a),a.initForCollisions(b)})):this.fromRect(a.currView)},containsPoint:function(a,b,c){var d=a.props.model,e=!1;return d.isGroupingSlideObject?(d.objects().forEach(function(a){K.viewContainsPoint(a.currView,b,c)&&(e=!0)}),e):this.viewContainsPoint(a,b,c)},viewContainsPoint:function(a,b,c){var d,e=a.props.model.collision,f=e.currCanvas,g=e.currCtx,h=e.currImg;g.globalCompositeOperation="source-over",g.clearRect(0,0,f.width,f.height),g.fillStyle="#000000",g.fillRect(0,0,f.width,f.height),g.drawImage(h,0,0),g.globalCompositeOperation="lighter",g.fillStyle="rgba(0,0,255,1)",g.fillRect(b,c,10,10);try{d=g.getImageData(b,c,1,1).data,d=d[0]}catch(i){d=0,console.warn("security error")}return 0!==d},getRotatedPixelBounds:function(a,b){var c,d,e,f,g,i,j,k,l,m,o,q,r,s,t,u,v,w,x,y=a.props.model,z=y.getCurrentStateMetrics(),A=new n;return null==y.collision&&(this.initSlideObject(y),this.calculateHitTest(y)),y.collision.hitType===p?(A.rotate(b,z.width/2,z.height/2),this.getTransformedBounds(z.yPos,z.height-z.yPos,z.xPos,z.width-z.xPos,A)):(o=y.collision,q=document.createElement("canvas"),r=q.getContext("2d"),s=z.strokewidth,t=s/2,u=z.width+s,v=z.height+s,w=o.currCanvas.width,x=o.currCanvas.height,A.rotate(b,u/2,v/2),c=this.getTransformedBounds(-s,z.height+s,-s,z.width+s,A),d=Math.ceil(c.right-c.left),e=Math.ceil(c.bottom-c.top),q.width=d,q.height=e,r.save(),r.translate(d/2,e/2),r.rotate(h.degToRad(b)),r.translate(-u/2,-v/2),r.drawImage(o.currImg,-(w-u)/2,-(x-v)/2),r.restore(),f=r.getImageData(0,0,d,e).data,g=this.findEdge(f,d,e,"top"),j=this.findEdge(f,d,e,"left"),i=this.findEdge(f,d,e,"bottom"),k=this.findEdge(f,d,e,"right"),l=-(d-u)/2,m=-(e-v)/2,{top:g+m-1,left:j+l-1,bottom:i+m+1,right:k+l+1})},getTransformedBounds:function(a,b,c,d,e){var f=e.transformPoint(c,a),g=e.transformPoint(d,a),h=e.transformPoint(c,b),i=e.transformPoint(d,b);return{top:Math.min(f.y,g.y,h.y,i.y),left:Math.min(f.x,g.x,h.x,i.x),bottom:Math.max(f.y,g.y,h.y,i.y),right:Math.max(f.x,g.x,h.x,i.x)}},findEdge:function(a,b,c,d){var e,f,g=-1;if("top"===d){for(f=0;c>f;f++)for(e=0;b>e;e++)if(0!==a[f*b*4+4*e+3])return f;return g}if("bottom"===d){for(f=c-1;f>=0;f--)for(e=0;b>e;e++)if(0!==a[f*b*4+4*e+3])return f;return g}if("left"===d){for(e=0;b>e;e++)for(f=0;c>f;f++)if(0!==a[f*b*4+4*e+3])return e;return g}if("right"===d){for(e=b-1;e>=0;e--)for(f=0;c>f;f++)if(0!==a[f*b*4+4*e+3])return e;return g}return g},fromRect:function(a){a.isRectangular=!0},getBitmaskHash:function(a){var b=a.getCurrentStateData(),c=b.html5data||{},d=c.mask||"",e=c.url||"",f=D[e];return null!=f?f:D[e]=h.generateHash(d)},fromSvg:function(a,b){var c,d,f,g=a.props.model,h=[g.getPathLib(),g.commandsetId(),this.getBitmaskHash(g)].join(""),i=g.collision;i.img[h]||(i.img[h]=new window.Image),c=i.img[h],i.canvas[h]||(i.canvas[h]=document.createElement("canvas")),d=i.canvas[h],i.ctx[h]||(i.ctx[h]=d.getContext("2d")),f=i.ctx[h],e.extend(i,{currImg:c,currCanvas:d,currCtx:f}),this.drawSvgStringToImage(a,h,i,b)},cleanHitCache:function(){var a=C[0];C.length>u&&(B[a].img.parentNode||(C.shift(),delete B[a]))},drawSvgStringToImage:function(a,b,c,f){var h,i,l,m,n=c.currImg,o=c.currCanvas,p=c.currCtx,q=a.props.model;this.cleanHitCache(),B[b]?(c.imgLoaded=!0,e.extend(c,{currImg:B[b].img,currCanvas:B[b].canvas,currCtx:B[b].ctx}),d.appendChild(c.currImg),d.appendChild(c.currCanvas)):(h=q.getCurrentStateData(),i=h.html5data||{},l=a.find("svg"),m=l.parentNode.innerHTML,o.width=l.getAttribute("width"),o.height=l.getAttribute("height"),d||(d=document.querySelector("#collision-library")),d.appendChild(n),d.appendChild(o),null!=i.mask?(n=c.currImg=c.img[b]=g.buildImage(i.mask,i.width,i.height),c.imgLoaded=!0):k.isIE()||f?(n=c.currImg=c.img[b]=document.createElement("canvas"),j(n,this.sanitizeSvgForCollision(m),{col:q.collision.fill||"#ff0000"}),c.imgLoaded=!0):(n.src=I(this.sanitizeSvgForCollision(m,q.collision.fill)),n.addEventListener("load",function(){c.imgLoaded=!0}.bind(this))),B[b]={canvas:o,img:n,ctx:p},C.push(b))},slideObjectMouseLoc:function(a,b,c,d,e){var g,i,j,k,l,m,o,p=null!=b?b:f.mouseX,q=null!=c?c:f.mouseY,r=a.props.parent,s=a.state,t=s.Rotation%360,u={x:0,y:0},v=document.querySelector(".slide"),w=p,x=q;if(d||(m=v.getBoundingClientRect(),w=p-m.left,x=q-m.top),o=e?1:a.props.model.getSlide().calculateTotalScale(),r){for(g=[],i=a;i;)i.props.isInnard||g.push(i),i=i.props.parent;g.reverse(),j=new n,g.forEach(function(a){var b=a.state;j.translate(b.RawXPos/o,b.RawYPos/o).rotate(b.Rotation,b.rotateXPos/o,b.rotateYPos/o)}),k=j.transform(0,0),l=-j.decompose().rotation,u=h.rotatePoint(w-k.x,x-k.y,0,0,l)}else u.x=w-s.RawXPos/o,u.y=x-s.RawYPos/o,t&&(u=h.rotatePoint(u.x,u.y,s.rotateXPos/o,s.rotateYPos/o,-s.Rotation));return u.x=Math.floor(u.x),u.y=Math.floor(u.y),u},ensureHasImage:function(a,b){var c,d,f,g,h=a.props.model;null==e.get(h,"collision.currImg.src")&&(h.collision.hitType===o?this.fromSvg(a,b):h.collision.hitType!==q&&h.collision.hitType!==p||(f=h.prop("width"),g=h.prop("height"),c=document.createElement("canvas"),e.extend(c,{width:f,height:g}),d=c.getContext("2d"),h.collision.hitType===q?(h.objects().forEach(function(a){K.ensureHasImage(a.currView,b),d.drawImage(a.collision.currImg,a.prop("RawXPos"),a.prop("RawYPos"))}),h.collision.currImg=c):h.collision.hitType===p&&(d.fillStyle="#ffff00",d.fillRect(0,0,f,g)),h.collision.currImg=c))},getOverlapArea:function(a,b,c,d,e,f){var g,h=[[a,d],[b,e]].map(function(a){var b=a[0],c=a[1];return l.getBoundingBox(b.props.model,c)}),i=h[0],j=h[1],k=0;return l.collisionAabb(i,j)&&(g=[Math.min(i[0],j[0]),Math.min(i[1],j[1]),Math.max(i[2],j[2]),Math.max(i[3],j[3])],k=0,[a,b].concat(c).forEach(function(a){this.ensureHasImage(a,f)}.bind(this)),this.getPixels(a,b,c,g,function(a){a>y&&k++})),k},destroy:function(a){var b=a.props.model,c=b.collision.currImg,d=b.collision.currCanvas;null!=e.get(c,"parentNode")&&c.parentNode.removeChild(c),null!=e.get(d,"parentNode")&&d.parentNode.removeChild(d),b.isGroupingSlideObject&&b.objects().forEach(function(a){K.destroy(a.currView)})}};return K.ensureHasImage=K.ensureHasImage.bind(K),K.initialize(),K}),define("helpers/conditioner",["require","lodash","helpers/errorManager","helpers/resolver","views/helpers/collisionHelper"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=a("helpers/resolver"),e=a("views/helpers/collisionHelper"),f=c.throwError("conditioner"),g=c.backtick,h="Cannot evaluate unsupported operator",i="Correct Response",j={and:" and ",or:" or ",nand:" nand ",nor:" nor ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},k={andOr:function(a,b,c){return b.statements.map(function(a){return v.statementToString(a,c)}).join(a)},compare:function(a,b){return[l(a.valuea,a.typea,b),l(a.valueb,a.typeb,b)].join(j[a.operator])}};k.and=b.partial(k.andOr,j.and),k.or=b.partial(k.andOr,j.or),k.nand=b.partial(k.andOr,j.nand),k.nor=b.partial(k.andOr,j.nor);var l=function(a,b,c){return"property"===b?i:n({type:b,value:a},{context:c})},m=function(a,c){var d=b.isArray(a)?a:c,e=d===a?c:a;return{arr:d,item:e}},n=function(a,b){return d.getRef(a,b.context||b,b.context&&b)},o=function(a){return String(a).toLowerCase()},p=function(a,b){var c=a+"Response",d=a+"id";return b[c]===b[d]},q=b.partial(p,"statement"),r=b.partial(p,"choice"),s={and:b.every,or:b.some};s.nand=b.negate(s.and),s.nor=b.negate(s.or);var t={eq:function(a,b){return a==b},noteq:function(a,b){return a!=b},iceq:function(a,b){return o(a)===o(b)},icneq:function(a,b){return o(a)!==o(b)},gt:function(a,b){return a>b},lt:function(a,b){return b>a},gte:function(a,b){return a>=b},lte:function(a,b){return b>=a}};t.has=function(a,c){var d=m(a,c);return b.contains(d.arr,d.item)},t.ichas=function(a,b){var c=m(a,b);return t.has(c.arr.map(o),o(c.item))};var u={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",stateexists:"checkState",hittestpoint:"evaluateHitTest",pair:"evaluatePair",isdescendant:"evaluateIsDescendant",containstext:"evaluateContainsText"},v={evaluateAction:function(a,b){return this.evaluateStatement(a.condition.statement,b)},evaluateStatements:function(a,b,c){return a(b,function(a){return this.evaluateStatement(a,c)}.bind(this))},evaluateStatement:function(a,b){if(!a)return!1;var c=u[a.kind]||"evaluateGroup";return this[c](a,b)},evaluateHitTest:function(a,b){var c,f=d.resolvePath(a.objRef.value,b.context),g=n({type:a.xPos.type,value:a.xPos.value},b),h=n({type:a.yPos.type,value:a.yPos.value},b),i=f.currView;return null==f.collision&&(e.initSlideObject(f),e.calculateHitTest(f,!0)),null!=i?(c=e.slideObjectMouseLoc(i,g,h,!0,!0),e.containsPoint(i,c.x,c.y)):!1},evaluatePair:function(a,b){return q(a)&&r(a)},evaluateComparison:function(a,b){var c,d,e=(b.context,a.operator);return e in t||f("evaluate",h,g(e)),c=n({type:a.typea,value:a.valuea},b),d=n({type:a.typeb,value:a.valueb},b),t[e](c,d)},evaluateIsDescendant:function(a,b){var c=n({type:a.typea,value:a.targeta},b),e=n({type:a.typeb,value:a.targetb},b),f=d.resolvePath(c,b),g=d.resolvePath(e,b);return-1!==f.absoluteId.indexOf(g.absoluteId)},evaluateContainsText:function(a,c){var d=a.casesensitive?b.identity:o,e=b.flow(n,d),f=e(a.targetref,c),g=e(a.searchref,c);return-1!==f.indexOf(g)},evaluateGroup:function(a,b){var c=s[a.kind],d=a.statements;return this.evaluateStatements(c,d,b)},checkExistence:function(a,b){var c=d.getRef(a,b.context,b);return!!d.resolvePath(c,b.context,{optional:!0})},checkState:function(a,c){var e=d.getRef(a.objRef,c.context,c),f=d.resolvePath(e,c.context,{optional:!0}),g=d.getRef(a.stateRef,c.context,c);return null!=f&&b.isFunction(f.getStateFromName)&&null!=f.getStateFromName(g)},statementToString:function(a,b){return k[a.kind](a,b)}};return v}),define("helpers/animationClock",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=132,d=33,e={callbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),currentTime:0,locks:[],locked:!1,waitingLock:!1,requestAnimationFrame:function(a){this.callbacks.push(a),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var a=b.uniqueId("lock-");return this.locks.push(a),this.locked=!0,a},unlock:function(a){b.pull(this.locks,a),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var a=Date.now(),b=a-this.lastCpuTime;return this.lastCpuTime=a,b>c&&(b=d),this.currentTime+=b,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)return void(this.waitingLock=!0);var a=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),a?this.requestStaleFrame():this.timeStale=!0},executeCallbacks:function(){var a=this.callbacks.slice(0),b=a.length;this.callbacks=[];for(var c=0;b>c;c++)a[c](this.frameTime)}};return e}),define("helpers/AnimationTimeline",["require","lodash","helpers/utils","helpers/GsapTweenLite","timeline-lite","helpers/animationClock"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/GsapTweenLite"),e=a("timeline-lite"),f=a("helpers/animationClock"),g=function(a,c){return b.findIndex(a,{id:c})},h=function(a){return a instanceof d||a instanceof e},i=function(a){var b=["onUpdate","onComplete"];this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=a&&(b.forEach(function(b){this[b]=a[b]}.bind(this)),a.tweens&&a.tweens.forEach(function(a){var b=a.delay();h(a)&&(this.wrapGsap(a),b=c.toMilliseconds(b)),this.addSeekable(a,b,!0)}.bind(this)))};return b.extend(i.prototype,{add:function(a,c,d){return b.isString(a)?void(this.labels[a]=c):(c=b.isString(c)?this.labels[c]:c||0,b.isFunction(a)?(this.insertCallback(this.wrapCallback(a,c)),void this.updateDuration(c)):(h(a)&&this.wrapGsap(a),void(b.isFunction(a.stepAnimation)&&this.addSeekable(a,c,d))))},remove:function(a){if(b.isString(a))return void delete this.labels[a];var c,d,e,f;null!=a.timelineData&&(c=a.timelineData.seekableId,d=g(this.callbacks,c),d>=0&&(this.callbacks.splice(d,1),e=g(this.seekables,c),e>=0&&(this.seekables.splice(e,1),f=g(this.activeSeekables,c),f>=0&&(this.activeMutated=!0,this.activeSeekables.splice(f,1)))),a.timelineData=null,this.mutated=!0)},updateDuration:function(a){a>this.duration&&(this.duration=a,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(a){this.updateDuration(a.timelineData.startTime+a.totalTime())},wrapGsap:function(a){a.pause(),a.totalTime=function(){return c.toMilliseconds(a.duration())},a.stepAnimation=function(b,d){var e=c.toSeconds(b);a.seek(e,!0),a.render(e,!!d,!0)}},addSeekable:function(a,b,d){var e=a.totalTime(),f=c.clamp(0,e,this.currentTime-b),g=this.wrapSeekable(a,b);this.seekables.push(g),this.insertCallback(g),!d&&this.currentTime>=b&&((this.executingCallbacks||e>=f)&&g.timelineCallback(),this.executingCallbacks||a.stepAnimation(f)),this.updateDuration(b+a.totalTime())},wrapCallback:function(a,c){return{startTime:c,id:b.uniqueId("wc"),timelineCallback:a}},wrapSeekable:function(a,c){var d=b.uniqueId("ws"),e={startTime:c,id:d,seekable:a};return e.timelineCallback=function(){e.seekable.killed||this.activeSeekables.push(e)}.bind(this),a.timelineData={parent:this,seekableId:d,startTime:c},e},insertCallback:function(a){return 0===this.callbacks.length||a.startTime>=b.last(this.callbacks).startTime?void this.callbacks.push(a):void this.callbacks.splice(b.sortedLastIndex(this.callbacks,a,"startTime"),0,a)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:f.time()-this.startTime)},play:function(){this.playing||this.hasParentTimeline()||(this.playing=!0,this.startTime=f.time()-this.currentTime,f.requestAnimationFrame(this.tick.bind(this)))},seek:function(a,b){this.hasParentTimeline()||(a<=this.lastCallbackTime&&this.reset(),this.startTime=f.time()-a,this.currentTime=a,this.executingCallbacks&&!this.renderDirty||this.update(b))},reset:function(){this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach(function(a){null!=a.seekable.reset&&a.seekable.reset()})},progress:function(a,b){return null==a?c.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(a*this.duration,b),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return c.clamp(0,this.duration,this.currentTime)},totalTime:function(a){return null==a?this.duration:void(this.duration=a)},tick:function(){var a;this.killed||(a=this.currentTime,this.currentTime=f.time()-this.startTime,this.playing&&(a<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),f.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(a,b){this.currentTime;this.currentTime=c.clamp(0,this.duration,a),this.update(b)},update:function(a){this.renderDirty=!1,this.executeCallbacks()&&(this.updateActiveSeekables(a),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,a||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var a=b.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(a>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var c=this.callbacks.slice(a),d=c.length,e=0,f=this.currentTime;!this.killed&&d>e&&c[e].startTime<=f;){if(this.lastCallbackTime=c[e].startTime,c[e].timelineCallback(),f>this.currentTime)return this.executingCallbacks=!1,!1;f=this.currentTime,e++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(a){var b,c,d,e=this.activeSeekables.length-1;for(this.activeMutated=!1;e>=0&&!this.killed;)(!this.activeMutated||e<this.activeSeekables.length)&&(d=this.activeSeekables[e],b=d.seekable,c=d.startTime,b.stepAnimation(this.currentTime-c,a),this.currentTime>=c+b.totalTime()&&(!this.activeMutated||d===this.activeSeekables[e])&&this.activeSeekables.splice(e,1)),e--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach(function(a){null!=a.seekable.kill&&a.seekable.kill()}),this.seekables=null)}}),i}),define("polyfills/fills/rangeSliders",["require","lodash"],function(a){"use strict";var b=a("lodash"),c="allowTheChangeEventToPropagate",d=function(a,d){var e=document.createEvent("Event");e.initEvent("change",!0,!0),b.defaults(e,d),Object.defineProperty(e,c,{value:!0}),a.dispatchEvent(e),document.removeEventListener("mouseup",a.fireChangeEvent)},e={patchEvents:function(){document.addEventListener("change",function(a){var e,f;a[c]||"range"!==a.target.getAttribute("type")||(a.stopPropagation(),e=document.createEvent("Event"),e.initEvent("input",!0,!0),b.defaults(e,a),a.target.dispatchEvent(e),document.removeEventListener("mouseup",a.target.fireChangeEvent),f=b.partial(d,a.target),a.target.fireChangeEvent=f,document.addEventListener("mouseup",f))},!0)}};return e}),define("polyfills/vendorOverrides",["require","jquery","lodash","react","react-dom","polyfills/detection","helpers/svg/svgUtils","polyfills/fills/rangeSliders","tween-lite","helpers/windowManager","helpers/captionsManager","helpers/constants","helpers/stringTabler","helpers/vow","helpers/utils","helpers/pubSub"],function(a){"use strict";var b=(a("jquery"),a("lodash")),c=a("react"),d=(a("react-dom"),a("polyfills/detection")),e=a("helpers/svg/svgUtils"),f=a("polyfills/fills/rangeSliders"),g=a("tween-lite"),h=(a("helpers/windowManager"),a("helpers/captionsManager")),i=a("helpers/constants"),j=a("helpers/stringTabler"),k=(a("helpers/vow"),a("helpers/utils")),l=a("helpers/pubSub"),m={},n=function(a){a.style.display="inline-block";a.offsetHeight;a.style.display=""},o=function(a,b){var c,d;null!=b&&b.length>0&&(c=a.addTextTrack("captions",j.getString("closed_captions"),""),c.mode=h.isCaptionButtonToggled()?"showing":"hidden",b.forEach(function(a){d=new window.VTTCue(a.startTime,a.endTime,a.text.cueSource),d.line=12,c.addCue(d)}))};return d.isWebKit()&&(m.forceSingleRepaint=function(a){n(a)},m.forceRepaint=function(a,b){return g.to(a,b,{onUpdate:function(){n(a)},onComplete:function(){n(a)}})},m.fixTspan=function(a,c){var d=a.y;return b.range(1,c.length).forEach(function(){a.y+=" "+d}),a},m.handleWillChange=function(a){a.willChange="opacity"}),d.isIE()&&(f.patchEvents(),m.mouseOver=function(){return"mouseover"},m.elementsFromPoint=function(a,c,d){return b(document.msElementsFromPoint(a,c)).filter(d).value()},m.wrapTspan=function(a,d,f){var g,h,i,j,k=[],l=f.x.split(" "),m=f.y,n=b.get(f,"children[0]","").split("");return delete d.x,delete d.y,n.forEach(function(a,b){g=c.createElement("tspan",null,a),h=c.createElement("text",d,g),i=l[b]?l[b]:l[0],j=c.createElement("g",{transform:e.transformTranslate(i,m),key:b},h),k.push(j)}),c.createElement("g",{key:d.key},k)}),(d.isIE()||d.isEdge())&&(m.stopColorProps=function(a){return{stopColor:k.toRgba(a.rgb,a.alpha)}}),d.isMobile&&(m.positionCaptions=function(a){if("portrait"===d.orientation){var b=document.querySelector(".slide-container"),c=b.getBoundingClientRect(),e=window.innerHeight,f=(e-i.MOBILE_UI_SIZE-c.bottom)/2;a.style.top=k.pxify(c.bottom+f),a.classList.add("caption--centered")}else a.classList.remove("caption--centered"),a.style.top="auto"},l.on("detection:orientationChange",function(){var a=document.querySelector(".caption");null!=a&&m.positionCaptions(a)})),d.isAndroid&&(m.getAudioInitEvent=function(){return"click"}),d.isIOS()&&(m.destroyAudioContext=b.noop,m.detectVisibilityChange=function(){var a,b=2e3,c=500,d=900,e=(new Date).getTime(),f=!1,g=!1;setInterval(function(){var c=(new Date).getTime(),h=c-e,i=f;e=c,f=h>=d,!i&&f?a=c:i&&f&&!g&&c-a>=b?(g=!0,l.trigger("detection:visibilityhidden")):i&&!f&&(g=!1,l.trigger("detection:visibilityshown"))},c)},m.onOpenWindow=function(a,c,d){var e=b.get(c,"eventType"),f=b.get(c,"context.currView.el");"onpress"===e&&null!=f?f.addEventListener("touchend",function g(){d(),f.removeEventListener("touchend",g)}):d()},m.handleWillChange=function(a){a.willChange="unset"},d.isUIWebView()&&(m.registerAudioInitEvent=function(a,b,c,d){if(d.props.model.isKind("button")){var e=a(b,"click",function(){return!0},c);return[{teardown:e}]}},m.getAudioInitEvent=function(){return"click"})),d.isIosPhoneBefore10()&&(m.buildCaptionTracks=function(a,b){h.hasCaptions(b)&&o(a,h.getCaptions(b))},m.onCaptionsEnabled=function(a){l.on("captions:enable",a)},m.offCaptionsEnabled=function(a){l.off("captions:enable",a)}),m.moveVarTextOutOfSvg=function(a){var c=[],d={nodeType:"variableText"},f=function(a){return b.remove(a.children,d)},g=function(a){return c=c.concat(f(a)),a},h=function(a){if(0===c.length)return a;var b={nodeType:"div",className:"textlib-wrapper"};return b.children=c.slice(),b.children.push(a),b};return g.afterFinish=h,e.transformNodeConfig(g,a)},m.unwrapForeignObjectVarText=function(a){var b=a.children[0];return b},m}),define("helpers/slideThumb",["require","helpers/windowManager","lodash"],function(a){"use strict";var b=a("helpers/windowManager"),c=a("lodash"),d=function(a,b){return'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/main.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+a+"px; height: "+b+'px; } </style> </head> <body> <div class="slide-thumb">'},e=function(a,b){return'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+b+", slideW = "+a+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); </script> </body></html>'},f=/data-reactid="(.*?)"/g,g=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g,h="-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;",i={createVideoThumb:function(a){var b=document.createElement("canvas"),c=b.getContext("2d");return b.width=parseFloat(a.parentNode.style.width),b.height=parseFloat(a.parentNode.style.height),c.drawImage(a,0,0,b.width,b.height),{uri:b.toDataURL("image/jpeg",.8),src:a.src}},addVideoImageThumbs:function(a,b){var d={};return c(a).map(this.createVideoThumb).forEach(function(a){d[a.src]=a.uri}).value(),b.replace(/<video(.*?)<\/video>/g,function(a){var b,c=document.createElement("div");return c.innerHTML=a,b=c.querySelector("video").src,['<img src="',d[b],'"/>'].join("")})},generate:function(){var a,c,i,j,k,l,m=b.getCurrentWindow().getCurSlide(),n="";return null!=m?(a=m.el.innerHTML,c=m.props.model.get("width"),i=m.props.model.get("height"),a=a.replace(f,"").replace(g,h),l=document.querySelectorAll("video"),l.length>0&&(a=this.addVideoImageThumbs(l,a)),j=document.getElementById("svg-library"),k=document.getElementById("mask-library"),null!=j&&(n+=j.outerHTML),null!=k&&(n+=k.outerHTML),{width:c,height:i,html:[d(c,i),a,n,e(c,i)].join("")}):{html:null}}};return i}),define("helpers/automation",["require","lodash","timeline-lite","helpers/AnimationTimeline","helpers/pubSub","helpers/utils","helpers/actionator","polyfills/vendorOverrides","helpers/slideThumb","helpers/resume/courseStateHelper"],function(a){"use strict";var b,c,d,e=a("lodash"),f=a("timeline-lite"),g=a("helpers/AnimationTimeline"),h=a("helpers/pubSub"),i=a("helpers/utils"),j=(a("helpers/actionator"),a("polyfills/vendorOverrides"),a("helpers/slideThumb")),k=a("helpers/resume/courseStateHelper"),l=0,m={},n={},o="started",p="playing",q=window.vInterfaceObject||window,r={mainWindow:null,updateTime:function(a){var d,e=this.mainWindow.state.currentSlide,f=this.mainWindow.getCurSlide(),g=f.transition;b!==e&&(b=e,c=l),d=b.fullId(),g&&!n[d]?f.seekTransition(a-c):(n[d]===o&&(c=l,n[d]=p),b.getBaseLayer().timeline().seek(a-c).trigger("playing",{override:!0})),l=a},nextSlide:function(){var a=d.shift();a&&h.trigger("nextSlide:requesting",i.prefixWithPlayer(a))}},s={silenceActions:{trigger_next_slide:!1},initialize:function(a,b){var c=i.parseParams();if("1"===c.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0),window.autoSpider){document.body.addEventListener("mousedown",this.onPlayerClicked.bind(this)),document.body.addEventListener("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=b.display().width(),window.g_nHeight=b.display().height(),"1"===c.overrideclock&&(f.prototype.play=e.noop,g.prototype.play=e.noop);var l=function(a){return!/^MsgScene|^PromptScene/.test(a)};d=e(b.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(l).tap(function(b){b.forEach(function(b){var c=a.getSlide(i.prefixWithPlayer(b)),d=c.get("showAnimationId");null!=d&&(m[d]=b)})}).rest().value();var n={playerTime:0,type:"dark-spider",AutoUpdateTime:function(){this.UpdateAutomationTime(this.playerTime),this.playerTime+=500},UpdateAutomationTime:function(a){r.updateTime(a)},TriggerNextSlide:function(){r.nextSlide()},CaptureSlideImage:function(){return j.generate()},GetCourseStateData:function(){return k.getState()},GetTargetDuration:function(b){var c=m[b];return c?a.getSlide(i.prefixWithPlayer(c)).getTransitionAnimation().duration():a.getSlide(i.prefixWithPlayer(b)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return n},e.bindAll(this,"onSlideStarted","onSlideTransition","onMainWindowCreated","onEnterFullscreen","onExitFullscreen"),h.on({"slide:started":this.onSlideStarted,"slide:transitionStarted":this.onSlideTransition,"layer:timelineActived":this.onLayerTimelineActivated,"mainWindow:created":this.onMainWindowCreated,"presentation:enterFullscreen":this.onEnterFullscreen,"presentation:exitFullscreen":this.onExitFullscreen})}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(a){r.mainWindow=a,this.callIfExists("AutomationReady")},onSlideTransition:function(a,b){this.callIfExists("OnSlideTransition",a,b)},onSlideStarted:function(a){n[a]=o,this.callIfExists("OnSlideStarted",a)},onLayerTimelineActivated:function(a){if(a.isBaseLayer()){var b=a.getClosestAncestorByKind("slide").absoluteId;s.onSlideStarted(i.stripPlayer(b))}},callIfExists:function(a){var b=q[a];"function"==typeof b&&b.apply(q,e.rest(arguments))}};return s}),define("helpers/Iterable",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=function(a){return function(){var b=a.length,c=0;return{next:function(){return c===b?{done:!0}:{value:a[c++],done:!1}}}}},d=function(a){b.isArray(a)?(this.iterator=c(a),this.arr=a):this.iterator=a};return d.empty=new d([]),b.extend(d.prototype,{toArray:function(){if(null!=this.arr)return this.arr;var a=[];return this.forEach(function(b){a.push(b)}),this.arr=a,a},forEach:function(a){for(var b,c,e=this.iterator(),f=0,g=[];!(b=e.next()).done&&c!==!1;)c=a(b.value,f++,this),g.push(b.value);return new d(g)},map:function(a){return new d(function(){var b=this.iterator(),c=0;return{next:function(){var d=b.next();return d.done?{done:!0}:{value:a(d.value,c++,this),done:!1}}.bind(this)}}.bind(this))},filter:function(a){return new d(function(){var b=this.iterator(),c=0;return{next:function d(){var e=b.next();return e.done?{done:!0}:a(e.value,c++,this)?{value:e.value,done:!1}:d.call(this)}.bind(this)}}.bind(this))},some:function(a){var b=!1;return this.forEach(function(c,d){return b=!!a(c,d,this),!b}.bind(this)),b},flatten:function(){return new d(function(){var a=this.iterator(),c=[];return{next:function e(){var f=a.next(),g=f.value;return f.done?(a=c.pop(),null==a?{done:!0}:e.call(this)):(b.isArray(g)&&(g=new d(g)),g instanceof d?(c.push(a),a=g.iterator(),e.call(this)):f)}.bind(this)}}.bind(this))}}),d}),define("helpers/actionManager",["require","lodash","backbone","helpers/utils","helpers/debug","helpers/errorManager","helpers/pubSub","helpers/resolver","helpers/actionator","helpers/conditioner","helpers/mixer","mixins/shortEventable","mixins/actionable","helpers/automation","helpers/constants","helpers/Iterable"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/utils"),e=a("helpers/debug"),f=a("helpers/errorManager"),g=(a("helpers/pubSub"),a("helpers/resolver")),h=a("helpers/actionator"),i=a("helpers/conditioner"),j=a("helpers/mixer"),k=a("mixins/shortEventable"),l=a("mixins/actionable"),m=a("helpers/automation"),n=a("helpers/constants"),o=a("helpers/Iterable"),p=f.throwError("actionManager"),q=f.warn("actionManager"),r=f.backtick,s="Cannot execute action without a context:",t=function(a){var c="action:",d=a.shortEvents,e=d&&d.self;return b.keys(e).filter(function(a){return 0===a.indexOf(c)}).map(function(a){return a.replace(c,"")})},u={global:null,meta:null},v=function(a,c){var d=u[a];return b.contains(d,c.kind)},w=b.partial(v,"global"),x=b.partial(v,"meta"),y=function(a){var c=["gotoplay","history_prev","playnextdrawslide","nextunansweredslide","nextunsubmittedslide","nextviewedslide","history_prev_scene","history_prev_group"];return b.contains(c,a.kind)},z=function(a,b){var c=b.context,d=C(a,b);return!!d&&g.resolvePath(d.replace(/^\./,""),c,{optional:!0})},A=function(a,c){return b.mapValues(a.params||{},function(a){return g.getRef(a,c.context,c)})},B=function(a,c,d){var e,f=a;return null!=c.scopeRef&&(b.isArray(a)?f=a.map(function(a){var b=g.getRef(c.scopeRef,a,d);return 0===c.id.indexOf(n.CHILDREN)&&b===n.CHILDREN?a:g.resolvePath(b,a)}):(e=g.getRef(c.scopeRef,d.context,d),f="_owner"===e?a:g.resolvePath(e,d.context))),f},C=function(){var a=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value","startslideid","scrollref"],c=function(a,c,d){var e=a[c];return b.isPlainObject(e)?g.getRef(e,d.context,d):e};return function(d,e){var f;return b.find(a,function(a){return f=c(d,a,e)}),f}}(),D=function(a,c){var d=g.splitPath(a.id),e=b.last(d),f=g.joinPath(b.initial(d)),h=f?g.resolvePath(f,c.context):c.context,i=B(h,a,c),j=b.isArray(h)?h:[h],k=j.map(function(a){return g.resolvePath(e,a,{optional:"_children"===b.first(d)
})}),l=b.isArray(i)?i:[i];return 1===k.length&&l.length>1&&l.forEach(function(a,b){j[b]=j[b]||j[0],k[b]=k[b]||k[0]}),new o(k).map(function(d,e){if(null!=d){var f=b.defaults({context:l[e]},c),g=b.defaults({context:j[e]},c);return f.params=A(a,g),{actions:d.actions,data:f}}}.bind(this)).filter(b.identity)},E=function(a,b){var c=i.evaluateAction(a,b),d=c?"thenActions":"elseActions",e=a[d];return e},F={exe_actiongroup:function(a,b){return D(a,b).map(function(a){return G.traceActions(a.actions,a.data)}).flatten()},if_action:function(a,b){return G.traceActions(E(a,b),b)}},G={mixins:[l,k,c.Events],shortEvents:{self:{"action:exe_actiongroup":"executeActionGroup","action:if_action":"evaluateConditional","action:foreach":"executeLoop","action:debug_trace":"logDebugMessage","action:debug_error":"logErrorMessage"}},executeActions:function(a,c){var d,e,f=0,g=a.length,h=!1;if(g>0)do d=a[f],h&&"close_window"!==d.kind?q("executeActions","skip action:",d.id):(this.slideJumpPerformed=!1,e=b.clone(c),this.executeAction(d,e),c.cancel=e.cancel,h=y(d)||h||this.slideJumpPerformed);while(++f<g);return this.slideJumpPerformed=h,this},executeAction:function(a,c){if(m.silenceActions[a.kind]!==!0){c&&c.context||p("executeAction",s,r(a.kind));var e,f,g;return"close_window"!==a.kind&&c.context.isAncestral&&(g=c.context.getClosestAncestorByKind("slide",!0),b.get(g,"destroyed"))?(q("executeActions","skip action:",a.id),this):(e=z(a,c),f=w(a)?h:x(a)?G:e,f||p("executeAction","the object",d.doubleQuote(C(a,c)),"does not exist in this scope:",d.doubleQuote(d.stripPlayer(c.context.absoluteId||"")),"to execute the action",r(a.kind)),c.actionTarget=e,d.applyMethod("triggerAction",f,a,c),this)}},executeActionGroup:function(a,b){return D(a,b).forEach(function(a){var c=a.actions,d=a.data;this.executeActions(c,d),d.cancel&&(b.cancel=d.cancel)}.bind(this)),this},evaluateConditional:function(a,b){var c=E(a,b);return c&&this.executeActions(c,b),this},executeLoop:function(a,c){a.iterables.forEach(function(d){var e=b.defaults({iterables:d.valueref},c);G.executeActions(a.actions,e)})},logMessage:function(a,b,c){if(e.debugMode){var d="debug"===a,f=d?"log":"error";console[f](a.toUpperCase()+":",b.message),d||e.throwError()}},traceActions:function(a,b){return null==a?o.empty:new o(a).map(function(a){var c=F[a.kind];return null!=c?c(a,b):[a]}).flatten()},isJumpAction:y};return G.logDebugMessage=b.partial(G.logMessage,"debug"),G.logErrorMessage=b.partial(G.logMessage,"error"),j.mix(G),j.initMixinsOf(G),u.global=t(h),u.meta=t(G),G}),define("views/mixins/swipeable",["require","lodash","helpers/cssPrefix","helpers/constants","polyfills/detection","views/helpers/dom","helpers/slideObjectUtils","helpers/utils","helpers/svg/svgUtils","helpers/pubSub","helpers/windowManager","helpers/GsapTweenLite","timeline-lite","helpers/actionManager","helpers/appState","ease-pack"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/cssPrefix"),a("helpers/constants")),d=(a("polyfills/detection"),a("views/helpers/dom")),e=a("helpers/slideObjectUtils"),f=a("helpers/utils"),g=a("helpers/svg/svgUtils"),h=a("helpers/pubSub"),i=a("helpers/windowManager"),j=a("helpers/GsapTweenLite"),k=a("timeline-lite"),l=a("helpers/actionManager"),m=a("helpers/appState");a("ease-pack");var n,o=300,p=100,q=40,r=c.math.QUARTER_PI,s=c.math.THREE_QUARTER_PI,t=1,u=2,v=3,w=4,x="#212121",y={};y[w]="onprevslide",y[u]="onnextslide";var z=!1;h.once("player:menuOptions",function(a){n=a.get("flow")});var A=function(a){return"free"===n&&e.isMobileSlide(a)&&null==a.props.slideFrame&&!a.props.slideContainer.props.lightboxed},B=function(){var a=z;return z=!1,a},C={DIRECTION_UP:t,DIRECTION_RIGHT:u,DIRECTION_DOWN:v,DIRECTION_LEFT:w,componentWillMount:function(){this.swipe={swiping:!1,wasSwiped:B,swipeBehavior:A}},componentDidMount:function(){var a=this.el;this.swipe.swipeBehavior(this)&&(this.calcCancelTolerance().hasPrevNextActions().getWidthHeight().getNextEl(),a.addEventListener("touchstart",this.onSwipeableTouchStart,!0),a.addEventListener("touchmove",this.onSwipeableTouchMove),a.addEventListener("touchend",this.onSwipeableTouchEnd),window.addEventListener("popstate",this.onPopState),this.listenTo(m,"layout:changed",this.hasPrevNextActions))},componentWillUnmount:function(){var a=this.el;this.swipe.swipeBehavior(this)&&(a.removeEventListener("touchstart",this.onSwipeableTouchStart),a.removeEventListener("touchmove",this.onSwipeableTouchMove),a.removeEventListener("touchend",this.onSwipeableTouchEnd),window.removeEventListener("popstate",this.onPopState))},getWidthHeight:function(){return this.swipe.width=this.props.model.get("width"),this.swipe.height=this.props.model.get("height"),this},getNextEl:function(){var a=this.el.parentNode,b=a.parentNode;return this.swipe.nextEl=b.querySelector(".swipe-transition-container"),this},onSwipeableTouchStart:function(a){var b,c=this.swipe;this.shouldSwipe(a.target)&&1===a.touches.length&&(b=a.touches[0],c.startX=b.pageX,c.startY=b.pageY,c.startTime=(new Date).getTime(),c.duration=null,c.cancelled=!1,c.willJump=!1)},onSwipeableTouchMove:function(a){var b,c=this.swipe,d=c.direction;this.shouldSwipe(a.target)&&1===a.touches.length&&(b=a.touches[0],c.x=b.pageX,c.y=b.pageY,this.swipe.swiping=!0,c.direction=this.getSwipeDirection(),d!==c.direction&&this.determineSwipeActions(),c.direction===w?this.animateSwipe().followDir(!1,w):c.direction===u&&this.animateSwipe().followDir(!1,u))},determineSwipeActions:function(){var a=this.swipe,c=this.props.model.tracePlayerEvent(y[a.direction]),d=i.getCurrentWindow();return b.extend(a,{cancelled:!0,willJump:!0}),c.forEach(function(b){return a.willJump=l.isJumpAction(b)&&("gotoplay"!==b.kind||b.window===d.id||"_current"===b.window),a.cancelled=!a.willJump||!("history_prev"!==b.kind||d.getPrevSlide()),a.cancelled}),this},onPopState:function(){this.resetSwipe()},calcCancelTolerance:function(){return this.swipe.cancelTolerance=this.props.model.get("width")/2,this},hasPrevNextActions:function(){var a=m.currentLayout();return this.swipe.canSwipeLeft=a.swipeleft,this.swipe.canSwipeRight=a.swiperight,this},resetSwipe:function(){var a=this.el;a.style[this.cssTransform]="",b.toArray(document.querySelectorAll(".slide-transition-container")).forEach(function(a){a.style[this.cssTransform]=""}.bind(this)),this.onSwipeableTouchEnd(),this.killLoader()},restricted:function(){return this.swipe.cancelled||!this.swipe.canSwipeLeft&&this.swipe.direction===w||!this.swipe.canSwipeRight&&this.swipe.direction===u},forceShowNextLoader:function(){this.swipe.rampShow=!0,this.showNextLoader()},showNextLoader:function(a,b){var c;b&&!this.swipe.rampTimeout&&(this.swipe.rampTimeout=setTimeout(function(){this.swipe.rampShow=!0,this.swipe.rampTimeout=null}.bind(this),300)),c={visibility:"visible",display:"block",backgroundColor:"transparent",opacity:this.restricted()||!this.swipe.rampShow?0:1},c[this.cssTransform]=a,this.props.slideContainer.setLoaderStyle(c)},getPadding:function(){var a=this.props.model.parentTransform;return Math.max(2*a.xOff,q)},followDir:function(a,b){var c,e,h,i=this.props.model.parentTransform,j=this.swipe.width+this.getPadding(),k=b===w?-j:j;a&&(c=this.el.getBoundingClientRect(),this.swipe.currX=(c.left-i.xOff)*this.props.model.calculateTotalScale()),this.swipe.nextEl&&(this.swipe.lastDir=b,h=this.swipe.currX+k,e=g.transformTranslate(f.pxify(h),f.pxify(0)),this.restricted()||(d.setStyles(this.swipe.nextEl,{width:f.pxify(this.swipe.width),height:f.pxify(this.swipe.height)}),this.swipe.nextEl.style[this.cssTransform]=e,this.swipe.nextEl.style.background=x),this.showNextLoader(e,Math.abs(h)<this.swipe.width/2))},onSwipeableTouchEnd:function(){var a,b,c=this.swipe,d=c.direction;return c.duration=(new Date).getTime()-c.startTime,this.swipe.cancelled||!this.swipe.canSwipeLeft&&d===w||!this.swipe.canSwipeRight&&d===u?void this.endSwipe(d,!1):void(c.swiping&&(a=this.getSwipeLength(),b=this.speedSwipe(a),b||a>this.swipe.cancelTolerance?(this.endSwipe(d,!0),b&&this.forceShowNextLoader()):this.endSwipe()))},speedSwipe:function(a){var b=this.swipe.duration;return o>b&&a>p},doSwipe:function(a){var c={};return c[w]=this.swipe.canSwipeLeft?this.onSwipeLeft:b.noop,c[u]=this.swipe.canSwipeRight?this.onSwipeRight:b.noop,c.hasOwnProperty(a)&&c[a](),this},onSwipeRight:function(){this.props.model.executePlayerEvent(y[u]),z=!0,this.swipe.isNavigating=!0},onSwipeLeft:function(){this.props.model.executePlayerEvent(y[w]),z=!0,this.swipe.isNavigating=!0},shouldSwipe:function(a){var b=this.props.model.pinchZoomScale,c=null!=b&&1!==b;return!(e.isScrollRelated(a)||e.isDraggableRelated(a)||e.isRotatableRelated(a)||e.isSlideableRelated(a)||c)},endSwipe:function(a,b){this.swipe.swiping=!1,delete this.swipe.direction,this.animateSwipeEnd(a,b)},getSwipeLength:function(){var a=this.swipe,b=f.dist(a.startX,a.startY,a.x,a.y)*this.props.model.calculateTotalScale();return b},getSwipeDirection:function(){var a=this.swipe,b=Math.atan2(a.startY-a.y,a.startX-a.x),c=Math.abs(b);return r>=c?u:b>r&&s>=b?t:-r>b&&b>=-s?v:w},animateSwipe:function(a){var b=this.el,c=this.swipe,d=c.startX-c.x,e=0>d?-1:1,f=a||-(Math.abs(d)*e*this.props.model.calculateTotalScale());return this.restricted()&&(f*=c.willJump?.1:.5*Cubic.easeOut.getRatio(Math.abs(d)/document.body.clientWidth)),j.set(b,{x:f}),this.swipe.currX=f,this},killLoader:function(){var a={visibility:null,opacity:null,display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)"};a[this.cssTransform]=null,this.props.slideContainer.setLoaderStyle(a)},swipeEndRight:function(){this.followDir(!0,u),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndRight)},swipeEndLeft:function(){this.followDir(!0,w),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndLeft)},animateSwipeEnd:function(a,b){var c,d,e,g=this.el,i=0;b?(e=this.getSuccessSwipeTween(a),d=a===u?this.swipeEndRight:this.swipeEndLeft):(d=this.swipe.lastDir===u?this.swipeEndRight:this.swipeEndLeft,e=this.getFailedSwipeTween(a)),c=f.toMilliseconds(e.duration()),this.swipe.updateNextSlide=window.requestAnimationFrame(d),e.play(),window.clearTimeout(this.swipe.resetTransform),this.swipe.resetTransform=window.setTimeout(function(){g.style[this.cssTransitionDuration]="0s",window.cancelAnimationFrame(this.swipe.updateNextSlide),this.doSwipe(a),b?(this.forceShowNextLoader(),h.once("loader:hide",function(){g.style[this.cssTransform]="",g.style.opacity=0,this.resetNextEl(),this.killLoader()}.bind(this))):this.resetNextEl()}.bind(this),c+i)},getSuccessSwipeTween:function(a){var b,c=this.swipe.width+this.getPadding(),d=new k;return a===u?b=-c:a===w&&(b=c),d.add(j.to(this.el,.25,{x:b,ease:"Sine.easeOut"})),d},getFailedSwipeTween:function(a){var b,c,d=this.el,e=this.swipe,g=new k;return!e.willJump&&this.speedSwipe(this.getSwipeLength())?(c=Math.max(.2,f.toSeconds(e.duration)),b=Math.min(Math.abs(e.startX-e.x),e.width*(e.willJump?.1:.5)),g.add([j.to(d,c,{x:b*(a===u?-1:1),ease:"Cubic.easeOut"}),j.to(d,2*c,{x:0,ease:"Cubic.easeOut"})],0,"sequence")):g.add(j.to(d,.25,{x:0,ease:"Sine.easeOut"})),g},resetNextEl:function(){this.swipe.nextEl&&(this.swipe.nextEl.style[this.cssTransform]="",d.setStyles(this.swipe.nextEl,{width:null,height:null,background:null}))}};return C}),define("helpers/svg/masks/Mask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/TransMatrix","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("views/helpers/dom"),e=(a("helpers/TransMatrix"),a("helpers/utils"),function(a,b){this.maskProps=b,this.shapeProps=a,this.createSvg(a),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn())});return b.extend(e.prototype,{setupAnimation:b.noop,animate:b.noop,getDirection:function(){return this.maskProps.direction},isExit:function(){return this.maskProps.isExit},createSvg:function(a){return this.width=a.rotatedBounds.right-a.rotatedBounds.left+2,this.height=a.rotatedBounds.bottom-a.rotatedBounds.top+2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.maskId=b.uniqueId("mask-"),this.maskNode=c.createSvgNode(this.width,this.height),this.clipPath=c.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.maskNode.appendChild(this.clipPath),this.clipShape=d.setAttributes(c.createElement("path"),{"clip-rule":"evenodd"}),this.transformSvg(a),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=c.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},transformSvg:function(a){var b=c.transformRotate(-a.globalRotation.x,a.regPoint.x-a.rotatedBounds.left,a.regPoint.y-a.rotatedBounds.top),d=c.transformTranslate(a.rotatedBounds.left-a.maskableOffset.x,a.rotatedBounds.top-a.maskableOffset.y);this.clipShape.setAttribute("transform",[d,b].join(" "))},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),e}),define("helpers/svg/masks/CheckerboardMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=function(a,b){d.call(this,a,b)};return b.extend(e.prototype,d.prototype,{setupAnimation:function(){var a,b,c,d,e,f,g="across"===this.direction,h=10,i=14,j=g?h/2:h,k=g?i:i/2,l=function(a){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*a*this.finalHeight+this.finalHeight}:{x:2*a*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=g,this.finalWidth=this.width/j,this.finalHeight=this.height/k,this.points=[],a=h*i/2;a--;)b=a%h,c=b%j,d=Math.floor(a/j),this.isHorizontal?(e=j>b?0:this.finalWidth/2,f=0):(e=0,f=c%2?this.finalHeight/2:0),this.points[a]={x:c*this.finalWidth+e,y:d*this.finalHeight+f};for(a=this.isHorizontal?k:j;a--;)this.points.push(l(a))},animate:function(a){var b=this.isHorizontal?a:1,d=this.isHorizontal?1:a,e=this.points.map(function(a){return c.rectPath(a.x,a.y,this.finalWidth*b,this.finalHeight*d)}.bind(this));this.clipShape.setAttribute("d",e.join(" "))}}),e}),define("helpers/svg/masks/CircleMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b){d.call(this,a,b)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(a){a*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*a,this.halfHeight*a)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(a){this.drawCircle(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/BoxMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b){d.call(this,a,b)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(a){var b=this.halfWidth-this.halfWidth*a,d=this.halfHeight-this.halfHeight*a,e=this.width*a,f=this.height*a;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.rectPath(b,d,e,f)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(a){this.drawBox(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/FullMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=(a("helpers/utils"),function(a,b){d.call(this,a,b)});return b.extend(e.prototype,d.prototype,{drawBox:function(a,b,d,e){(this.width-this.shapeProps.size.x)/2,(this.height-this.shapeProps.size.y)/2;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.rectPath(-(d.x-b.x),-(d.y-b.y),this.width,this.height)].join(" "))},getAnimateFn:function(){return this.drawBox}}),e}),define("helpers/svg/masks/DiamondMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b){d.call(this,a,b)};return b.extend(f.prototype,d.prototype,{drawDiamond:function(a){var b=e.invertPercent(a),d=this.width*b-this.halfWidth,f=this.height*b-this.halfHeight;a*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.diamondPath(d,f,this.width*a,this.height*a)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(a){this.drawDiamond(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/BlindsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=function(a,b){d.call(this,a,b)};return b.extend(e.prototype,d.prototype,{setupAnimation:function(){var a;this.numBlinds=6,a="horizontal"===this.direction?"height":"width",this.blindThickness=this[a]/this.numBlinds},animate:function(a){for(var b,d=[];d.length<this.numBlinds;)b=d.length*this.blindThickness,d.push("horizontal"===this.direction?c.rectPath(0,b,this.width,this.blindThickness*a):c.rectPath(b,0,this.blindThickness*a,this.height));this.clipShape.setAttribute("d",d.join(" "))}}),e}),define("helpers/svg/masks/RandomBarsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/svg/svgUtils"),a("views/helpers/dom"),a("helpers/svg/masks/Mask")),d=a("helpers/utils"),e=1e3,f=1,g="M 0 0",h=function(a){return Math.max(f,Math.ceil(a)/e)},i=function(a,b){return Math.ceil(a/b)},j=function(a,b,c,d,e){return a?["M",0,e*b,"h",c,"v",b,"h",-c,"Z"].join(" "):["M",e*b,0,"v",d,"h",b,"v",-d,"Z"].join(" ")},k=function(a,b){c.call(this,a,b)};return b.extend(k.prototype,c.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var a="horizontal"===this.direction,c=a?this.height:this.width,d=h(c),e=i(c,d),f=c/e,g=b.partial(j,a,f,this.width,this.height),k=b.range(e).map(g);return this.barPaths=b.shuffle(k),this.barPaths},animate:function(a){var b=Math.round(d.invertPercent(a)*this.getBarPaths().length),c=this.getBarPaths().slice(b).join(" ")||g;this.clipShape.setAttribute("d",this.invertRect+c)}}),k}),define("helpers/svg/masks/SplitMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b){d.call(this,a,b)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){var a="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!a:a,this.adjustScale=this.isExit()?e.invertPercent:b.identity},getAnimateFn:function(){return this.isOut?function(a){var b,d=0,f=0;a=this.adjustScale(a),b=e.invertPercent(a),this.clipShape.setAttribute("d",this.isVertical?c.rectPath(b*this.halfWidth,f,this.width*a,this.height):c.rectPath(d,b*this.halfHeight,this.width,this.height*a))}:function(a){var b,d,e=[];a=this.adjustScale(a),this.isVertical?(b=a*this.halfWidth,d=this.height):(b=this.width,d=a*this.halfHeight),e.push(c.rectPath(0,0,b,d)),b*=-1,d*=-1,e.push(c.rectPath(this.width,this.height,b,d)),this.clipShape.setAttribute("d",e.join(" "))}}}),f}),define("helpers/svg/masks/WheelMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a){var b=a.m,c=a.l,d=a.a;return["M",b.x,b.y,"L",c.x,c.y,"A",d.rx,d.ry,d.xRot,d.lgArc,d.sweep,d.x,d.y].join(" ")},g=function(a,b,c,d){var f=360*d-90;return b+a(e.degToRad(f))*c},h=function(a,b,c,d){var e=a+c,f=b+d;return["M",a,b,"L",e,b,e,f,a,f].join(" ")},i=b.partial(g,Math.cos),j=b.partial(g,Math.sin),k=b.partial(i,.5),l=b.partial(j,.5),m=function(a,b){d.call(this,a,b)};return b.extend(m.prototype,d.prototype,{setupAnimation:function(){var a=this.clipShape.getAttribute("transform");this.clipShape.setAttribute("transform",[a,"scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?c.rectPath(0,0,1.1,1.1):""},animate:function(a){this.clipShape.setAttribute("d",1===a?h(0,0,this.width,this.height):this.invertRect+this.calcArcPath(a))},createArcAnimationFunc:function(){var a=this.width,c=this.height,d=this.direction,g=parseInt(this.maskProps.spokes,10),h=e.hypot(a,c),i=h/a/2,j=h/c/2,m=b.range(g).map(function(a){var b=a/g,c=Object.freeze({x:.5,y:.5}),e=Object.freeze({x:k(i,b),y:l(j,b)}),h=Object.defineProperties({},{rx:{value:i},ry:{value:j},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===d?1:-1},x:{value:e.x,writable:!0},y:{value:e.y,writable:!0}});return{initRotDec:b,m:c,l:e,a:h,update:function(a){var b=a+this.initRotDec;return this.a.x=k(i,b),this.a.y=l(j,b),this},toPathCommands:function(){return f(this)}}});return function(a){return m.map(function(b){return b.update(a/g).toPathCommands()}).join(" ")}}}),m}),define("helpers/svg/masks/DissolveMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=255,g=9,h=function(a,b){var c=Math.ceil(a/f),d=Math.ceil(b/f);return{width:Math.max(g,c),height:Math.max(g,d)}},i=function(a,b){d.call(this,a,b)};return b.extend(i.prototype,d.prototype,{setupAnimation:function(){var a,d=h(this.width,this.height),e=Math.ceil(this.height/d.height),f=Math.ceil(this.width/d.width);for(this.grains=[],this.numGrains=e*f,a=this.numGrains;a--;){var g=a%f*d.width,i=Math.floor(a/f)*d.height;this.grains[a]=c.rectPath(g,i,d.width,d.height)}this.grains=b.shuffle(this.grains),this.pathData=""},animate:function(a){for(var b=e.invertPercent(a)*this.numGrains;this.grains.length>b;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),i}),define("helpers/svg/masks/PlusMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b){d.call(this,a,b)};return b.extend(f.prototype,d.prototype,{drawPlus:function(a){var b=e.invertPercent(a),d={x:0,y:0,width:this.halfWidth,height:this.halfHeight},f={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},g={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},h={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};d.width=b*this.halfWidth,d.height=b*this.halfHeight,f.x=this.halfWidth+this.halfWidth*a,f.height=d.height,g.width=b*this.halfWidth,g.y=this.halfHeight+this.halfHeight*a,h.x=this.halfWidth+this.halfWidth*a,h.y=g.y,this.clipShape.setAttribute("d",[this.invertRect,c.rectPath(0,0,this.width,this.height),this.inRect,c.rectPath(d.x,d.y,d.width,d.height),c.rectPath(f.x,f.y,f.width,f.height),c.rectPath(g.x,g.y,g.width,g.height),c.rectPath(h.x,h.y,h.width,h.height)].join(" "))},getAnimateFn:function(a){return"out"===this.direction?this.drawPlus:function(a){this.drawPlus(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/WipeMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b){d.call(this,a,b)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){b.bindAll(this),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(a,b){b.y=this.height*e.invertPercent(a)},fromTop:function(a,b){b.height=this.height*a},fromLeft:function(a,b){b.width=this.width*a},fromRight:function(a,b){b.x=this.width*e.invertPercent(a)},animate:function(a){var b={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](a,b),this.clipShape.setAttribute("d",this.invertRect+c.rectPath(b.x,b.y,b.width,b.height))}}),f}),define("helpers/svg/masks/StripsMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/svg/masks/Mask"),e=a("helpers/utils"),f=20,g=10,h=30,i=function(a){return Math.max(g,Math.min(h,a,Math.ceil(a/f)))},j=function(a,b){d.call(this,a,b)};return b.extend(j.prototype,d.prototype,{setupAnimation:function(){var a=this.width,b=this.height,c=i(b),d=this.getDirection();this.fromTop="leftdown"===d||"rightdown"===d,this.fromLeft="rightdown"===d||"rightup"===d,this.boxSize=c,this.maxWidth=(Math.ceil(b/c)+Math.ceil(a/c))*c},animate:function(a){for(var b,d,f="",g=this.boxSize,h=this.fromTop?0:this.height,i=this.fromTop?g:-g,j=(this.isExit()?e.invertPercent(a):a)*this.maxWidth;j>0&&h>-g&&h<=this.height;)d=Math.min(j,this.width),b=this.fromLeft?0:this.width-d,f+=c.rectPath(b,h,d,g),h+=i,j-=g;this.clipShape.setAttribute("d",f)}}),j}),define("helpers/svg/masks/WedgeMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/svg/masks/Mask"),e=a("helpers/utils"),f=270,g=90,h=function(a,b){d.call(this,a,b)};return b.extend(h.prototype,d.prototype,{setupAnimation:function(){this.radius=Math.ceil(e.dist(0,0,this.halfWidth,this.halfHeight)),this.startingAngle=this.isExit()?g:f},animate:function(a){var b=180*(this.isExit()?e.invertPercent(a):a),d=180!==b?c.wheelPath(this.halfWidth,this.halfHeight,this.radius,this.startingAngle-b,this.startingAngle+b):c.rectPath(0,0,this.width,this.height);this.clipShape.setAttribute("d",d)}}),h}),define("views/helpers/TweenHelper",["require","lodash","helpers/utils","helpers/TransMatrix","views/helpers/dom","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/errorManager","helpers/svg/masks/CheckerboardMask","helpers/svg/masks/CircleMask","helpers/svg/masks/BoxMask","helpers/svg/masks/FullMask","helpers/svg/masks/DiamondMask","helpers/svg/masks/BlindsMask","helpers/svg/masks/RandomBarsMask","helpers/svg/masks/SplitMask","helpers/svg/masks/WheelMask","helpers/svg/masks/DissolveMask","helpers/svg/masks/PlusMask","helpers/svg/masks/WipeMask","helpers/svg/masks/StripsMask","helpers/svg/masks/WedgeMask","helpers/cssPrefix","polyfills/detection","tween-lite","ease-pack"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/TransMatrix"),e=a("views/helpers/dom"),f=a("helpers/svg/svgUtils"),g=a("polyfills/vendorOverrides"),h=a("helpers/errorManager"),i=a("helpers/svg/masks/CheckerboardMask"),j=a("helpers/svg/masks/CircleMask"),k=a("helpers/svg/masks/BoxMask"),l=a("helpers/svg/masks/FullMask"),m=a("helpers/svg/masks/DiamondMask"),n=a("helpers/svg/masks/BlindsMask"),o=a("helpers/svg/masks/RandomBarsMask"),p=a("helpers/svg/masks/SplitMask"),q=a("helpers/svg/masks/WheelMask"),r=a("helpers/svg/masks/DissolveMask"),s=a("helpers/svg/masks/PlusMask"),t=a("helpers/svg/masks/WipeMask"),u=a("helpers/svg/masks/StripsMask"),v=a("helpers/svg/masks/WedgeMask"),w=a("helpers/cssPrefix"),x=a("polyfills/detection");a("tween-lite"),a("ease-pack");var y=w.camelCase("transform"),z=["position","rotation","scale","skew","alpha","mask","colors"],A={position:"applyTranslation",scale:"applyScale",skew:"applySkew",rotation:"applyRotation",alpha:"applyAlpha",mask:"applyMask",colors:"applyColor"},B={checkerboard:i,circle:j,box:k,diamond:m,blinds:n,randombars:o,split:p,wheel:q,dissolve:r,plus:s,wipe:t,full:l,strips:u,wedge:v},C={right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},D={topleft:{x:0,y:0},topright:{x:1,y:0},bottomleft:{x:0,y:1},bottomright:{x:1,y:1}},E=["blinds","box","checkerboard","circle","clock","comb","diamond","dissolve","full","none","plus","randombars","split","strips","wedge","wheel","wipe","strips"],F=h.throwError("TweenHelper"),G=function(a,b,d){return b>=d?1:c.clamp(0,1,EaseLookup.find(a).getRatio(b/d))},H=g.forceSingleRepaint||b.noop,I=function(a,b,c,d){this.view=a,this.secondaryView=d,this.model=this.view.props.model,this.isReverse=b,this.config=c,this.duration=c.duration,this.startTime=0,this.tweens=c.tweens,this.initialize(),this.handleMobileVideo()};return b.extend(I.prototype,{initialize:function(){this.defaults=this.getDefaults()},handleMobileVideo:function(){x.isMobile&&this.model.isKind("video")&&this.model.get("autoplay")&&(this.applyTweenedConfig=b.noop)},stepAnimation:function(a){this.isReverse&&(a=this.duration-a,0>a&&(a=0)),this.applyTweenedConfig(this.getTweenedConfig(a))},totalTime:function(){return this.duration},delay:function(){return this.startTime},reset:function(){var a={matrix:new d,props:{},style:{}};a.props.ScaleX=this.defaults.scale.x,a.props.ScaleY=this.defaults.scale.y,a.props.RawXPos=this.defaults.position.x,a.props.RawYPos=this.defaults.position.y,a.props.Rotation=this.defaults.rotation.x,a.props.Alpha=this.defaults.alpha.x,a.matrix.translate(this.defaults.position.x,this.defaults.position.y),a.matrix.rotate(this.defaults.rotation.x,0,0),a.matrix.scale(c.pctToDec(this.defaults.scale.x),c.pctToDec(this.defaults.scale.y)),a.style.opacity=c.pctToDec(this.defaults.alpha.x),a.style[y]=a.matrix.toCssTransform(),this.applyTweenedConfig(a)},getDefaults:function(){return this.model.isSlideObject?this.getSlideObjectProps():this.getSlideOrLayerProps()},getSlideOrLayerProps:function(){var a,b,c=this.model.get("width"),d=this.model.get("height");return b={regPoint:{x:c/2,y:d/2},position:{x:0,y:0},scale:{x:100,y:100},rotation:{x:0},globalRotation:{x:0},size:{x:c,y:d},maskableOffset:{x:0,y:0}},this.hasSecondary()&&(a=this.secondaryView.props.model,b.secondarySize={x:a.get("width"),y:a.get("height")}),b},hasSecondary:function(){return null!=this.secondaryView},getSlideObjectProps:function(){var a=this.model.playerProps,b=this.model.getCurrentStateMetrics();return{regPoint:{x:this.model.rotateXPos(),y:this.model.rotateYPos()},position:{x:a.get("RawXPos"),y:a.get("RawYPos")},scale:{x:a.get("ScaleX"),y:a.get("ScaleY")},rotation:{x:a.get("Rotation")},globalRotation:{x:this.view.getGlobalRotation()},size:{x:b.width-(2*b.xPos-1),y:b.height-(2*b.yPos-1)},alpha:{x:a.get("Alpha")},maskableOffset:{x:b.xPos-b.strokewidth,y:b.yPos-b.strokewidth}}},getTweenedConfig:function(a,c){var e={},f=0,g=this.tweens.length,h={matrix:new d,props:{Rotation:0},style:{}};for(c=c!==!1;g>f;)this.tweens[f].delay<=a&&b.extend(e,this.tweens[f].tweenAttrs),f++;return z.forEach(function(b){this[A[b]](a,e[b],h,c)}.bind(this)),h.style[y]=h.matrix.toCssTransform(),h},applyTweenedConfig:function(a){this.view.tweenedConfig=a,b.extend(this.view.el.style,a.style),this.hasSecondary()&&null!=this.config.pushDir&&this.tweenSecondary(a.props)},adjustRotateble:function(a){var b,c=this.defaults.regPoint;if(this.model.isRotatable&&this.model.isRotatable()){
b=this.view.decorators.rotatable;var d=this.model.prop("Rotation");a.rotate(d,0,0),a.rotate(b.lastSetRotation,b.rotateXPos-c.x,b.rotateYPos-c.y),a.rotate(-d,0,0)}},applyTranslation:function(a,b,c,d){var e,f=this.getAttrPointAtTime(a,b,this.defaults.position,b?b.autoRotation:!1);c.props.RawXPos=f.x,c.props.RawYPos=f.y,c.matrix.translate(f.x,f.y),b&&b.autoRotation&&(null==this.initRotation&&(0===a?this.initRotation=f.angle:this.initRotation=this.getAttrPointAtTime(0,b,this.defaults.position,b.autoRotation).angle),e=a>=b.duration+b.delay&&b.closedPath?0:f.angle-this.initRotation,c.matrix.rotate(e,0,0),c.props.Rotation=e)},applyScale:function(a,b,d,e){var f=this.getAttrPointAtTime(a,b,this.defaults.scale),g=this.view.animationOverride&&this.view.animationOverride.scale;d.props.ScaleX=f.x,d.props.ScaleY=f.y,null!=g?g(d.props):(d.matrix.rotate(-this.defaults.globalRotation.x,0,0),d.matrix.scale(c.pctToDec(f.x),c.pctToDec(f.y)),d.matrix.rotate(this.defaults.globalRotation.x,0,0))},applyRotation:function(a,b,c,d){var e=this.getAttrPointAtTime(a,b,this.defaults.rotation).x;d&&this.adjustRotateble(c.matrix),c.matrix.rotate(e,0,0),c.props.Rotation+=e},applyAlpha:function(a,b,d,e){if(b){var f=this.getAttrPointAtTime(a,b,this.defaults.alpha).x;d.style.opacity=c.pctToDec(f),d.props.Alpha=f}},getAttrPointAtTime:function(a,b,c,d){if(null==b)return c;var e,f=a-b.delay;return e=0===b.duration&&(0>f||0===f&&this.isReverse)?0:G(b.ease,f,b.duration),b.getPointAtTime(e,d)},applySkew:function(a,b,d,e){if(null!=b){var f=this.getAttrPointAtTime(a,b,{x:0,y:0}),g=D[b.corner],h=b.useGlobalAxes?{x:this.defaults.size.x*g.x,y:this.defaults.size.y*g.y}:{x:b.regPoint.x,y:b.regPoint.y},i=b.useGlobalAxes?this.defaults.globalRotation.x:0,j=b.getSecondaryPoint();h.x-=this.defaults.regPoint.x,h.y-=this.defaults.regPoint.y,d.matrix.rotate(-i,0,0),d.matrix.scale(c.pctToDec(j.x),c.pctToDec(j.y),h.x,h.y),d.matrix.skew(-f.x,f.y,h.x,h.y),d.matrix.rotate(i,0,0)}},applyColor:function(a,b,d,e){var f;b&&this.model.isSlide&&e&&(null==this.overlay&&this.createColorOverlay(),f=this.getAttrPointAtTime(a,b,0).x,this.overlay.style.opacity=c.pctToDec(f))},applyMask:function(a,b,d,e){if(null!=b&&e&&!this.model.isKind("video")){var f;if(x.isMobile&&-1!==E.indexOf(b.maskType))return!this.isReverse&&b.maskProps.isExit&&(a=this.duration-a,this.isReverse=!0),f=c.decToPct(this.getAttrPointAtTime(a,b,this.isReverse?1:0).x),d.style.opacity=c.pctToDec(f),void(d.props.Alpha=f);var g,h=this.getAttrPointAtTime(a,b,0).x;null==this.mask&&(null==B[b.maskType]&&(F("The mask type ",b.maskType," does not exist"),b.maskType="split"),this.createMask(b)),"full"===b.maskType&&(g=this.getTweenedConfig(this.duration,!1),this.ptFinal=this.ptFinal||g.matrix.transformPoint(0,0)),this.mask.animate(h,this.ptFinal,d.matrix.transformPoint(0,0)),H(this.maskedEl)}},createMask:function(a){var b=this.view.el.firstElementChild;this.marker=this.view.find(".marker-animation"),null!=this.marker&&this.marker.classList.add("hidden"),this.defaults.rotatedBounds=null!=this.view.getRotatedPixelBounds?this.view.getRotatedPixelBounds(this.defaults.globalRotation.x):{top:0,left:0,bottom:this.defaults.size.y,right:this.defaults.size.x},this.mask=new B[a.maskType](this.defaults,a.maskProps),this.maskedEl=e.hasClass(b,"slideobject-maskable")?b:this.view.el,this.maskedEl.style.WebkitClipPath=f.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=f.buildUrl(this.mask.maskId),this.maskedEl.style.willChange="contents"},tweenSecondary:function(a){var b,d=this.defaults.secondarySize,e=C[this.config.pushDir];b=f.transformTranslate(c.pxify(e.x*(d.x+a.RawXPos*e.x)),c.pxify(e.y*(d.y+a.RawYPos*e.y))),this.secondaryView.el.style.transform=b},createColorOverlay:function(){this.overlay=e.setAttributes(document.createElement("div"),{"class":"slide-overlay"}),e.setStyles(this.overlay,{width:c.pxify(this.defaults.size.x),height:c.pxify(this.defaults.size.y)}),this.view.el.appendChild(this.overlay)},kill:function(){null!=this.maskedEl&&(this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.maskedEl=null),null!=this.marker&&this.marker.classList.remove("hidden"),null!=this.mask&&(this.mask.destroy(),this.mask=null),null!=this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null)}}),I}),define("views/mixins/transitionableSlide",["require","lodash","react","react-dom","helpers/AnimationTimeline","views/helpers/TweenHelper","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=(a("react"),a("react-dom"),a("helpers/AnimationTimeline")),d=a("views/helpers/TweenHelper"),e=(a("helpers/svg/svgUtils"),a("polyfills/vendorOverrides"),a("helpers/pubSub")),f=1e3,g={getInitialState:function(){return{transitionDepth:0}},setPrevSlide:function(a){var b=a.props.model;this.prevSlide=a,b.slideLayers().pauseAll(!0),b.storeInteractionResults()},setTransparent:function(a){this.el.classList[a?"add":"remove"]("transparent")},componentDidMount:function(){this.transitionIsComplete=!1,this.completeHook=b.noop,null!=this.props.model.getTransitionAnimation()&&this.setTransparent(!0)},publishTransitionStarted:function(){e.trigger("slide:transitionStarted",this.transition.id,this.transition.duration())},transitionIn:function(a,b){var e,g=this;return this.completeHook=a,this.setTransparent(!1),this.transition=this.props.model.getTransitionAnimation(),e=this.transition&&this.transition.get("wipeTrans"),b||null==this.transition||e&&!this.prevSlide?void this.transitionComplete():(this.publishTransitionStarted(),e&&(this.prevSlide.killPinchZoom(),g=this.prevSlide,this.prevSlide.setState({transitionDepth:++f})),this.transitionTimeline=new c({tweens:[new d(g,!1,this.transition.getConfig(),this.prevSlide)],onComplete:this.onTransitionComplete}),this.transitionTimeline.seek(0),void this.transitionTimeline.play())},seekTransition:function(a){this.transitionTimeline.seek(a,!1)},forceTransition:function(){!this.transitionIsComplete&&this.transition&&(this.transitionTimeline.progress(1,!0),this.transitionTimeline.kill(),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&(this.prevSlide.killSlide(),this.prevSlide=null)},transitionComplete:function(){null!=this.transitionTimeline&&this.transitionTimeline.kill(),this.transitionIsComplete=!0,this.killPrevSlide(),this.completeHook(),this.props.transitionComplete()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var a=this.previousHome;null!=a&&a.grandparent.appendChild(a.parent)}};return g}),define("helpers/audio/AudioClipBase",["require","lodash","backbone","polyfills/detection","helpers/errorManager","helpers/pubSub","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("polyfills/detection"),e=a("helpers/errorManager"),f=a("helpers/pubSub"),g=a("helpers/vow"),h=function(a){this.deferredOp=b.noop,this.dfd=g.Deferred(),this.dfd.done(function(){this.deferredOp(),this.deferredOp=b.noop}.bind(this)),this.dfd.fail(function(a){e.throwError("AudioClipBase","constructor",'could not load "',this.url,'" ',a)}.bind(this)),this.url=a,this.startAt=0,this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.onTimeUpdateDelegate=this.onTimeUpdate.bind(this),this.onVisibilityHiddenDelegate=this.onVisibilityHidden.bind(this),this.onVisibilityShownDelegate=this.onVisibilityShown.bind(this),this.initialize()};h.prepare=b.noop;var i=h.prototype;return b.extend(i,c.Events,{initialize:function(){f.on({"detection:visibilityhidden":this.onVisibilityHiddenDelegate,"detection:visibilityshown":this.onVisibilityShownDelegate})},onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger("audioClip:ended")},onTimeUpdate:function(a){this.isPlaying&&this.trigger("audioClip:timeUpdate",a)},onVisibilityHiddenMobile:function(){this.isPlaying&&(this.wasPlayingWhenVisible=!0,this.pause())},onVisibilityShownMobile:function(){this.wasPlayingWhenVisible&&(this.wasPlayingWhenVisible=!1,this.play())},doDeferredOp:function(a){g.isResolved(this.dfd)?a():this.deferredOp=a},play:function(a){return null!=a&&(this.startAt=a),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(a){return this.startAt=a,this.isPlaying&&this.play(),this},destroy:function(){return f.off({"detection:visibilityhidden":this.onVisibilityHiddenDelegate,"detection:visibilityshown":this.onVisibilityShownDelegate}),this}}),b.extend(i,{onVisibilityHidden:d.isMobile?i.onVisibilityHiddenMobile:b.noop,onVisibilityShown:d.isMobile?i.onVisibilityShownMobile:b.noop}),h}),define("helpers/audio/AudioClipApi",["require","lodash","external/superagent","helpers/audio/AudioClipBase","polyfills/audioContext","helpers/vow","helpers/utils","polyfills/detection","polyfills/vendorOverrides"],function(a){"use strict";var b,c,d=a("lodash"),e=a("external/superagent"),f=a("helpers/audio/AudioClipBase"),g=a("polyfills/audioContext"),h=(a("helpers/vow"),a("helpers/utils")),i=a("polyfills/detection"),j=a("polyfills/vendorOverrides"),k=3e4,l=250,m=h.createSuper(f),n={},o={},p=function(){null==c&&(c=g&&new g,c.onstatechange=function(){null!=c&&"suspended"===c.state&&c.resume()}),null!=b&&(clearTimeout(b),b=null)},q=j.destroyAudioContext||function(){null!=b&&clearTimeout(b),b=setTimeout(function(){c.close(),c=null},k)},r=function(){f.apply(this,arguments)};d.extend(r,f,{context:function(){return p(),c},prepare:function(){this.playInaudibleBeep()},playInaudibleBeep:function(){var a=new s,b=a.destroy.bind(a);a.play(),i.isAndroid?setTimeout(b,30):b()}}),r.prototype=new f,d.extend(r.prototype,{constructor:r,initialize:function(){m("initialize").apply(this,arguments),this.contextStartTime=0,this.dfd.fail(function(){delete n[this.url]}.bind(this))},load:function(){return n.hasOwnProperty(this.url)?(this.buffer=n[this.url],this.dfd.resolve()):e.get(this.url).on("request",function(){this.xhr.responseType="arraybuffer"}).end(function(a,b){return a?void this.dfd.reject(a):void this.decode(b.xhr.response)}.bind(this)),this},decode:function(a){r.context().decodeAudioData(a,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(a){a?(n[this.url]=this.buffer=a,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},onEnded:function(){this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),m("onEnded").apply(this,arguments)},createGain:function(){var a=r.context();this.gainNode=a.createGain(),this.gainNode.connect(a.destination),this.gainNode.gain.value=this.volume},destroyGain:function(){null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null)},createSource:function(){var a=r.context();this.source=a.createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode)},destroySource:function(){if(null!=this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(a){}this.source.disconnect(),this.source=null}},clearTimeUpdateInterval:function(){clearInterval(this.timeUpdateTimeoutHandle)},startTimeUpdateInterval:function(){this.clearTimeUpdateInterval(),this.timeUpdateTimeoutHandle=setInterval(function(){this.onTimeUpdateDelegate(this.getCurrentTime())}.bind(this),l)},deferredPlay:function(){var a=r.context();this.destroySource(),this.destroyGain(),this.startAt<this.getDuration()?(this.createGain(),this.createSource(),this.contextStartTime=a.currentTime,this.source.start(this.contextStartTime+Math.max(0,-this.startAt),Math.max(0,this.startAt)),this.startTimeUpdateInterval(),this.isPlaying=!0,this.markAsPlaying()):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.destroySource(),this.destroyGain(),this.isPlaying=!1,this.unmarkAsPlaying(),this.clearTimeUpdateInterval())},getCurrentTime:function(){if(!this.isPlaying)return this.startAt;var a=r.context().currentTime-this.contextStartTime+this.startAt;return a||0},getDuration:function(){return this.buffer.duration},setVolume:function(a){return this.volume=a,null!=this.gainNode&&(this.gainNode.gain.value=a),this},destroy:function(a){return null==a&&(a=!i.isMobile),this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),this.clearTimeUpdateInterval(),a||delete n[this.url],m("destroy").apply(this,arguments),this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=d.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),delete this.onEndedOnceDelegate},markAsPlaying:function(){o[this.url]=!0},unmarkAsPlaying:function(){delete o[this.url],0===Object.keys(o).length&&q()}});var s=function(){r.apply(this,arguments),this.url="#inaudible",this.volume=0,this.dfd.resolve()};return s.prototype=new r,d.extend(s.prototype,{constructor:s,createSource:function(){var a=r.context();this.source=a.createOscillator(),this.source.type="sine",this.source.frequency.value=22e3,this.source.connect(this.gainNode)},getDuration:function(){return 1/0}}),r}),define("helpers/audio/AudioClipElement",["require","lodash","helpers/audio/AudioClipBase","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/audio/AudioClipBase"),d=a("helpers/utils"),e=d.createSuper(c),f=document.body,g={},h=function(){c.apply(this,arguments)};return b.extend(h,c),h.prototype=new c,b.extend(h.prototype,{constructor:h,initialize:function(){e("initialize").apply(this,arguments),this.dfd.fail(function(){delete g[this.url]}.bind(this)),this.playTimeout=null,this.updateTimeDelegate=this.updateTime.bind(this)},onEnded:function(){this.startTime=this.getDuration(),e("onEnded").call(this,arguments)},updateTime:function(a){this.onTimeUpdateDelegate(a.target.currentTime)},load:function(){return null==g[this.url]?(this.el=new window.Audio,this.el.setAttribute("preload","auto"),this.el.src=this.url,f.appendChild(this.el),this.el.load(),g[this.url]=this.el):(this.el=g[this.url],this.el.readyState>=this.el.HAVE_ENOUGH_DATA&&this.dfd.resolve()),this.el.addEventListener("canplaythrough",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),this.el.addEventListener("timeupdate",this.updateTimeDelegate),this},deferredPlay:function(){var a=this.el.play.bind(this.el);this.clearPlayTimeout(),this.startAt<this.getDuration()?(this.startAt<0?(this.negative=!0,this.el.pause(),this.setCurrentTime(0),this.playTimeout=setTimeout(a,d.toMilliseconds(-this.startAt))):(this.negative=!1,this.setCurrentTime(this.startAt),a()),this.performanceStartTime=(new Date).getTime(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.isPlaying&&(this.clearPlayTimeout(),0===this.el.currentTime&&this.negative?this.startAt=d.toSeconds((new Date).getTime()-this.performanceStartTime)+this.startAt:this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1)},getDuration:function(){return this.el.duration},setVolume:function(a){return this.el.volume=a,this},setCurrentTime:function(a){this.el.currentTime!==a&&(this.el.currentTime=a)},destroy:function(a){return this.clearPlayTimeout(),null!=this.el&&(this.el.removeEventListener("canplaythrough",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),this.el.removeEventListener("timeupdate",this.updateTimeDelegate),a||(f.removeChild(this.el),delete g[this.url])),e("destroy").apply(this,arguments),this},clearPlayTimeout:function(){clearTimeout(this.playTimeout),this.playTimeout=null}}),h}),define("helpers/audio/audioManager",["require","helpers/audio/AudioClipApi","helpers/audio/AudioClipElement","polyfills/detection"],function(a){"use strict";var b=a("helpers/audio/AudioClipApi"),c=a("helpers/audio/AudioClipElement"),d=a("polyfills/detection"),e=function(){return d.hasAudioApi()?b:c},f={prepare:function(){var a=e();a.prepare()},loadUrl:function(a){var b=e(),c=new b(a);return c.load(),c}};return f}),define("helpers/MediaLoader",["require","lodash","backbone","helpers/vow","helpers/errorManager","helpers/utils","polyfills/detection"],function(a){"use strict";var b=(a("lodash"),a("backbone")),c=a("helpers/vow"),d=a("helpers/errorManager"),e=a("helpers/utils"),f=a("polyfills/detection"),g=d.throwError("MediaLoader"),h=(e.createSuper(b.View),(new c.Deferred).resolve().promise()),i=b.View.extend({events:{load:"onLoad",canplay:"onCanPlay",error:"onError"},retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:function(){return!!this.el.load},initialize:function(a){a&&a.url||g("initialize","Must provide a `url` option"),a&&a.type||g("initialize","Must provide a `type` option"),null!=a.retries&&(this.retries=a.retries),null!=a.retryTimeout&&(this.retryTimeout=a.retryTimeout),this.failuresCount=0,this.url=a.url,this.type=a.type,this.createDeferred().createElement(),a.autoload&&this.load()},createDeferred:function(){var a=new c.Deferred;return Object.defineProperties(this,{dfd:{value:a},promise:{value:a.promise()}}),this},createElement:function(){return this.setElement(document.createElement(this.type)),this},load:function(){return this[f.isIOS()&&this.isMediaElement()?"loadSync":"loadAsync"]()},loadSync:function(){return this.failuresCount>0?this.loadAsync():(h.always(this.loadAsync.bind(this)),h=this.promise),this.promise},loadAsync:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.src=this.url,this.isMediaElement()&&this.loadMediaElement()),this.promise},loadMediaElement:function(){this.el.load()},clearMediaElement:function(){this.el.src=""},retry:function(){return this.failuresCount++,setTimeout(function(){return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries},state:function(){return this.promise.state()},isPending:function(){return"pending"===this.state()},isLoaded:function(){return"resolved"===this.state()},isErrored:function(){return"rejected"===this.state()},onLoad:function(a){this.isMediaElement()||this.dfd.resolve()},onCanPlay:function(){this.dfd.resolve()},onError:function(a){this.shouldRetry()?this.retry():this.dfd.reject("Could not load media "+this.url)},teardown:function(){this.isMediaElement()&&this.clearMediaElement(),this.remove()}});return i}),define("helpers/AudioLoader",["require","helpers/audio/audioManager","polyfills/detection","helpers/MediaLoader","helpers/utils"],function(a){"use strict";var b=a("helpers/audio/audioManager"),c=(a("polyfills/detection"),a("helpers/MediaLoader")),d=a("helpers/utils"),e=(d.createSuper(c),c.extend({createElement:function(){return this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=b.loadUrl(this.url),this.audioClip.dfd.promise().done(this.dfd.resolve).fail(this.dfd.reject)),this.promise},teardown:function(){this.audioClip&&this.audioClip.destroy(!0),this.remove()}}));return e}),define("helpers/globalAudioManager",["require","helpers/assetManager","helpers/appState","helpers/pubSub","helpers/audio/audioManager","helpers/vow","lodash","helpers/AudioLoader"],function(a){"use strict";var b,c=a("helpers/assetManager"),d=a("helpers/appState"),e=a("helpers/pubSub"),f=a("helpers/audio/audioManager"),g=a("helpers/vow"),h=a("lodash"),i=a("helpers/AudioLoader"),j={},k=function(a){var b=a.props.model;b.getScene().isMessageScene()||(h.isEmpty(b.get("globalAudioId"))?q.stop():q.play(b.get("globalAudioId")))},l=function(a){b=a,e.on("slide:hasMounted",k)},m=function(a,b){j.setVolume(b)},n=function(){null!=j.url&&(d.off("change:currentVolume",m),j.destroy(),j={})},o=function(a){var e=b.find(function(b){return b.get("id")===a}),g=c.getAssetUrl(e.get("assetId"));g!==j.url&&(q.stop(),j=f.loadUrl(g),d.on("change:currentVolume",m),j.setVolume(d.currentVolume()),j.play())},p=function(a){var d,e,f;return h.isEmpty(a)?(new g.Deferred).resolve().promise():(e=b.find(function(b){return b.get("id")===a}),f=c.getAssetUrl(e.get("assetId")),f!==j.url?(d=new i({type:"audio",url:f,autoload:!0}),d.promise.always(d.teardown.bind(d))):void 0)},q={initialize:l,play:o,stop:n,load:p};return q}),define("views/presentation/Slide",["require","lodash","helpers/pubSub","helpers/keyManager","react","views/mixins/propertizable","views/mixins/mouseable","views/mixins/zoompanable","views/mixins/pinchzoomable","views/mixins/swipeable","views/mixins/baseView","views/mixins/transitionableSlide","helpers/resolver","helpers/utils","helpers/windowManager","helpers/globalAudioManager","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("helpers/keyManager"),e=a("react"),f=a("views/mixins/propertizable"),g=a("views/mixins/mouseable"),h=a("views/mixins/zoompanable"),i=a("views/mixins/pinchzoomable"),j=a("views/mixins/swipeable"),k=a("views/mixins/baseView"),l=a("views/mixins/transitionableSlide"),m=a("helpers/resolver"),n=a("helpers/utils"),o=a("helpers/windowManager"),p=(a("helpers/globalAudioManager"),a("polyfills/detection")),q=function(a,c,d){d.executeFilteredPlayerEvent(function(a){return b(a.objects).pluck("value").map(m.splitPath).map(b.last).intersection(c).isEmpty()},a)},r=e.createClass({displayName:"Slide",mixins:[k,f,g,l,h,i,j],getDefaultProps:function(){return{onSlideStarted:b.noop}},componentWillMount:function(){var a=this.props.model;a.destroyed=!1,a.getVariableChangeSubscriptions();var c=a.getSlideDraw(),e=o.getCurrentWindow();null!=c&&this.listenTo(c,"slidedraw:exit",this.onSlideDrawExit),null==this.props.slideFrame&&d.clearSlide(this,e.isMainWindow?null:e.props.model.absoluteId),this.mouseX=0,this.mouseY=0,a.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=b.memoize(this.getSlideObjectViews)},componentDidMount:function(){var a=this.props.model;a.applyResumeData(),d.onBuildComplete(),this.registerEvent("clickoutsideobjects",function(a){this.triggerClickOutside("on"+a.type,a.data)}.bind(this)),a.interactions().invoke("updateInitialAttemptCount"),a.setAsViewed(),this.htmlReady(this.whenHtmlReady),this.updateWindowId(),c.trigger("slide:hasMounted",this)},componentWillUpdate:function(a,b){b.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},whenHtmlReady:function(){var a=this.props.model,b=a.getBaseLayer(),d=this.swipe.wasSwiped();null!=this.prevSlide&&this.prevSlide.props.model.executePlayerEvent("ontransitionout"),b.timeline().pause(),a.executePlayerEvent("ontransitionin"),c.trigger("slide:ontransitionin",this.props.model),this.transitionIn(function(){a.executePlayerEvent("ontransitionincomplete"),null==this.props.slideFrame&&b.isTimelineLayerPlayable()&&!a.pauseForResume&&b.resumeTimeline(),a.pauseForResume=!1,c.trigger("preview:notify","PREVIEW_SLIDE_IN_COMPLETE",a.absoluteId),a.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this),d),p.isMobile?setTimeout(function(){window.requestAnimationFrame(function(){c.trigger("loader:hide")})},60):c.trigger("loader:hide")},componentWillUnmount:function(){var a=this.props.model;a.destroyed=!0,a.removeVariableChangeSubscriptions(),this.props.model.prepareResumeData()},updateWindowId:function(a){this.props.model.windowId=a||this.props.slideContainer&&this.props.slideContainer.props.windowId},triggerClickOutside:function(a,c){var d=this.props.model,e=b.partial(q,a,c);e(d),d.slideLayers().forEach(e)},onStoreMouseLoc:function(a){var b=this.el.getBoundingClientRect(),c=a.pageX-b.left,d=a.pageY-b.top,e=this.slideScale?n.invertPercent(this.slideScale)+1:1;this.mouseX=c*e,this.mouseY=d*e},calcMouseLoc:function(a,b){var c=this.el.getBoundingClientRect(),d=a-c.left,e=b-c.top,f=this.props.model.calculateTotalScale();return{x:d*f,y:e*f,slideRect:c,scale:f}},onStoreTouchLoc:function(a){1===a.touches.length&&this.onStoreMouseLoc(a.touches[0])},publishSlideStarted:function(){this.props.model.trigger("started"),c.trigger("slide:started",n.stripPlayer(this.props.model.absoluteId)),this.props.onSlideStarted()},onCtxMenu:function(a){a.preventDefault()},getSlideObjectViews:function(a,b){a=a||"",b=b||0;var c,d;return c=this.refs["layer"+b],d=c.findAllComponents("SlideObject"),""!==a?d.filter(function(b){return b.props.model.kind()===a}):d},onSlideDrawExit:function(){this.props.model.storeInteractionResults()},killSlide:function(){null!=this.props.killSlide&&this.props.killSlide()}});return r}),define("views/presentation/SlideContainer",["require","lodash","react","react-dom","helpers/vow","views/mixins/baseView","views/presentation/Slide","views/helpers/dom","polyfills/detection","helpers/constants","helpers/utils","helpers/pubSub","helpers/keyManager","helpers/captionsManager","views/player/mixins/appStateable","helpers/slideObjectUtils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=(a("react-dom"),a("helpers/vow")),e=a("views/mixins/baseView"),f=(a("views/presentation/Slide"),a("views/helpers/dom"),a("polyfills/detection")),g=a("helpers/constants"),h=a("helpers/utils"),i=a("helpers/pubSub"),j=(a("helpers/keyManager"),a("helpers/captionsManager"),a("views/player/mixins/appStateable")),k=a("helpers/slideObjectUtils"),l=function(a){var b=a[0],c=a[1];return b>c?"50%":h.pxify(h.fix((b+Math.max(0,c-b))/2,2))},m=c.createClass({displayName:"SlideContainer",mixins:[e,j],subscriptions:{"mobileStartOverlay:thumbView":"onEnterThumbView","mobileStartOverlay:exitThumbView":"onExitThumbView"},getDefaultProps:function(){return{onPinchZoom:b.noop}},getInitialState:function(){return{slides:[],loadContainerStyleAttr:{}}},componentWillMount:function(){this.firstLoad=!0},componentDidMount:function(){this.thumbView=!1,window.addEventListener("resize",this.onResize)},onResize:function(){null!=this.curSlide&&this.positionSlide(this.curSlide)},onEnterThumbView:function(){this.thumbView=!0,this.positionSlide(this.curSlide)},onExitThumbView:function(){this.thumbView=!1,this.positionSlide(this.curSlide)},addSlideEvents:function(a){return a.on("pinchzoom",this.onPinchZoom),this},removeSlideEvents:function(a){return a.off("pinchzoom",this.onPinchZoom),this},componentWillUpdate:function(a){a.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.slideScale=a.scale,this.updateInnerSlides(a.currentSlide))},componentDidUpdate:function(a,c){var d,e=["xOff","yOff","scale"];if(b.isEqual(b.pick(c,e),b.pick(this.state,e))||i.trigger("slideContainer:positioned"),!b.isEqual(c.slides,this.state.slides)){if(b.intersection(Object.keys(this.refs),b.pluck(this.state.slides,"id")).length!==this.state.slides.length)return;d=0===this.state.slides.length?null:this.refs[b.last(this.state.slides).id],d!==this.curSlide&&(this.prevSlide=this.curSlide,this.curSlide=d,null!=this.curSlide&&(this.curSlide.slideScale=this.slideScale,this.addSlideEvents(this.curSlide),this.positionSlide(this.curSlide),null!=this.prevSlide&&(this.removeSlideEvents(this.prevSlide),this.curSlide.setPrevSlide(this.prevSlide)),this.curSlideDfd.resolve(this.curSlide)))}},stateableValuesUpdated:function(){this.htmlReady(this.onResize)},updateInnerSlides:function(a){return this.curSlideDfd=new d.Deferred,this.setState(function(c){return{slides:b(c.slides).without(a).push(a).value(),overflowHide:f.isMobile}}),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||new d.Deferred,this.curSlideDfd.promise()},rebuildCurSlide:function(){return this.updateInnerSlides(this.props.currentSlide),this},transitionComplete:function(){this.setState({overflowHide:!1}),this.firstLoad&&k.removeEngageBorder(),this.firstLoad=!1},killSlide:function(a){this.setState(function(c){return{slides:b.without(c.slides,a)}})},desktopPositionSlide:function(a){var b,c,d,e,f,g,i,j=a.props&&a.props.model;if(null!=j&&!j.getScene().isMessageScene()&&!this.props.lightboxed){b=this.el.parentNode,c=b.offsetWidth,d=b.offsetHeight,e=j.get("width"),f=j.get("height"),g=Math.min(c/e,d/f),i=Math.min(0,(c-e)/2);var k={xOff:h.fix(i,2),scale:h.fix(g,2),origin:[[c,e],[d,f]].map(l).join(" ")};this.setState(k),j.parentTransform=k}},mobilePositionSlide:function(a){if(!this.props.shouldScale||this.props.shouldScale()){var b,c,d,e,i,j,k,l,m,n,o,p,q=0,r=0,s=this.getWrapperDimensions(),t=s.width,u=s.height*f.heightScalar,v=this.props.windowType?this.props.windowType():null,w=this.props.hasUi&&!this.thumbView?g.MOBILE_UI_SIZE:0,x="resume-prompt-slide"===v?0:w;o=t>=u?x:0,p=u>t?x:0,b=t-o,c=u-p,i=a.props.model,d=i.get("width"),e=i.get("height"),j=b/d,k=c/e,m=d*j,n=e*j,n>c?(l=k,m=d*k):l=j,b>m&&(q=b/2-m/2),c>=n&&(r=c/2-n/2,q=0);var y={xOff:h.fix(q,2),yOff:h.fix(r,2),scale:h.fix(l,4)};this.setState(y),i.parentTransform=y}},onPinchZoom:function(){this.props.onPinchZoom()},getWrapperDimensions:function(){return null!=this.props.getWrapperDimensions?this.props.getWrapperDimensions():{width:document.body.clientWidth,height:document.body.clientHeight}},prepareToUpdateSlide:function(a){return this.isShowingMovedSlide=a,this},replaceSlideWith:function(a){return f.isMobile&&(a.killPinchZoom(),a.initPinchZoom(this.props.lightboxed?this:null)),a.props.slideContainer.killSlide(a.props.model),this.updateInnerSlides(a.props.model),this.props.lightboxed&&this.props.lightbox.updateSizeCalculations(a.props.model),this},setLoaderStyle:function(a){this.setState({loadContainerStyleAttr:a})}}),n=m.prototype;return n.positionSlide=n[f.isMobile?"mobilePositionSlide":"desktopPositionSlide"],m}),define("views/presentation/MainWindow",["require","lodash","react","views/mixins/baseView","helpers/pubSub","views/presentation/mixins/slideWindow","views/player/mixins/appStateable","views/presentation/SlideContainer"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("helpers/pubSub"),e=a("views/presentation/mixins/slideWindow"),f=a("views/player/mixins/appStateable");a("views/presentation/SlideContainer");var g=b.createClass({displayName:"MainWindow",mixins:[c,e,f],isMainWindow:!0,stateableValues:{submitall:void 0,volume:void 0,seekbar:void 0,pauseplay:void 0,replay:void 0,previous:void 0,next:void 0,submit:void 0,finish:void 0},hasBottomBar:function(){return this.props.player.controlOptions().bottomBarOptions().get("bottomBarEnabled")&&(this.state.stateable_submitall||this.state.stateable_volume||this.state.stateable_seekbar||this.state.stateable_pauseplay||this.state.stateable_replay||this.state.stateable_previous||this.state.stateable_next||this.state.stateable_submit||this.state.stateable_finish||this.props.player.controlOptions().controls().get("closed_captions")===!0)},getBackground:function(){var a=this.state.currentSlide;return null==a?null:a.get("slidewindowbg")},componentWillMount:function(){d.trigger("mainWindow:created",this)},componentWillUpdate:function(a,b){b.currentSlide&&(d.trigger("loader:mute"),d.trigger("mainWindow:slideChanged",b.currentSlide))}});return g}),define("views/player/mixins/sidebar",["require","lodash","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d={componentWillMount:function(){this.listenTo(c,"mainWindow:slideChanged",this.onSlideChanged)},onSlideChanged:function(a){var b=a.get("presenterRef"),c=b&&b.videodata;null!=b&&"none"!==b.id?this.setState({presenterId:b.id,presenterVideo:c}):this.setState({presenterId:void 0,presenterVideo:c})},hasPresenter:function(){return this.props.model.get("presenters")&&this.props.model.get("presenters").length&&this.state.presenterId},hasVideo:function(){return this.state.presenterVideo},getSlidePresenter:function(){var a=this.props.model.get("presenters");return b.findWhere(a,{id:this.state.presenterId})},getSlidePresenterVideo:function(){return this.state.presenterVideo}};return d}),define("views/player/Sidebar",["require","lodash","helpers/utils","views/helpers/dom","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides"],function(a){
"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("views/helpers/dom"),e=a("helpers/constants"),f=a("react"),g=a("views/mixins/baseView"),h=a("views/player/mixins/appStateable"),i=a("views/player/mixins/sidebar"),j=a("polyfills/vendorOverrides"),k=j.forceSingleRepaint||b.noop,l=function(a){return a.isLive=!1,a},m=function(a){return!a.outline.enabled&&!a.glossary&&!a.transcript},n=e.tabIndices.SIDEBAR,o=f.createClass({displayName:"Sidebar",mixins:[g,h,i],isSidebar:!0,setActiveState:function(a,c){if(c){b.findWhere(this.state.tabs,{name:a});this.setFirstTab()}},stateableValues:function(){return{logo:void 0,outline:b.partial(this.setActiveState,"outline"),glossary:b.partial(this.setActiveState,"glossary"),transcript:b.partial(this.setActiveState,"transcript")}},stateableValuesUpdated:function(a){var c;m(a)?(this.setState({activeTab:null}),a.logo||document.body.classList.add("no-sidebar")):(this.state.activeTab&&(c=a[this.state.activeTab.name],(c&&c===!0||b.result(c,"enabled"))&&this.setActiveTab(this.state.activeTab)),document.body.classList.remove("no-sidebar")),this.htmlReady(this.resizeTabs)},getTabbableItems:function(){var a,c,d=b.range(0,4),e=function(a,c,d){var e=this.refs[a+d];return null!=e&&c.push(b.assign(e,{idx:n++,indexGroupName:"SidebarTab"})),c},f=function(a,b,c){var d=this.refs[a+c];return null!=d&&d.focusObjects&&d.focusObjects.forEach(function(a){null!=a&&(a.indexGroupName="SidebarTab",b.push(a))}),b},g=e.bind(this,"sidebarTab");return c=d.reduce(g,[]),a=d.reduce(f.bind(this,"sidebarPanel"),[]),c.concat(a)},getInitialState:function(){return{activeTab:null,tabs:b.cloneDeep(this.props.model.getSidebar()).map(l)}},hasLogo:function(){return this.state.stateable_logo},logoUrl:function(){return c.resolveAssetUrl(this.getPath("props.model.controlOptions.sidebarOptions.html5_logo_url"))},componentDidMount:function(){this.setFirstTab(),this.afterHtmlReady(this.resizeTabs)},componentDidUpdate:function(){this.resizeTabs()},componentWillUpdate:function(a,b){b.activeTab!==this.state.activeTab&&this.setFirstTab(),k(this.el)},setFirstTab:function(){this.hasLiveTab()||this.setActiveTab(b.findWhere(this.state.tabs,{isLive:!0}))},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(a){a&&(a.isLive=!0),this.setState({activeTab:a})},resizeTabs:function(){d.resizeToFit(this.find(".tabs-wrap"),this.findAll(".tabs > .tab:not(.hidden)"),2)}});return o}),define("views/player/SlideLoaderOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("polyfills/detection"),f=200,g=0,h=e.isMobile?g:f,i=c.createClass({displayName:"SlideLoaderOverlay",mixins:[d],getInitialState:function(){return{showIndicator:!1}},componentWillMount:function(){this.spinnerTimeout=null},componentDidMount:function(){this.spinnerTimeout=setTimeout(b.partial(this.setState,{showIndicator:!0}).bind(this),h)},componentWillUnmount:function(){clearTimeout(this.spinnerTimeout)}});return i}),define("views/presentation/PopupWindow",["require","react","helpers/pubSub","lodash","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("helpers/pubSub"),d=a("lodash"),e=a("views/mixins/baseView"),f="B",g=b.createClass({displayName:"PopupWindow",subscriptions:{"popup:show":"onPopupShow","popup:toggle":"onPopupToggle","mainWindow:slideChanged":"onSlideChanged","keyManager:frameControlKey":"onFrameControlKey"},mixins:[e],getInitialState:function(){return{show:!1,presenter:{}}},onSlideChanged:function(a){var b=a.get("presenterRef");null!=b&&"none"!==b.id&&this.setState({presenter:d.findWhere(this.props.presenters,{id:b.id})})},onPopupShow:function(a){this.setState({show:!0})},onPopupToggle:function(){this.state.show?this.hidePopup():this.onPopupShow()},hidePopup:function(){c.trigger("popup:hide"),this.setState({show:!1})},closePopup:function(a){a.preventDefault(),this.hidePopup()},sendEmail:function(a){a.preventDefault();var b=this.state.presenter.email;c.trigger("popup:email",b)},hasEmail:function(){return this.state.presenter.email},onFrameControlKey:function(a){a[f]&&c.trigger("popup:toggle")}});return g}),define("views/presentation/SlideLockCursor",["require","react","views/mixins/baseView","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/resolver","polyfills/detection"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("views/helpers/dom"),e=a("helpers/utils"),f=a("helpers/svg/svgUtils"),g=(a("helpers/resolver"),a("polyfills/detection")),h=b.createClass({displayName:"SlideLockCursor",mixins:[c],subscriptions:{"slide:ontransitionin":"onSlideTransitionStarted"},getInitialState:function(){return{show:!1}},componentWillMount:function(){g.isMobile||document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){g.isMobile||document.body.removeEventListener("mousemove",this.onMouseMove)},isLockable:function(a){return d.hasClass(a,"slide-lockable")},onSlideTransitionStarted:function(a){this.currSlideLocked=a.get("slideLock"),this.currSlideLocked?(document.body.classList.add("curr-slide-locked"),g.isMobile||(this.hideInterval=window.setInterval(function(){var a;this.state.show||(a=document.elementFromPoint(d.mouseX,d.mouseY),this.onMouseMove({target:a,pageX:d.mouseX,pageY:d.mouseY}))}.bind(this),60))):(this.setState({show:!1}),document.body.classList.remove("curr-slide-locked"))},onMouseMove:function(a){clearInterval(this.hideInterval),this.currSlideLocked&&(d.hasClass(a.target,"slide-lockable")?this.setState({show:!0}):null!=d.closest(a.target,this.isLockable)?this.setState({show:!0}):this.setState({show:!1}),this.state.show&&(this.el.style[this.cssTransform]=f.transformTranslate(e.pxify(a.pageX),e.pxify(a.pageY))))}});return h}),define("polyfills/mobileChromeKiller",["require","lodash","polyfills/detection","helpers/pubSub","helpers/utils","helpers/windowManager","helpers/slideObjectUtils","views/helpers/dom","helpers/GsapTweenLite","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/detection"),d=a("helpers/pubSub"),e=a("helpers/utils"),f=a("helpers/windowManager"),g=a("helpers/slideObjectUtils"),h=a("views/helpers/dom"),i=a("helpers/GsapTweenLite"),j=a("helpers/constants"),k=88,l=75,m=2*l,n=function(){return window.self!==window.top},o=function(a){a&&(window.innerHeight<=j.MOBILE_WIDTH_MIN?a.style.bottom="":a.style.bottom="0")},p={doFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},styleIfExists:function(a,b,c){a&&(a.style[b]=c)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");"portrait"===c.orientation?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",e.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initMobilePreview:function(){setInterval(function(){o(document.querySelector(".relative-nav"))},100)},initAndroid:function(){var a=document.querySelector("body.is-mobile");this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),a.style.minHeight=c.smallestSide+"px",setInterval(function(){o(document.querySelector(".relative-nav"))},100)},initIOS:function(){var a,j,n,p,q,r=document.querySelector(".mobile-chrome-warning"),s=document.querySelector(".mobile-chrome-warning-bubble"),t=document.querySelector(".mobile-chrome-warning-btn"),u=document.querySelector("#preso"),v=0,w=!1;document.querySelector("body.is-mobile").style.height="120%",c.heightScalar=100/120,document.addEventListener("touchstart",function(){j=!0}),document.addEventListener("touchend",function(){j=!1}),d.once("slide:started",function(){var a;w&&(a=f.getCurrentWindow().getCurSlide(),a&&a.props.model.currentTimeline().pause())}),r.addEventListener("touchstart",function(){i.killTweensOf(s),i.killTweensOf(t),i.to(t,.05,{opacity:1,scaleX:.6,scaleY:.6}),i.to(s,.1,{opacity:1}),i.to(s,.3,{opacity:0,delay:3})}),setInterval(function(){var a,c=document.activeElement,e=document.querySelector(".relative-nav");o(e),(!c||"INPUT"!==c.tagName&&"TEXTAREA"!==c.tagName)&&(window.innerHeight<document.documentElement.clientHeight?("block"!==r.style.display&&"none"!==u.style.display&&(r.style.display="block",b.extend(u.style,{position:"absolute",left:"0px",top:"0px",zIndex:0}),i.killTweensOf(s),i.killTweensOf(t),i.set(s,{opacity:0}),i.to(s,1,{opacity:1}),i.to(s,.8,{opacity:0,delay:3}),i.to(t,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"Back.easeOut"}),a=f.getCurrentWindow().getCurSlide(),a?a.props.model.currentTimeline().pause():w=!0,n=!0,v=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||j||window.scrollTo(0,0)):"none"!==r.style.display&&"block"!==u.style.display&&(d.trigger("mobileChromeKiller:presentationVisible"),r.style.display="none",u.style.zIndex=null,a=f.getCurrentWindow().getCurSlide(),a&&a.props.model.currentTimeline().play(),n=!1))},100),window.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(function(){window.scrollTo(0,1)},30)}),document.body.addEventListener("touchstart",function(a){1===a.touches.length&&(p=a.touches[0].clientY),n&&(v=Math.abs(window.innerHeight-document.body.clientHeight))});var x=function(){if(n&&j){var a=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-v),b=a/k;r.style.opacity=1-b,r.style.height=e.pxify(l+m*b)}else j||(r.style.opacity=1,r.style.height="75px");window.requestAnimationFrame(x)};x(),document.body.addEventListener("touchmove",function(a){var b,c=!1,d=a.target,e=h.parentNodesOf(d,function(a){return g.isScrollable(a)});g.isScrollable(d)&&e.unshift(d),n||(c=!0,1===a.touches.length&&null!=p&&(b=a.touches[0].clientY,c=e.every(function(a){var c=0===a.scrollTop&&b>p,d=a.scrollTop+a.offsetHeight===a.scrollHeight&&p>b;return c||d}))),c&&a.preventDefault()}),document.body.addEventListener("touchend",function(){p=null}),document.documentElement.addEventListener("touchstart",function(a){1===a.touches.length&&(q?a.preventDefault():(q=!0,setTimeout(function(){q=!1},500)))})}};return n()?p.init=b.noop:c.isTablet?p.init=b.noop:c.isAndroid&&!c.is360?p.init=p.initAndroid:c.isIOS()&&c.iOSVersion()>=8?p.init=p.initIOS:c.isMobilePreview?p.init=p.initMobilePreview:p.init=b.noop,p}),define("views/player/MobileStartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/mobileChromeKiller","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("polyfills/mobileChromeKiller"),f=a("helpers/pubSub"),g=a("polyfills/detection"),h=a("polyfills/vendorOverrides"),i=null!=h.getAudioInitEvent?h.getAudioInitEvent:b.constant("touchstart"),j=c.createClass({displayName:"MobileStartOverlay",mixins:[d],subscriptions:{"mobileStart:requesting":"onMobileStart","presentation:exitFullscreen":"onExitFullScreen"},componentDidMount:function(){this.refs.playIcon.addEventListener(i(),this.onStart)},getInitialState:function(){return{visible:!1}},onExitFullScreen:function(){var a;g.is360&&g.isPhone&&(f.trigger("mobileStartOverlay:thumbView"),f.trigger("slide:pauseTimeline"),this.overlay=document.querySelector("#overlay-mobile"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=0),this.overlay.classList.add("opaque"),this.setState({visible:!0}),this.overlay.style.background="rgba(0, 0, 0, 0.5)",a=document.querySelector("body > .slide-loader"),null!=a&&a.parentNode.removeChild(a),this.restarted=!0)},onMobileStart:function(a){this.rejectDeferred=a,this.overlay=document.querySelector("#overlay-mobile"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onStart:function(){f.trigger("loader:unmute"),f.once("slide:started",function(){this.overlay.classList.remove("opaque")}.bind(this)),this.restarted?(f.trigger("mobileStartOverlay:exitThumbView"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=1),window.requestAnimationFrame(function(){this.overlay.classList.remove("opaque")}.bind(this))):(this.rejectDeferred(),e.init()),this.setState({visible:!1}),g.is360&&g.isPhone&&(f.trigger("presentation:enterFullscreen"),f.trigger("slide:playTimeline"))}});return j}),define("views/player/MobileDisabledOrientation",["require","lodash","react","views/mixins/baseView","polyfills/detection"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("polyfills/detection"),e=b.createClass({displayName:"MobileDisabledOrientation",mixins:[c],subscriptions:{"detection:orientationChange":"onOrientationChange"},stringTitles:{disabled_orientation:"disabled_orientation"},onOrientationChange:function(){this.setState({forceHide:d.forceHideOrientationWarning})}});return e}),define("views/player/mixins/fullScreenable",["require","polyfills/detection","helpers/pubSub"],function(a){"use strict";var b=a("polyfills/detection"),c=a("helpers/pubSub"),d={componentDidMount:function(){b.is360&&b.isTablet&&(this.toggleFullScreen=b.data360.toggleFullScreen,this.bodyUpdate())},componentWillUpdate:function(){b.is360&&b.isTablet&&(this.toggleFullScreen=b.data360.toggleFullScreen)},bodyUpdate:function(){var a=document.querySelector("body"),c=b.data360.toggleFullScreen?"add":"remove";a.classList[c]("fullscreen-360")},handleFullScreen:function(){this.toggleFullScreen?c.trigger("presentation:enterFullscreen"):c.trigger("presentation:exitFullscreen"),b.is360&&b.isTablet&&(this.toggleFullScreen=!this.toggleFullScreen,b.data360.toggleFullScreen=this.toggleFullScreen,this.bodyUpdate())}};return d}),define("views/player/PlaybackControls",["require","react","views/mixins/baseView","helpers/pubSub","helpers/windowManager","views/player/mixins/fullScreenable"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/pubSub"),e=a("helpers/windowManager"),f=a("views/player/mixins/fullScreenable"),g=b.createClass({displayName:"PlaybackControls",mixins:[c,f],getInitialState:function(){return{timeline:this.props.slide&&this.props.slide.currentTimeline()}},componentWillMount:function(){this.listenTo(this.props.slide,"change:currentTimeline",this.onTimelineChanged),this.listenTo(d,"timeline:currentTimeline",this.onTimelineForceChanged)},componentWillUpdate:function(a){a.slide!==this.props.slide&&(this.stopListening(),this.listenTo(a.slide,"change:currentTimeline",this.onTimelineChanged),this.onTimelineChanged(a.slide,a.slide.currentTimeline()))},changeTimeline:function(a){var b=e.getCurrentWindow();null!=b&&b.isMainWindow&&this.setState({timeline:a})},onTimelineChanged:function(a,b){this.changeTimeline(b)},onTimelineForceChanged:function(a){this.changeTimeline(a)}});return g}),define("views/player/VolumeControls",["require","react","react-dom","helpers/pubSub","helpers/constants","lodash","helpers/appState","views/mixins/baseView","views/mixins/mouseable","views/events/eventHelper"],function(a){"use strict";var b=a("react"),c=a("react-dom"),d=a("helpers/pubSub"),e=a("helpers/constants"),f=a("lodash"),g=a("helpers/appState"),h=a("views/mixins/baseView"),i=a("views/mixins/mouseable"),j=a("views/events/eventHelper"),k=b.createClass({displayName:"VolumeControls",mixins:[h,i],getTabbableItems:function(){return[f.assign(this,{idx:e.tabIndices.VOLUME,indexGroupName:"PlayerControlButton"})]},componentDidMount:function(){var a=this.find(".volume");this.registerEvent("releaseoutside",this.onHide,a),this.registerEvent("clickoutside",this.onHide,a),d.on("volume:changed",this.onChangeVol)},onChangeVol:function(a){this.setState({volumeStrength:a})},componentDidUpdate:function(a,b){var c=b.isOpen,d=this.state.isOpen;c!==d&&this.state.tabFocused&&this.stealFocus()},getInitialState:function(){return{isOpen:!1,volumeStrength:g.currentVolume()}},stringTitles:{volume:"acc_volume"},onHide:function(){this.hideSlider()},onClick:function(a){j.isSpacebarClick(a)||this.toggleSlider()},onInputChange:function(a){this.changeVolume(a.target.valueAsNumber)},showSlider:function(){this.setState({isOpen:!0})},hideSlider:function(){this.setState({isOpen:!1})},toggleSlider:function(){this.setState({isOpen:!this.state.isOpen})},changeVolume:function(a){d.trigger("volume:changed",a)},stealFocus:function(){var a=this.state.isOpen;this.setState({tabFocused:!0}),this.focusedEl=this.find(a?"input":"button"),this.focusedEl.focus()},releaseFocus:function(){this.setState({tabFocused:!1,isOpen:!1}),this.focusedEl.blur(),this.focusedEl=null},treeKeyCallback:function(a,b){var d=b?"stepDown":"stepUp",e=c.findDOMNode(this.refs.volumeRange);if(this.state.isOpen){try{e[d]()}catch(f){}return this.changeVolume(e.valueAsNumber),!0}return!1},actionKeyCallback:function(){this.showSlider()}});return k}),define("views/player/SlideRelatedActions",["require","react","views/mixins/baseView","helpers/constants"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/constants"),e=b.createClass({displayName:"SlideRelatedActions",mixins:[c],getChildProps:function(){return{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide,windowId:this.props.windowId||d.refs.FRAME,lightboxed:this.props.lightboxed}}});return e}),define("views/player/SubmitAllButton",["require","react","views/mixins/baseView","helpers/constants","lodash","views/helpers/dom","helpers/pubSub"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/constants"),e=a("lodash"),f=a("views/helpers/dom"),g=a("helpers/pubSub"),h=b.createClass({displayName:"SubmitAllButton",mixins:[c],stringTitles:{submitall:"submitall"},onTouchStart:function(a){f.tappedClass(a.currentTarget)},triggerSubmitAll:function(){this.props.slide.storeInteractionResults(),g.trigger("presentation:onobjectevent","submitall_pressed")},getTabbableItems:function(){var a=this.refs.btn;return a.dsFocusController=this,[e.assign(a,{idx:d.tabIndices.SUBMIT_ALL,indexGroupName:"SlideControlButton"})]},stealFocus:function(){this.refs.btn.focus()},releaseFocus:function(){this.refs.btn.blur()}});return h}),define("views/player/CaptionBtn",["require","react","helpers/pubSub","helpers/constants","helpers/captionsManager","lodash","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("helpers/pubSub"),d=a("helpers/constants"),e=a("helpers/captionsManager"),f=a("lodash"),g=a("views/mixins/baseView"),h=b.createClass({displayName:"CaptionBtn",mixins:[g],getInitialState:function(){return{enabled:e.isCaptionButtonToggled()}},componentWillMount:function(){c.on("captions:enabled",this.onCaptionsEnabled)},componentWillUnmount:function(){c.off("captions:enabled",this.onCaptionsEnabled)},onCaptionsEnabled:function(a){this.setState({enabled:a})},stringTitles:{caption:"acc_closed_captions"},getTabbableItems:function(){return[f.assign(this,{idx:d.tabIndices.CAPTIONS,indexGroupName:"PlayerControlButton"})]},toggleCaption:function(){c.trigger("captions:enable",!this.state.enabled)},actionKeyCallback:function(){return this.toggleCaption(),!0}});return h}),define("views/player/MobileSearchButton",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"MobileSearchButton",mixins:[c]});return d}),define("views/player/FullscreenBtn",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"FullscreenBtn",mixins:[c]});return d}),define("views/presentation/VectorText",["require","lodash","react","helpers/svg/svgUtils","views/mixins/baseView","polyfills/vendorOverrides"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("helpers/svg/svgUtils"),d=a("views/mixins/baseView"),e=(a("polyfills/vendorOverrides"),b.createClass({displayName:"VectorText",mixins:[d],getInitialState:function(){var a=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),b=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return{defaultCommandsetId:a,curCommandsetId:a,defaultPathLib:b,curPathLib:b}},renderAs:function(a,b){var c=b||this.defaultCommandsetId,d=a||this.defaultPathLib;this.setState({curCommandsetId:c,curPathLib:d})},onClickCallback:function(a){this.trigger("textHit",a)},getTransform:function(){return[c.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY),c.transformTranslate(this.props.originX,this.props.originY)].join(" ")}}));return e}),define("views/helpers/variableTextHelper",["require","lodash","helpers/resolver","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resolver"),d=a("helpers/utils"),e=/(%[^%^\^^\s]+%)/g,f=/\.\$/g,g=/^\$/,h=/%/g,i=/\s+$/g,j="\n",k=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}],l=function(a){return b.isNumber(a)?d.fix(a,2):a},m=function(a){var b=a.split(j);return b.map(function(a,c){return a.replace(i,"")+(c<b.length-1?j:"")}).join("")},n=function(a){return k.reduce(function(a,b){return a.replace(b.find,b.replace)},a)},o=function(a){var d=a.split("."),e=b.initial(d).join("."),f=b.last(d).replace(g,"");return function(a,b){var d=c.resolvePath(e,a).playerProps,g="change:"+f;return d.on(g,b),function(){d.off(g,b)}}},p=function(a){return function(b,c){return a.on("change",c),function(){a.off("change",c)}}},q=function(a,d){var e,g,i=a.replace(h,""),j=c.resolvePath(i,d,{optional:!0});return j||i.search(f)>-1?(c.isPropRef(i)?(e=function(a){return l(c.resolvePath(i,a))},g=o(i)):(e=function(){return l(j.value())},g=p(j)),{builder:e,on:g}):{builder:b.constant(a)}},r=function(a,c){if(null==a)return{updateString:b.constant(""),addListeners:b.noop};var d=a.split(e),f=[],g=[],h={};return d.forEach(function(a,d){var e,i;d%2===1?(e=q(a,c),i=e.on,f.push(e.builder),null!=i&&null==h[a]&&(h[a]=!0,g.push(i))):b.isEmpty(a)||f.push(b.constant(n(a)))}),{updateString:function(a){return m(f.map(function(b){return b(a)}).join(""))},addListeners:function(a,b){var c=g.map(function(c){return c(a,b)});return function(){c.forEach(function(a){a()})}}}},s={parseTemplate:r};return s}),define("views/presentation/VariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper","helpers/cssPrefix"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("react"),e=(a("backbone"),a("views/mixins/baseView")),f=a("views/helpers/dom"),g=(a("helpers/resolver"),a("helpers/svg/svgUtils")),h=a("views/helpers/variableTextHelper"),i=a("helpers/cssPrefix"),j=/<\/?html>/g,k=/font-family:(.*?);/g,l="font-family:$1, sans-serif;",m=20,n=i.kebabCase("transform"),o=i.kebabCase("transform-origin"),p={top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"},q=function(a){return p[a.get("valign")]},r=function(){var a=/^event:/;return function(b){return a.test((b.href||"").trim())}}(),s=function(a){return b.last((a||"").split(":"))},t=function(a){return f.closest(a.parentNode,function(a){return"p"===a.nodeName.toLowerCase()})},u=d.createClass({displayName:"VariableText",mixins:[e],initialVisibility:!1,getInitialState:function(){this.origTemplate=this.props.model.vartext();var a=h.parseTemplate(this.origTemplate);return this.listenToVarChanges=a.addListeners,this.updateVarText=a.updateString,{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){this.setState({valignClass:q(this.props.model)}),this.setupValues().checkShouldFitText().show()},componentWillMount:function(){this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(a,c){(a.isSlideObject||a.isSlideLayer)&&this.listenTo(a,{shown:b.partial(this.onAncestorShown,c),hidden:b.partial(this.onAncestorHidden,c)})}.bind(this))},componentDidUpdate:function(){this.setupValues().fitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(a){this.ancestors[a]=!0,this.checkShouldFitText()},onAncestorHidden:function(a){this.ancestors[a]=!1},setDefaultFont:function(a){return a.replace(k,l)},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font"),this.fonts.forEach(function(a){var b=t(a);a.setAttribute("data-original-size",a.style.fontSize),b.setAttribute("data-original-line-height",b.style.lineHeight)}),this},stripTags:function(a){return a.replace(j,"")},parseVars:function(){return this.setDefaultFont(this.updateVarText(this.props.model))},possibleHit:function(a){a.preventDefault();var b=f.closest(a.target,r);b&&this.trigger("textHit",s(b.href))},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState({embeddedTemplate:this.parseVars()})}.bind(this)),this},checkShouldFitText:function(){return this.ancestors.every(b.identity)&&this.fitText(),this},fitText:function(){var a=0,b=this.find(".textlib-inner"),c="foreignObject"===this.el.parentNode.tagName,d=this.props.model.width(),e=this.props.model.height(),f=function(){return a>m},h=function(){var a=this.getHeightAndWidth(this.fonts),b=a.width,c=a.height;return b>0&&(c>e||b>d)}.bind(this),i=function(){this.fonts.forEach(function(a){var b=parseInt(a.style.fontSize,10),c=t(a),d=parseFloat(c.style.lineHeight),e=d/b;a.style.fontSize=b-1+"px",c.style.lineHeight=(b-1)*e+"px"})}.bind(this),j=function(){for(;!f()&&h();)a++,i()};return this.fonts.forEach(function(a){var b=t(a);a.style.fontSize=a.getAttribute("data-original-size"),b.style.lineHeight=b.getAttribute("data-original-line-height")}),c&&(b.style[o]="",b.style[n]="translate(-50%, -50%)",this.el.parentNode.setAttribute("transform",g.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY))),j(),this},getInnerProps:function(){var a={};return a[this.cssTransformOrigin]=[c.pxify(this.props.originX),c.pxify(this.props.originY)].join(" "),a[this.cssTransform]=[g.transformRotate(this.props.rotDeg+"deg"),g.transformTranslate(c.pxify(this.props.originX),c.pxify(this.props.originY))].join(" "),a},getHeightAndWidth:function(a){var c=a.map(function(a){return a.getBoundingClientRect()}),d=this.props.model.getClosestAncestorByKind("slide").calculateTotalScale();return{height:(b.max(b.pluck(c,"bottom"))-b.min(b.pluck(c,"top")))*d,width:(b.max(b.pluck(c,"right"))-b.min(b.pluck(c,"left")))*d}}});return u}),define("helpers/svg/svgBuilder",["require","lodash","helpers/svg/svgUtils","helpers/utils","react","polyfills/vendorOverrides","views/presentation/VectorText","views/presentation/VariableText"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/utils"),e=a("react"),f=a("polyfills/vendorOverrides"),g=a("views/presentation/VectorText"),h=a("views/presentation/VariableText"),i={vectorText:g,variableText:h},j=function(a){return a.join("")},k={"xlink:href":"xlinkHref"},l=("image rect ellipse path".split(" "),function(a){return a?b.isString(a)?a:a.map(c.buildTransformFromConfigFn).join(" "):""}),m={transform:l,gradientTransform:l,patternTransform:l},n=function(a){return t(a)},o=function(a){return b.isArray(a)?a.join(","):a},p=function(a){return a.nodeType!==!1},q=function(a,c){return"text"===a&&"tspan"===b.get(c,"children[0].nodeType")},r=function(a,c){return q(a,c)&&d.hasArabicCharacters(b.get(c,"children[0].children[0]"))},s=function(a,c,d){var g,h,i=[],k=c.children,l="tspan"===a,m=0,n=l?j:b.identity;return null!=f.wrapTspan&&r(a,c)?f.wrapTspan(c,d,c.children[0]):(k&&(g=b.pick(d,"data-accepts"),i=k.filter(p).map(function(a,c){return"defs"===a.nodeType&&(m=1),t(b.defaults(a,g),c-m)})),h=n(i),null!=f.fixTspan&&l&&h.length>1&&(d=f.fixTspan(d,h)),e.createElement(a,d,h))},t=function(a,c){if(!p(a))return"";if(null==a.nodeType)return a;var e,f=i[a.nodeType]||a.nodeType,g=b.omit(a,"children","nodeType");return e=b.transform(g,function(a,b,c){-1===c.indexOf("data-")&&/-/g.test(c)&&(c=d.camelCaseAttr(c));var e=m[c]||o,f=k[c]||c;a[f]=e(b)},{}),"tspan"===f&&(e["aria-hidden"]=!0),null!=c&&(e.key="defs"===a.nodeType||null!=i[a.nodeType]?b.uniqueId("r-"):c),b.isString(f)||(e.ref=e.ref||e.key),s(f,a,e)};return{createSvg:n}}),define("helpers/svg/imageHelper",["require","lodash","helpers/svg/svgUtils","../assetManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("../assetManager"),e="animatedgif",f={IMAGE:"data-original-image"},g={findImage:function(a,c){var e=b.findWhere(a,{id:c[f.IMAGE]});return d.getAsset(e.assetId)},containsGif:function(a){return null!=a&&null!=b.find(a,function(a){var b=d.getAsset(a.assetId);return null!=b&&b.get("imageType")===e})},addImageAttrs:function(a,d){if(!c.isImageNode(a))return a;var f,h=g.findImage(d,a);return h.isValid()?(f=h.url(),h.get("imageType")===e&&(f=f+"?rs="+b.uniqueId("")),a["xlink:href"]=f,a.height=h.height(),a.width=h.width(),a.x+=h.get("mobiledx")||0,a.y+=h.get("mobiledy")||0,a):{nodeType:!1}}};return g.applyImagelib=b.partial(c.transformNodeConfig,g.addImageAttrs),g}),define("views/presentation/ObjectSlideBackground",["require","react","views/mixins/baseView","views/mixins/propertizable","helpers/svg/svgUtils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=(a("views/mixins/propertizable"),a("helpers/svg/svgUtils"),b.createClass({mixins:[c],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}}));return d}),define("helpers/svg/backgroundHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","views/presentation/ObjectSlideBackground"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("../assetManager"),a("views/presentation/ObjectSlideBackground")),e={BG_IMAGE:"data-slidefill"},f=function(a,b,f){if(!a[e.BG_IMAGE])return a;var g=["slide","bg",b.commandsetId].join("-"),h={nodeType:"g",children:[]};return h.children.skipTraversal=!0,a.fill=c.buildUrl(g),h.children.push({nodeType:d,id:g,model:f.props.model,playerProps:f.props.playerProps,patternTransform:a["data-stroke-sharpened"]?[c.buildTranslateConfig(-.5,-.5)]:""}),h.children.push(a),h},g={applySlideBackground:b.partial(c.transformNodeConfig,f)};return g}),define("helpers/svg/patternHelper",["require","lodash","helpers/svg/imageHelper","helpers/svg/svgUtils","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/imageHelper"),d=a("helpers/svg/svgUtils"),e=a("helpers/utils"),f=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],g=function(a){return d.isPatternNode(a)&&"image"===a["data-type"]},h={addPatternAttrs:function(a,f,i){if(!g(a))return a;var j,k=b.first(a.children.filter(d.isDefsNode)),l=b.first(k.children.filter(d.isImageNode)),m=a.children.filter(d.isUseNode),n=c.findImage(f,l),o=n.width(),p=n.height(),q=!l.preserveAspectRatio,r=b.partial(h.transformUseNode,o,p);return q?(a.width=o,a.height=p,m.forEach(r)):(j=Math.round(e.hypot(i.fullHeight,i.fullWidth)),a.height=j,a.width=j),a},transformUseNode:function(a,c,e,g){var h=b.findWhere(e.transform,{
type:"scale"}),i=h.args[0],j=h.args[1],k=f[g],l=k.x[i>0?"posMult":"negMult"]*a,m=k.y[j>0?"posMult":"negMult"]*c;e.transform=[d.transformTranslate(l,m),d.transformScale(i,j)].join(" ")}};return h.applyImagePatterns=b.partial(d.transformNodeConfig,h.addPatternAttrs),h}),define("helpers/svg/strokeHelper",["require","lodash","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=function(a){var b=a["stroke-width"];return b&&b%2!==0},e=function(a){return 0===a["stroke-width"]&&(a["stroke-width"]=1),d(a)&&(a["data-stroke-sharpened"]=!0,c.getTransformOf(a).unshift(c.buildTranslateConfig(.5,.5))),a},f={translateOddWidths:b.partial(c.transformNodeConfig,e)};return f}),define("helpers/svg/idHelper",["require","lodash","helpers/svg/svgUtils"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/svg/svgUtils"),e="uniqueDomId-",f=function(){b={}},g=function(a){var d=c.uniqueId(e);return b[a]=d,d},h=function(a){return a.id&&g(a.id),a};h.beforeStart=function(){f()},h.afterFinish=function(a){return JSON.parse(c.reduce(b,function(a,b,c){return a.replace(new RegExp(c,"g"),b)},JSON.stringify(a)))};var i={ensureIdsAreUnique:c.partial(d.transformNodeConfig,h)};return i}),define("helpers/svg/textHelper",["require","lodash","helpers/svg/svgUtils","helpers/errorManager","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/errorManager"),e=a("polyfills/vendorOverrides"),f=d.throwError("textHelper"),g=d.backtick,h="No text lib item with id of",i=e.moveVarTextOutOfSvg||b.identity,j=e.unwrapForeignObjectVarText||b.identity,k=function(a){return"text"===a["data-reference-type"]},l=function(a){return a["data-reference-id"]},m={vartext:function(a,b,c){b.index();return j({nodeType:"foreignObject",width:b.width()+a.x,height:b.height()+a.y,children:[{ref:"vtext",nodeType:"variableText",model:b,id:a.id,originX:a.x,originY:a.y,hasShadow:!!a["data-shadow"],rotDeg:a["data-rotation"]}]})},vectortext:function(a,b,c,d){return{nodeType:"vectorText",hasShadow:!!a["data-shadow"],rotDeg:a["data-rotation"],originX:a.x,originY:a.y,textLibItem:b}}},n=function(a,c,d,e){if(!k(a))return a;var i,j=l(a),n=c.get(j);return n||f("renderText",h,g(j)),(i=m[n.type()]||b.identity)(a,n,d,e)};n.afterFinish=i;var o,p={setSvgManager:function(a){o=a},applyTextLib:b.partial(c.transformNodeConfig,n)};return p}),define("helpers/svg/adornableHelper",["require","lodash","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d={ADORNMENT_TYPE:"data-adornment-type",IS_REFLECTION:"data-is-reflection-gradient"},e=function(a){return d.ADORNMENT_TYPE in a&&(a.ref=b.uniqueId("adornable"),a["data-transform"]=JSON.stringify(a.transform),a.transform=null),a},f=function(a){return a[d.IS_REFLECTION]===!0&&(a["data-rotation-offset"]=!0,a[d.IS_REFLECTION]=null),a},g=b.compose(e,f),h={decorateAdornables:b.partial(c.transformNodeConfig,g)};return h}),define("helpers/svg/svgManager",["require","lodash","models/BaseModel","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/svg/svgBuilder","helpers/svg/imageHelper","helpers/svg/backgroundHelper","helpers/svg/patternHelper","helpers/svg/strokeHelper","helpers/svg/idHelper","helpers/svg/textHelper","helpers/svg/adornableHelper"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("helpers/utils"),e=a("helpers/errorManager"),f=a("helpers/svg/svgUtils"),g=a("helpers/svg/svgBuilder"),h=a("helpers/svg/imageHelper"),i=a("helpers/svg/backgroundHelper"),j=a("helpers/svg/patternHelper"),k=a("helpers/svg/strokeHelper"),l=a("helpers/svg/idHelper"),m=a("helpers/svg/textHelper"),n=a("helpers/svg/adornableHelper"),o=e.throwError("SvgManager"),p=e.backtick,q=d.createSuper(c),r=c.extend({url:d.resolveDataUrl("paths"),getSvgNode:function(a,c){var d,e,o=this.get(a.libId,f.svgPrefix(a.commandsetId));return o=f.getFullSvgConfig(o,a.bounds,a.commandsetId),o=l.ensureIdsAreUnique(o),d=f.getDefsNode(o),o=n.decorateAdornables(o),a.imagelib&&(e=b.pick(a.bounds,"fullHeight","fullWidth"),o=h.applyImagelib(o,a.imagelib),o=j.applyImagePatterns(o,a.imagelib,e)),o=k.translateOddWidths(o,a),o=i.applySlideBackground(o,a,c),a.textLib&&!a.textLib.isEmpty()&&(o=m.applyTextLib(o,a.textLib,a.bounds,d)),g.createSvg(o)},getSvgFromData:function(a,c){var d=a.pick("imagelib","textLib");return s.getSvgNode(b.extend(d,{commandsetId:a.commandsetId(),libId:a.getPathLib(),bounds:a.getBounds()}),c)},createMask:function(a,b,c){var d,e,h=new window.DOMParser,i={top:0,left:0,width:0,height:0},j=f.getFullSvgConfig(a,i);return d=h.parseFromString(g.createSvg(j),"text/xml"),e=document.adoptNode(d.documentElement).firstChild,c.appendChild(e),e},get:function(a,b){var c,e=q("get").call(this,a);return e||o("get","tried calling for an undefined library",p(a)),c=e[b],c||o("get","tried calling for an undefined path id",p(b)),d.cloneDeeply(c)},getStringFromVectorText:function(a){var c=a.i,d=a.l,e=f.svgPrefix(c),g=s.get(d,e);return b.get(g,"children[0].children[0].children[0]")}}),s=new r;return m.setSvgManager(s),s}),define("views/presentation/VectorTextItem",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/svg/svgUtils","helpers/svg/svgManager","helpers/svg/svgBuilder"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("helpers/svg/svgUtils"),g=a("helpers/svg/svgManager"),h=a("helpers/svg/svgBuilder"),i=function(a){return a["font-family"]&&(a["font-family"]=e.doubleQuote(a["font-family"])),a},j=function(a){return f.isTspanNode(a)&&(a.children=a.children.map(function(a){return a.replace(/\s/g," ")})),a},k=c.createClass({displayName:"VectorTextItem",mixins:[d],addShadow:function(a){return this.props.isShadow&&f.isTspanNode(a)&&(a.filter="url(#text-shadow)",a.fill="rgba(0, 0, 0, 0.2)"),a},template:function(a){var c=f.svgPrefix(this.props.commandsetId),d=g.get(this.props.pathLib,c);return f.transformNodeConfig(b.compose(j,i,this.addShadow),d),h.createSvg(d)}});return k}),define("views/player/Icon",["require","react","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/utils"),e="Icon",f=function(a){return d.upperCaseFirst(a)+e},g=b.createClass({displayName:"Icon",mixins:[c],template:function(){var a=f(this.props.type);return this.getTemplateManager().getTemplate(a).bind(this)()}});return g}),define("views/presentation/DropListItem",["require","lodash","views/mixins/baseView","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=c.createClass({mixins:[b],displayName:"DropListItem",getInitialState:function(){return{hovered:!1,display:"none",selected:!1}},onClick:function(){this.props.selected(this.props.order)},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}});return d}),define("views/presentation/ScrollBar",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/utils","helpers/windowManager","views/helpers/dom","views/presentation/Slide"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("polyfills/detection"),f=a("helpers/utils"),g=a("helpers/windowManager"),h=a("views/helpers/dom"),i=(a("views/presentation/Slide"),c.createClass({displayName:"ScrollBar",mixins:[d],componentDidMount:function(){this.contentHeight=this.props.parent.contentheight(),this.closedHeight=this.props.closedHeight||0,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.scrollingArea.addEventListener("wheel",this.onWheel),e.isMobile||(this.scrollingArea.style.overflowY="hidden"),this.props.initSelf&&(this.update(),this.scrollingArea.addEventListener("scroll",this.update))},componentWillUnmount:function(){this.scrollingArea.removeEventListener("wheel",this.onWheel)},update:function(){if(!e.isIE()&&!this.scrollByButton){var a=this.refs.scrollBtn,b=(this.contentHeight,this.props.height),c=b/this.contentHeight*b,d=this.scrollingArea.scrollTop/(this.contentHeight-b);d=f.clamp(0,1,d),d*=1-c/b,a.style.height=f.pxify(c),a.style.top=f.decToPct(d,!0)}},getParentY:function(){var a=this.calcMouseLoc(0,this.props.parent.el.getBoundingClientRect().top);return a.y+this.closedHeight},onAutoScroll:function(a){h.hasClass(a.target,"scrollarea-btn")||(this.offY=parseFloat(this.refs.scrollBtn.style.height)/2,this.onDragBtn(a),this.onScrollBtnDown(a))},calcMouseLoc:function(a,b){return this.currentSlide||(this.currentSlide=g.getCurrentWindow().getCurSlide()),this.currentSlide.calcMouseLoc(a,b)},onScrollBtnDown:function(a){var b,c,d;e.isMobile?(document.body.addEventListener("touchmove",this.onDragBtn),document.body.addEventListener("touchend",this.onEndScrollDrag)):(document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)),b=a.touches&&1===a.touches.length?this.calcMouseLoc(a.touches[0].pageX,a.touches[0].pageY):this.calcMouseLoc(h.mouseX,h.mouseY),c=this.refs.scrollBtn.getBoundingClientRect(),d=(c.top-b.slideRect.top)*b.scale,this.offY=b.y-(d||0),this.scrollByButton=!0},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn),document.body.removeEventListener("touchend",this.onEndScrollDrag),document.body.removeEventListener("touchmove",this.onDragBtn),this.scrollingArea.removeEventListener("scroll",this.update)},onDragBtn:function(a){var b,c,d,e=this.refs.scrollBtn,g=this.props.height,i=parseFloat(e.style.height),j=g-i,k=this.scrollingArea.scrollHeight-g;c=a.touches&&1===a.touches.length?this.calcMouseLoc(a.touches[0].pageX,a.touches[0].pageY):this.calcMouseLoc(h.mouseX,h.mouseY),d=c.y-this.getParentY()-this.offY,b=f.clamp(0,1,d/j),e.style.top=f.decToPct(b*(1-i/g),!0),this.scrollingArea.scrollTop=k*b},constrainScroll:function(){var a=b.result(this,"props.parent.height",this.props.height);this.scrollingArea.scrollTop+a>this.props.parent.state.contentHeight&&(this.scrollingArea.scrollTop=this.props.parent.state.contentHeight-a)},onWheel:function(a){this.scrollingArea.scrollTop+=a.deltaY,this.constrainScroll(),this.update()}}));return i}),define("views/presentation/LinearBackgroundGradient",["require","react","views/mixins/baseView","helpers/utils","polyfills/vendorOverrides"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/utils"),e=a("polyfills/vendorOverrides"),f=b.createClass({displayName:"LinearBackgroundGradient",mixins:[c],fill:function(){return this.props.fill||this.props.model.background().fill},stopPct:function(a){return d.stopPct(a.stop)},stopProps:e.stopColorProps||function(a){return{stopColor:d.rgbify(a.rgb),stopOpacity:d.opacify(a.alpha)}}});return f}),define("views/helpers/dragAndDropHelper",["require","lodash","helpers/utils","helpers/svg/svgUtils","views/events/touchHelper","views/helpers/collisionHelper","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/svg/svgUtils"),e=a("views/events/touchHelper"),f=a("views/helpers/collisionHelper"),g=a("helpers/windowManager"),h="drag",i="drop",j=["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],k=b.reduce(j,function(a,c){return a["on"+c]=b.noop,a.setTargets=b.noop,a},{}),l=[],m=function(a,b){return a.left<b.right&&a.right>b.left&&a.top<b.bottom&&a.bottom>b.top},n=function(a,b){if(!m(a,b))return 0;var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left),f=Math.min(a.right,b.right),g=f-e,h=d-c;return g*h},o=function(a){return-a.getZIndex()},p=function(a,c){var d,e=a.el.getBoundingClientRect(),f=b.sortBy(c,o);return f.reduce(function(a,b,c){var g=f.slice(0,c).reduce(function(a,b){return a-n(e,b.getBounds())},n(e,b.getBounds()));return g>a?(d=b,g):a},0),d},q=function(a,c,d){this.view=a,this.el=d||a.el,this.params=b.defaults(c,k),this.currSlide=g.getCurrentWindowSlide(),b.bindAll(this),this.enable()};b.extend(q.prototype,{hasMoved:!1,x:0,y:0,unbindTouch:b.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=b.flow(e.on(this.el,"touchstart",this.onGrabTouch),e.on(this.el,"touchmove",this.onMoveTouch),e.on(this.el,"touchend",this.onReleaseTouch))},grab:function(a,b){var c=this.getPosition(),d=this.currSlide.calculateTotalScale();this.params.setTargets(),this.params.getPosition&&(c=this.params.getPosition(),c.dontScale||(c.x*=d,c.y*=d)),this.offsetX=c.x-a*d,this.offsetY=c.y-b*d,this.origPosX=c.x,this.origPosY=c.y,this.hasMoved=!1},contain:function(){if(null==this.dropTarget){var a=this.el.getBoundingClientRect(),d=this.params.containment.getBoundingClientRect(),e=b.result(this.view.props.model,"getCurrentStateMetrics",{strokewidth:0}),f=e.strokewidth/2,g=this.currSlide.calculateTotalScale();this.x=c.clamp(f,(d.width-a.width)*g-f,this.x),this.y=c.clamp(f,(d.height-a.height)*g-f,this.y)}},move:function(a,b){var e=this.dropTarget,g=this.currSlide.calculateTotalScale();this.x=a*g+this.offsetX,this.y=b*g+this.offsetY,this.el.style[this.view.cssTransform]=[d.transformTranslate(c.pxify(this.x),c.pxify(this.y)),d.transformRotate(this.view.state.Rotation+"deg"),d.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),this.dropTarget=this.getDropTarget(h),this.view.props.model.isCollideable&&f.performCollisionDetect(this.view,{RawXPos:this.x,RawYPos:this.y}),this.hasMoved||(this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!e||this.dropTarget&&e===this.dropTarget||this.params.ondropleave(this,e),this.dropTarget&&(e!==this.dropTarget&&this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.contain(),this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget(i),this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget))},onGrabMouse:function(a){this.isMousedDown||(this.isMousedDown=!0,this.grab(a.clientX,a.clientY),document.body.addEventListener("mousemove",this.onMoveMouse),document.body.addEventListener("mouseup",this.onReleaseMouse),a.preventDefault())},onGrabTouch:function(a){var b=a.changedTouches[0];this.touchId=b.identifier,this.grab(b.clientX,b.clientY),a.preventDefault()},onMoveMouse:function(a){this.move(a.clientX,a.clientY),a.preventDefault()},onMoveTouch:function(a){var b=a.changedTouches[0];this.touchId===b.identifier&&(this.move(b.clientX,b.clientY),a.preventDefault())},onReleaseMouse:function(a){this.isMousedDown=!1,this.release(),document.body.removeEventListener("mousemove",this.onMoveMouse),document.body.removeEventListener("mouseup",this.onReleaseMouse)},onReleaseTouch:function(a){this.release()},getDropTarget:function(a){return this.params.getDropTarget?this.params.getDropTarget(this,l,a):p(this,l,a)},getPosition:function(){return{x:this.x,y:this.y}}});var r=function(a,b){this.el=a,this.params=b,l.push(this)};return b.extend(r.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},getZIndex:function(){return parseInt(this.el.style.zIndex)},unregister:function(){b.remove(l,this)}}),{DraggableHelper:q,DroppableHelper:r,util:{areOverlapping:m,unionArea:n,getDropTargetByOverlap:p,sortByZIndexReverse:o,getRegisteredDroppables:function(){return l}}}}),define("views/presentation/decorators/Droppable",["require","lodash","backbone","views/helpers/dragAndDropHelper","views/helpers/collisionHelper","helpers/TransMatrix"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("views/helpers/dragAndDropHelper"),e=d.DroppableHelper,f=a("views/helpers/collisionHelper"),g=a("helpers/TransMatrix"),h=[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}],i=function(a){a.setToInitPosition().unParent()},j=function(a){this.view=a,this.model=this.view.props.model,this.dropChildren=[]};b.extend(j.prototype,c.Events,{componentDidMount:function(){var a=this.model;this.dragdropData=this.model.dragdrop(),this.bindDrop(),f.initSlideObject(a),this.model.collision.transMatrix=new g,this.view.htmlReady(f.calculateHitTest.bind(f,a,!1))},componentWillUnmount:function(){this.droppableHelper.unregister(),f.destroy(this.view),this.stopListening(this.model,"resume:reset",this.resetValues)},registerRelationship:function(a,b){return this.dropChildren[b]=a,this},getFromView:function(a,b){return b=b||this,b.view.getPlayerProp(a)},setOnView:function(a,b,c){c=c||this,c.view.setPlayerProp(a,b)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=h.slice()},setPositioningFns:function(){var a=this.dragdropData.droptype,c=k[a];b.extend(this,c)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},resetValues:function(){this.dropChildren=[]},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new e(this.view.el,{data:this,view:this.view}),this.resetQuadrants(),this.setPositioningFns(),this.listenTo(this.model,"resume:reset",this.resetValues)),this},onDragOver:function(a){this.canDropHere(a)&&this.addChild(a,!0)},onDropped:function(a){this.canDropHere(a)&&this.addChild(a)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=b.map(this.getDropChildren(),function(a){return a.getBounds()})},addChild:function(a,b){var c,d;this.isMultiDrop()||b||(this.getDropChildren().forEach(i.bind(this)),this.getDropChildren().length=0),c=this.getPlacementIndex(a),d=b?this.getDropChildren().slice():this.getDropChildren(),d.splice(c,0,a),this.reflow(d,c,b)},canDropHere:function(a){var c=b.partial(b.contains,this.dragdropData.dragdropids);return a.dragdropData.dragdropids.some(c)},removeDropChild:function(a){return b.remove(this.getDropChildren(),a),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var a=b.random(this.quadrants.length-1),c=this.quadrants.splice(a,1)[0];return this.quadrants.length||this.resetQuadrants(),c},getRandomStackPosition:function(a){var c=this.getDropQuadrant();return{x:this.getXPos()+this.dragdropData.snapx+b.random(this.dragdropData.dropoffsetx)*c.x-a.dragdropData.snapx,y:this.getYPos()+this.dragdropData.snapy+b.random(this.dragdropData.dropoffsety)*c.y-a.dragdropData.snapy}},resetChildrenDepths:function(){var a=this.getDepth();this.getDropChildren().forEach(function(b,c){b.setIndex(c),b.setDepth(a+c+1)})},getParents:function(){for(var a=[],b=this.view;b;)b.props.isInnard||a.push(b),b=b.props.parent;return a.reverse()},getXPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawXPos:this.getParents().reduce(function(a,b){return a+b.state.RawXPos},0)},getYPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawYPos:this.getParents().reduce(function(a,b){return a+b.state.RawYPos},0)},getDepth:function(){return this.model.parent.isKind("scrollarea")?this.view.state.depth:b.first(this.getParents()).state.depth}});var k={stackoffset:{getPlacementIndex:function(a){var b=this.getXPos()+this.dragdropData.snapx,c=this.getYPos()+this.dragdropData.snapy,d=a.getBounds(!0),e=Math.floor((d.left-b)/this.dragdropData.dropoffsetx)+1,f=Math.floor((d.top-c)/this.dragdropData.dropoffsety)+1,g=Math.min(e,f,this.positionSnapshot.length);return Math.max(0,g)},reflow:function(a,b,c){var d=this.getXPos()+this.dragdropData.snapx,e=this.getYPos()+this.dragdropData.snapy;(a||this.getDropChildren()).forEach(function(a,f){f>0&&(d+=this.dragdropData.dropoffsetx,e+=this.dragdropData.dropoffsety),c&&f===b||(a.setPosition(d,e),a.setIndex(f))}.bind(this))}},tile:{getPlacementIndex:function(a){for(var b=-1,c=a.getBounds(!0),d={x:Math.max(this.getXPos(),c.left+c.width/2),y:Math.max(this.getYPos(),c.top+c.height/2)};++b<this.positionSnapshot.length&&!(d.x<this.positionSnapshot[b].right&&d.y<this.positionSnapshot[b].bottom||d.y<this.positionSnapshot[b].top););return b},reflow:function(a,b,c){var d=this.getXPos(),e=this.getYPos(),f=d+this.dragdropData.snapx,g=e+this.dragdropData.snapy,h=f,i=g,j=f+this.getFromView("width")-this.dragdropData.dropoffsetx;(a||this.getDropChildren()).forEach(function(a,e,k){var l=this.getFromView("width",a),m=this.getFromView("height",a);e>0&&(f=h+this.dragdropData.dropoffsetx),h=f+l,h>j&&(f=d+this.dragdropData.snapx,h=f+l,g=i+this.dragdropData.dropoffsety),c&&e===b||(a.setPosition(f,g),a.setIndex(e)),i=Math.max(i,g+m)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return b.get(this,"positionSnapshot.length")||0},reflow:function(a,c,d){var e,f;return a=a||this.getDropChildren(),1===a.length?void(null==c?k.snap.reflow.call(this,a,0,!1):k.snap.reflow.call(this,a,c,d)):void(!d&&isFinite(c)&&(e=b.last(a),f=this.getRandomStackPosition(e),e.setPosition(f.x,f.y),e.setIndex(c)))}},snap:{getPlacementIndex:function(){return b.get(this,"positionSnapshot.length")||0},reflow:function(a,c,d){var e,f,g,h=this.getXPos(),i=this.getYPos(),j=h+this.dragdropData.snapx,k=i+this.dragdropData.snapy;!d&&isFinite(c)&&(g=b.last(a),e=g.dragdropData.snapx,f=g.dragdropData.snapy,g.setPosition(j-e,k-f),g.setIndex(c))}},free:{getPlacementIndex:function(){return b.get(this,"positionSnapshot.length")||0},reflow:b.noop}};return j}),define("views/presentation/decorators/Draggable",["require","lodash","backbone","views/presentation/decorators/Droppable","views/helpers/dragAndDropHelper","helpers/utils","views/helpers/dom","views/helpers/collisionHelper","helpers/windowManager","helpers/pubSub","helpers/TransMatrix"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=(a("views/presentation/decorators/Droppable"),a("views/helpers/dragAndDropHelper")),e=d.DraggableHelper,f=(a("helpers/utils"),a("views/helpers/dom")),g=a("views/helpers/collisionHelper"),h=(a("helpers/windowManager"),a("helpers/pubSub"),a("helpers/TransMatrix")),i="ondragstart",j="ondragend",k="ondragover",l="ondragout",m="ondragdisconnect",n="ondragconnect",o=1500,p=function(a,c,e,f){return d.util.getRegisteredDroppables().filter(function(d){var g=d.params.data,h=g.dragdropData&&g.dragdropData[f];return g.model!==c&&b.result(g,a)&&b.intersection(h,e).length})},q=function(a){this.view=a,this.model=this.view.props.model};return b.extend(q.prototype,c.Events,{componentWillMount:function(){var a=this.model;this.getEnabledDroppables=b.partial(p,"isDroppable",this.model),this.getEnabledDraggables=b.partial(p,"isHoverable",this.model),this.listenTo(this.model,"addanimationdata",this.addAnimationData),this.listenTo(this.model.getSlide(),"resume:applied",this.registerRelationship),g.initSlideObject(a),this.model.collision.transMatrix=new h,this.view.htmlReady(g.calculateHitTest.bind(g,a,!0))},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.parentShuffleGroup=f.closest(this.view.el,function(a){return a.classList.contains("slide-object-shufflegroup")})},getFromView:function(a,b){return b=b||this,b.view.getPlayerProp(a)},setOnView:function(a,b,c){c=c||this,c.view.setPlayerProp(a,b)},componentDidUpdate:function(a,b){var c=this.view.state.Enabled,d=b.Enabled;c!==d&&null!=this.draggableHelper&&this.draggableHelper[c?"enable":"disable"]()},componentWillUnmount:function(){g.destroy(this.view),this.stopListening(this.model,"addanimationdata",this.addAnimationData),this.stopListening(this.model.getSlide(),"resume:applied",this.registerRelationship)},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new e(this.view,this.getDraggableConfig()),this.view.state.Enabled||this.draggableHelper.disable()),this},getDraggableConfig:function(){var a;return b.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget","setTargets"),a={containment:f.closest(this.view.el,function(a){return a.classList.contains("slide")}),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget,setTargets:this.setTargets}},registerRelationship:function(){var a,b=this.model.prop("DragConnected"),c=this.model.prop("DropIndex");b&&(a=b.currView.decorators.droppable,this.dropParent=a.registerRelationship(this,c))},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(a,b){this.setOnView({RawXPos:a,RawYPos:b})},setToInitPosition:function(){return this.setPosition(this.view.getPlayerProp("ShuffleXPos"),this.view.getPlayerProp("ShuffleYPos")),this.setOnView({depth:this.view.getPlayerProp("InitDepth")}),this},setTargets:function(){var a=this.dragdropData.dragdropids,b=this.dragdropData.dragoverids;this.enabledDropTargets=this.getEnabledDroppables(a,"dragdropids"),this.enabledDragTargets=this.getEnabledDraggables(b,"dragoverids")},onDragStart:function(a,b){this.unParent(),this.setDepth(++o),this.model.executePlayerEvent(i)},onDragStop:function(a,b){this.model.executePlayerEvent(j),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||this.setPosition(a.x,a.y)},onDraggingOver:function(a,b){var c=b.params.data;c.onDragOver(this,a.x,a.y,!0)},onDropEnter:function(a,b){var c=b.params.data;this.setOnView("DragOverId",c.model.id),c.setOnView("DragOverId",this.model.id),c.onDragEnter(),this.model.executePlayerEvent(k),c.model.executePlayerEvent(k)},onDragOut:function(a,b){var c=b.params.data;this.setOnView("DragOverId",null),c.reflow(),this.model.executePlayerEvent(l),c.model.executePlayerEvent(l)},onDropped:function(a,b){var c=b.params.data,d=c.view.props.model.parent.isKind("scrollarea");c.onDropped(this,a.x,a.y),this.dropParent=c,this.setOnView("DropTargetId",c.model.id),this.setOnView("DragConnected",c.model),this.model.executePlayerEvent(n),d&&this.dropParent.view.el.parentNode.appendChild(this.view.el)},getDropTarget:function(a,c,e){var f,h=this.draggableHelper,i="drag"===e?this.enabledDragTargets:this.enabledDropTargets,j=(h.el.getBoundingClientRect(),b.sortBy(i,d.util.sortByZIndexReverse)),k={RawXPos:h.x,RawYPos:h.y};return h.view.props.model.forEachAncestor(function(a){return a.isSlideObject?(k.RawXPos-=a.prop("RawXPos"),void(k.RawYPos-=a.prop("RawYPos"))):!1}),j.reduce(function(a,b,c){var d=g.getOverlapArea(h.view,b.params.view,j.slice(0,c).map(function(a){return a.params.view}),k,null,!0);return d>a?(f=b,d):a},0),f},unParent:function(){var a=this.dropParent;return a&&(a.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent(m)),this},updateParentDepth:function(a){var b=this.parentShuffleGroup.querySelector(".group").childNodes.length;this.parentShuffleGroup.style.zIndex=a+b},setDepth:function(a){this.parentShuffleGroup&&this.updateParentDepth(a),this.setOnView("depth",a)},setIndex:function(a){this.setOnView("DropIndex",a)},getBounds:function(a){var b=a?this.getDraggingPosition():this.getPosition(),c=this.getFromView("width"),d=this.getFromView("height");return{left:b.x,top:b.y,right:b.x+c,bottom:b.y+d,width:c,height:d}},addAnimationData:function(a){a({RawXPos:this.getFromView("RawXPos"),RawYPos:this.getFromView("RawYPos")})}}),q}),define("models/presentation/Timeline",["require","lodash","helpers/AnimationTimeline","helpers/utils","helpers/actionManager","models/BaseModel","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/AnimationTimeline"),d=a("helpers/utils"),e=a("helpers/actionManager"),f=a("models/BaseModel"),g=a("helpers/resume/Chunk"),h={},i=f.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},initialize:function(){b.bindAll(this,"update","triggerPlaybackStateChange","onComplete"),this.timeline=new c({onUpdate:this.update,onComplete:this.onComplete}),this.labels=[],this.setUpTimelineDuration().setUpClamp().setupEvents().setRenderDirty()},setUpTimelineDuration:function(){return this.timeline.totalTime(this.duration()),this},setUpClamp:function(){return this.clampTime=b.partial(d.clamp,0,this.duration()||0),this},elapsedTime:function(){return this.timeline.time()},hasFinished:function(){return 1===this.timeline.progress()},hasStarted:function(){return this.timeline.progress()>0},update:function(){return this.trigger("tick",this.timeline.progress()),this},play:function(){return this.timeline.play(),this.render(),this.trigger("playing"),this},pause:function(a){return a||this.render(),this.timeline.pause(),this.trigger("paused"),this},render:function(){this.renderDirty&&(this.renderDirty=!1,this.seek(this.resetValue||0))},progress:function(a){return null==a?this.timeline.progress():void this.seek(Math.floor(a*this.duration()))},togglePlayback:function(){var a=this.isPlaying()&&!this.hasFinished()?"pause":"play";return this[a](),this},onSeekStart:function(){this.isSeeking||(this.trigger("seekStart",this.seekPlaybackState),this.seekPlaybackState=this.playbackState(),this.isSeeking=!0),this.pause(!0)},onSeekEnd:function(){this.trigger("seekEnd",this.seekPlaybackState),"playing"===this.seekPlaybackState?this.play():this.pause(),this.isSeeking=!1},seek:function(a){return a=this.clampTime(a),this.beforeSeekTime=this.elapsedTime(),this.trigger("beforeSeekUpdate"),this.timeline.reset(),this.timeline.seek(a),this.update(),this.trigger("afterSeekUpdate",a),this.lastSeekTime=a,this},reset:function(){return this.trigger("reset"),this},silentReset:function(){return this.timeline.seek(0,!0),this.timeline.pause(),this},isPlaying:function(){return this.timeline.isActive()},setupEvents:function(){var a=this.events();return null!=a&&a.forEach(function(a){var c=b.uniqueId("timeline-"),d=a.time;this.timeline.add(c,d),this.timeline.add(function(){this.triggerTimelineEvent(a,c)}.bind(this),c),this.labels.push(c),h[c]=this}.bind(this)),this},triggerTimelineEvent:function(a,b){var c={context:this.getClosestThisRef(),timelineLabel:b,isSeekAction:this.isSeeking,beforeSeekTime:this.beforeSeekTime||0,time:a.time,currentTime:this.elapsedTime()};e.executeActions(a.actions,c)},playbackState:function(){return this.hasFinished()?"ended":this.isPlaying()?"playing":"paused"},onComplete:function(){this.trigger("ended"),this.trigger("complete")},triggerPlaybackStateChange:function(){this.trigger(this.playbackState())},addChildTimeline:function(a,b){return this.timeline.add(a,b),this},removeChildTimeline:function(a){return this.timeline.remove(a),this},removeLabel:function(a){this.timeline.remove(a)},getResumeData:function(){return g.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0,this.setRenderDirty()},setResumeData:function(a){this.resetValue=g.fromSignedString64(a),this.setRenderDirty().pause()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this.setRenderDirty(),this},setRenderDirty:function(){return this.renderDirty=!0,this},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()},destroy:function(){this.labels.forEach(function(a){delete h[a]})}},{getTimelineFromLabel:function(a){return h[a]}});return i}),define("views/helpers/TweenableTimeline",["require","lodash","helpers/AnimationTimeline","backbone","models/presentation/Timeline"],function(a){
"use strict";var b=a("lodash"),c=(a("helpers/AnimationTimeline"),a("backbone")),d=a("models/presentation/Timeline"),e=function(a,b,c,e){this.view=a,this.timeline=b,this.timelineLabel=c,this.timelineControlled=null!=this.timelineLabel,this.layerTimeline=this.timelineControlled?d.getTimelineFromLabel(c):this.view.props.model.getLayer().timeline(),this.isHide=!!e,this.initialize()};return b.extend(e.prototype,c.Events,{playOnSeekEnd:!0,initialize:function(){this.addChildTimeline(),this.timelineControlled||this.listenTo(this.layerTimeline,{playing:this.playTimeline,paused:this.pauseTimeline,seekStart:this.onSeekStart,seekEnd:this.onSeekEnd})},addChildTimeline:function(){this.timelineControlled?this.layerTimeline.addChildTimeline(this.timeline,this.timelineLabel):(this.actionTimeline=this.timeline,this.actionTimeline.seek(0),this.actionTimeline.play())},removeChildTimeline:function(){this.timelineControlled?this.layerTimeline.removeChildTimeline(this.timeline):this.actionTimeline=null},pauseTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.pause()},playTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.play()},onSeekStart:function(){this.playOnSeekEnd=this.actionTimeline.isActive(),this.pauseTimeline()},onSeekEnd:function(){this.playOnSeekEnd&&this.playTimeline()},destroy:function(a){this.removeChildTimeline(),this.isHide?this.timeline.reset():a&&this.timeline.progress(1,!0),this.timeline.kill(),this.view.updateFromTween(),this.stopListening()}}),e}),define("views/presentation/decorators/Tweenable",["require","lodash","helpers/AnimationTimeline","backbone","views/helpers/collisionHelper","views/helpers/TweenableTimeline","views/helpers/TweenHelper","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/AnimationTimeline"),d=a("backbone"),e=a("views/helpers/collisionHelper"),f=a("views/helpers/TweenableTimeline"),g=a("views/helpers/TweenHelper"),h=(a("helpers/utils"),function(a){this.view=a,this.model=this.view.props.model});return b.extend(h.prototype,d.Events,{componentWillMount:function(){this.model.animations().isEmpty()||this.listenTo(this.model,{"showcustom hidecustom":this.showHideCustom,"action:exe_animation":this.animate,addanimationdata:this.addAnimationData,killAnimations:this.stopCurrentAnimation,hide:b.partial(this.stopCurrentAnimation,!0),clearAnimations:this.clearAnimations})},componentDidMount:function(){this.el=this.view.el},componentDidUpdate:function(){this.view.tweenedConfig&&(b.extend(this.el.style,this.view.tweenedConfig.style),null!=this.view.animationOverride&&this.view.animationOverride.update(this.view.tweenedConfig.props))},componentWillUnmount:function(){this.stopCurrentAnimation(!1),this.stopListening()},showHideCustom:function(a,b,c,d){this.playAnimation(c,b.timelineLabel,!1,d,!a)},animate:function(a,b){this.model.prop("TimelineControlled",null!=b.timelineLabel),this.playAnimation(this.model.animations().get(a.id),b.timelineLabel,a.reverse.value)},addAnimationData:function(a){a(null!=this.view.tweenedConfig?this.view.tweenedConfig.props:null)},clearAnimations:function(){this.stopCurrentAnimation(!1)},playAnimation:function(a,b,c,d,e){this.stopCurrentAnimation(!0);var g=this.createTimelineFor(a,c,d);this.tweenableTimeline=new f(this.view,g,b,e),this.view.setPlayerProp("Moved",null!=b)},createTimelineFor:function(a,b,d){var f=new c({tweens:[new g(this.view,b,a.getConfig())],onComplete:this.wrapCallback(d,a.id,b)});return f.onUpdate=function(){this.view.props.model.isCollideable&&e.performCollisionDetect(this.view),(this.model.isShapeMask||this.model.isShapeMasked)&&this.model.onTweenUpdate(this.view)}.bind(this),f},wrapCallback:function(a,b,c){return function(){var d=this.view.tweenedConfig?this.view.tweenedConfig.props:null;this.stopCurrentAnimation(!1),this.view.props.model.isCollideable&&e.performCollisionDetect(this.view,d,!0),null!=a&&a(),this.model.executeFilteredPlayerEvent(function(a){return a.id===b&&a.reverse===c?!0:void 0},"onanimationcomplete")}.bind(this)},stopCurrentAnimation:function(a){null!=this.tweenableTimeline&&(this.tweenableTimeline.destroy(a),this.tweenableTimeline=null,this.view.tweenedConfig=null)}}),h}),define("views/presentation/decorators/Slideable",["require","lodash","backbone","helpers/utils","helpers/resolver","helpers/actionManager","helpers/svg/svgUtils","views/helpers/dom","polyfills/detection","views/helpers/collisionHelper","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/utils"),e=a("helpers/resolver"),f=a("helpers/actionManager"),g=a("helpers/svg/svgUtils"),h=a("views/helpers/dom"),i=a("polyfills/detection"),j=a("views/helpers/collisionHelper"),k=a("helpers/windowManager"),l=function(a){var b=a.toString().split(".");return 2===b.length?Math.min(2,b[1].length):0},m=function(a){this.view=a,this.model=a.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return b.extend(m.prototype,c.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){b.bindAll(this,"onUpdateSlider","onBoundVariableChanged","onMouseEvent","onUpdateSliderMobile")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb(null,!0).addAccessibilityItems().updateAccessibilityText(),i.isMobile&&(this.currSlide=k.getCurrentWindowSlide())},onAfterShow:function(){this.updateSliderThumb(null,!0)},componentDidUpdate:function(){this.updateAccessibilityText()},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.addOrRemoveListeners(!1),this.parentEl.removeChild(this.rangeInput)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(a){this.adjustVarAction.value={type:"number",value:a},f.executeAction(this.adjustVarAction,{context:this.model})},transformValue:function(a){var b=this.invertedSlider?this.max+this.min-a:a;return d.fix(b,this.toFixedAmount)},setupSlider:function(){return this.dragpath=this.model.dragpath(),this.parentEl.style.pointerEvents="all",this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=l(this.dragpath.increment),this.boundVariable=e.resolvePath(this.dragpath.bindto),this},buildSlider:function(){var a,b=this.boundVariable.value();return this.rangeInput=document.createElement("input"),this.dragpath.startvalue>this.dragpath.endvalue?(this.min=this.dragpath.endvalue,this.max=this.dragpath.startvalue,this.invertedSlider=!0,b=this.transformValue(b)):(this.invertedSlider=!1,this.min=this.dragpath.startvalue,this.max=this.dragpath.endvalue),a={type:"range",value:b,step:this.dragpath.snap?this.dragpath.increment:0,min:this.min,max:this.max,"data-accepts":"events"},this.step=a.step,h.setAttributes(this.rangeInput,a),this.rangeInput.style.zIndex=this.zIndex,this.rangeInput.classList.add("slider"),this.parentEl.appendChild(this.rangeInput),i.isMobile&&(this.getTrackModel(),this.topParentView=this.view.props.parent.props.parent),this},getTrackModel:function(){this.trackModel=this.parentModel.objects().find(function(a){return a.id.indexOf("_track")>-1})},setupEvents:function(){return this.listenTo(this.parentModel.playerProps,"change:Enabled",function(a,b){this.rangeInput.disabled=!b}.bind(this)),this.eventType=this.dragpath.liveupdating?"input":"change",this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),this.addOrRemoveListeners(!0),this},addOrRemoveListeners:function(a){var b,c=a?"addEventListener":"removeEventListener";!i.isMobile||i.isMobilePreview?(this.rangeInput[c]("input",this.onUpdateSlider),this.rangeInput[c]("change",this.onUpdateSlider)):(b=this.parentEl.parentNode,this.parentEl.style.pointerEvents="none",b[c]("touchmove",this.onUpdateSliderMobile),b[c]("touchstart",this.onUpdateSliderMobile),b[c]("touchcancel",this.onUpdateSliderMobile),b[c]("touchend",this.onUpdateSliderMobile))},updateSliderThumb:function(a,b){a=a||this.transformValue(this.boundVariable.value());var c=d.clamp(this.min,this.max,a),e=(c-this.min)/this.totalRange;return b&&(this.rangeInput.value=c),this.view.setPlayerProp("RawXPos",e*this.maxX),this},onMouseEvent:function(a){this.parentModel.executePlayerEvent(this.eventMap[a.type])},onBoundVariableChanged:function(a,b,c){b=this.transformValue(parseFloat(b)),this.updateSliderThumb(b,!0)},onUpdateSliderMobile:function(a){var b,c,e,f,g,h,i;a.preventDefault(),"touchend"===a.type?this.onUpdateSlider({type:"change"}):a.touches&&1===a.touches.length&&(e=this.currSlide.calculateTotalScale(),i=this.view.getLayer().getBoundingClientRect(),c=j.slideObjectMouseLoc(this.topParentView,(a.touches[0].pageX+-i.left)*e,(a.touches[0].pageY+-i.top)*e,!0,!0),b=Math.min(Math.max(0,c.x/this.trackModel.width()),1),f=(this.totalRange+this.step)*b+this.min,h=!1,0>=f&&(f*=-1,h=!0),g=f-Math.abs(f%this.step)+Math.abs(this.step/2)+this.step/2,h&&(g*=-1),g=d.clamp(this.min,this.max+this.step,g)-this.step,this.rangeInput.value=g,this.onUpdateSlider({type:"input"}))},onUpdateSlider:function(a){var b=this.rangeInput.valueAsNumber;this.dragpath.liveupdating||"change"===a.type?this.adjustVariable(this.transformValue(b)):this.updateSliderThumb(b)},addAccessibilityItems:function(){return this.view.stealFocus=this.stealFocus.bind(this.view,this),this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(a,b,c){this.treeKeyCallback.call(this.view,this,a,b,c)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.view.releaseFocus=this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},addFocusStyle:function(){var a=g.createElement("rect"),b=this.view.find("g > g"),c=b.getBBox(),d=3,e=2*d;a.setAttribute("class","focused"),a.setAttribute("x",c.x-d),a.setAttribute("y",c.y-d),a.setAttribute("width",c.width+e),a.setAttribute("height",c.height+e),a.setAttribute("stroke-width",d),b.appendChild(a),this.focusRect=a},stealFocus:function(a,b,c){c||a.addFocusStyle(),a.rangeInput.focus()},releaseFocus:function(a,b){null!=a.focusRect&&(this.find("g > g").removeChild(a.focusRect),a.focusRect=null),a.rangeInput.blur()},treeKeyCallback:function(a,b,c){var d=c?"stepDown":"stepUp";try{a.rangeInput[d](),a.onUpdateSlider({type:"change"})}catch(e){}return!0}}),m}),define("views/presentation/decorators/Obscurable",["require","lodash","backbone","helpers/resolver","helpers/actionManager","views/helpers/collisionHelper","helpers/TransMatrix"],function(a){"use strict";var b=a("lodash"),c=(a("backbone"),a("helpers/resolver"),a("helpers/actionManager"),a("views/helpers/collisionHelper")),d=(a("helpers/TransMatrix"),function(a){this.view=a,this.model=a.props.model,this.view.isObscurable=!0});return b.extend(d.prototype,{componentWillMount:function(){c.initSlideObject(this.model)},componentDidMount:function(){this.view.htmlReady(this.whenHtmlReady.bind(this))},whenHtmlReady:function(){c.calculateHitTest(this.model)},componentWillUnmount:function(){c.destroy(this.view)}}),d}),define("views/presentation/decorators/Rotatable",["require","lodash","backbone","helpers/resolver","helpers/svg/svgUtils","helpers/utils","helpers/TransMatrix","helpers/actionManager","views/events/touchHelper","polyfills/detection","helpers/scaler","helpers/windowManager","views/helpers/dom","helpers/tabFocusBox"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/resolver"),e=a("helpers/svg/svgUtils"),f=a("helpers/utils"),g=a("helpers/TransMatrix"),h=(a("helpers/actionManager"),a("views/events/touchHelper")),i=a("polyfills/detection"),j=a("helpers/scaler"),k=a("helpers/windowManager"),l=a("views/helpers/dom"),m=a("helpers/tabFocusBox"),n=function(a,b){var c=360*(a?1:-1);return b+=c},o=b.partial(n,!0),p=b.partial(n,!1),q=Number.MAX_SAFE_INTEGER||Math.pow(2,50),r=function(a){this.view=a,this.model=a.props.model,b.extend(this,this.model.dragrotation())};b.extend(r.prototype,c.Events,{inverted:!1,componentDidMount:function(){this.currSlide=k.getCurrentWindowSlide(),b.bindAll(this),this.parentEl=this.view.el.parentNode,this.setLoAndHi().setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.boundVar.value()).buildSlider().addAccessibilityItems().updateAccessibilityText()},componentDidUpdate:function(){this.updateAccessibilityText()},setLoAndHi:function(){return this.lowvalue=Math.min(this.startvalue,this.endvalue),this.highvalue=Math.max(this.startvalue,this.endvalue),this.lowvalue<this.startvalue&&(this.inverted=!0),this},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.view.el.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),document.body.removeEventListener("mousemove",this.onMouseMove),this.unbindTouch&&this.unbindTouch(),this.parentEl.removeChild(this.rangeInput)},setParentSlideView:function(){this.parentSlide||(this.parentSlide=k.getCurrentWindow().getCurSlide())},setDegreeSnap:function(){var a;return this.valRange=this.highvalue-this.lowvalue,this.angleRange=Math.abs(this.endrotation-this.startrotation),this.snap&&(a=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/a),this.stepDeg=f.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=d.resolvePath(this.bindto,this.model),this},setListeners:function(){return this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),i.isMobileAndNotPreview?this.unbindTouch=b.flow(h.on(this.view.el,"touchstart",this.onMouseDown),h.on(this.view.el,"touchend",this.onMouseUp),h.on(this.view.el,"touchmove",this.onMouseMove)):(this.view.el.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp)),this},setRotationFromValue:function(a){var b=this.view.el,c=this.rotateXPos-this.model.rotateXPos(),d=this.rotateYPos-this.model.rotateYPos();return null==this.origTransform&&(this.origTransform=b.style[this.view.cssTransform]),this.lastSetRotation=this.getAngleFromValue(a),b.style[this.view.cssTransform]=[this.origTransform,e.transformTranslate(f.pxify(c),f.pxify(d)),e.transformRotate(this.lastSetRotation+"deg"),e.transformTranslate(f.pxify(-c),f.pxify(-d))].join(" "),this},buildSlider:function(){var a=this.boundVar.value(),b={type:"range",value:a,step:this.snap?this.increment:0,min:this.startvalue,max:this.endvalue};return this.rangeInput=document.createElement("input"),l.setAttributes(this.rangeInput,b),this.rangeInput.className="accessibility",this.parentEl.appendChild(this.rangeInput),this},onBoundVariableChanged:function(a,b){this.setRotationFromValue(b),this.rangeInput.value=b},adjustVariable:function(a){var b={operator:"set",value:{type:"number",value:a}};return this.boundVar.adjust(b,{context:this.model}),this},onMouseDown:function(a){a.preventDefault(),this.isEnabled()&&(this.centerCoords=this.getCenterPos(),this.lastAngle=this.initAngle=this.getAngleFromEvent(a),this.angleChange=this.overRot=0,this.initRotation=this.lastSetRotation,document.body.addEventListener("mousemove",this.onMouseMove))},onMouseUp:function(a){document.body.removeEventListener("mousemove",this.onMouseMove),!this.liveupdating&&this.isEnabled()&&this.adjustVariable(this.getValueFromAngle(this.lastSetRotation))},getAngleFromValue:function(a){a=f.clamp(this.lowvalue,this.highvalue,a);var b=this.inverted?this.highvalue-a:a-this.lowvalue;return null!=this.stepDeg?b/this.increment*this.stepDeg+this.startrotation:b/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(a){var b=a-this.startrotation,c=b/this.angleRange,d=c*this.valRange;return d=this.inverted?this.highvalue-d:this.lowvalue+d,this.roundValue(d)},roundStep:function(a,c){var d=a?b.range(this.startrotation,this.endrotation+1,this.stepDeg):b.range(this.lowvalue,this.highvalue+1,this.increment);return d.reduce(function(a,b){return Math.abs(b-c)<Math.abs(a-c)?b:a},q)},getAngleFromEvent:function(a){var b=h.getPageLoc(a),c=b.pageX-this.centerCoords.x,d=b.pageY-this.centerCoords.y;return f.normalizeDeg(f.radToDeg(Math.atan2(d,c))+90)},adjustOverRotation:function(a){var b=a-this.lastAngle;b>180?this.overRot=p(this.overRot):-180>b&&(this.overRot=o(this.overRot))},cleanAngle:function(a){var b=f.normalizeDeg(a);return this.snap?this.roundAngle(b):b},onMouseMove:function(a){if(this.isEnabled()){var b=this.getAngleFromEvent(a);this.adjustOverRotation(b),this.lastAngle=b,this.angleChange=b+this.overRot-this.initAngle,b=this.initRotation+this.angleChange,this.setAngle(f.clamp(this.startrotation,this.endrotation,b))}},setAngle:function(a){a!==this.lastSetRotation&&(this.liveupdating?this.adjustVariable(this.getValueFromAngle(a)):(this.lastSetRotation=a,this.setRotationFromValue(this.getValueFromAngle(a))))},getCenterPos:function(){for(var a,b,c,d=[],e=new g,f=this.model,h=j.getScale()||1;f.isSlideObject;)d.push(f),f=f.getClosestParentRef();return d.reverse().forEach(function(a){var b,c=a.currView;null!=c&&c.updateFromTween(),b=a.getPlayerPropsRaw(),b.ScaleX/=100,b.ScaleY/=100,e.adjustByViewProps(b)}),c=e.transform(this.rotateXPos,this.rotateYPos),i.isMobile?(this.currSlide.pinchZoomScale&&(this.setParentSlideView(),this.parentSlide&&(c=this.parentSlide.pinch.matrix.transform(c.x,c.y))),b=this.currSlide.parentTransform.scale,c.x*=b,c.y*=b,c.x+=this.currSlide.parentTransform.xOff,c.y+=this.currSlide.parentTransform.yOff):(a=this.view.getLayer().getBoundingClientRect(),c.x*=h,c.y*=h,c.x+=a.left,c.y+=a.top),c},isEnabled:function(){var a=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!a.isSlideObject||a.prop("Enabled"))},addAccessibilityItems:function(){return this.viewStealFocus=this.view.stealFocus,this.view.stealFocus=this.stealFocus.bind(this.view,this),this.viewReleaseFocus=this.view.releaseFocus,this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(a,b,c){this.treeKeyCallback.call(this.view,this,a,b,c)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.viewStealFocus,this.view.releaseFocus=this.viewReleaseFocus,this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},stealFocus:function(a){a.viewStealFocus.apply(a,b.slice(arguments,1)),a.rangeInput.focus()},releaseFocus:function(a){a.viewReleaseFocus.apply(a,b.slice(arguments,1)),a.rangeInput.blur()},treeKeyCallback:function(a,b,c){var d,e=c?"stepDown":"stepUp";try{a.rangeInput[e](),d=a.rangeInput.value,a.setRotationFromValue(d).adjustVariable(d)}catch(f){}return m.lastItemFocused===this.view&&m.update(this.view),!0}});var s=r.prototype;return s.roundValue=b.partial(s.roundStep,!1),s.roundAngle=b.partial(s.roundStep,!0),r}),define("views/mixins/decorateable",["require","lodash","views/presentation/decorators/Draggable","views/presentation/decorators/Droppable","views/presentation/decorators/Tweenable","views/presentation/decorators/Slideable","views/presentation/decorators/Obscurable","views/presentation/decorators/Rotatable"],function(a){"use strict";var b=a("lodash"),c=a("views/presentation/decorators/Draggable"),d=a("views/presentation/decorators/Droppable"),e=a("views/presentation/decorators/Tweenable"),f=a("views/presentation/decorators/Slideable"),g=a("views/presentation/decorators/Obscurable"),h=a("views/presentation/decorators/Rotatable"),i={createDecorator:function(a){return new a(this)},callLifeCycleEvent:function(a){for(var c=arguments.length,d=new Array(c),e=0;c>e;++e)d[e]=arguments[e];b.forOwn(this.decorators,function(b){b[a]&&b[a].apply(b,d.slice(1))})},componentWillMount:function(){this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(a){this.callLifeCycleEvent("componentWillReceiveProps",a)},componentWillUpdate:function(a,b){this.callLifeCycleEvent("componentWillUpdate",a,b)},componentDidUpdate:function(a,b){this.callLifeCycleEvent("componentDidUpdate",a,b)},createDecorators:function(){var a=this.props.model;a.isDraggable()&&!this.hasDraggableAncestor()&&(this.decorators.draggable=this.createDecorator(c)),a.isDroppable()&&(this.decorators.droppable=this.createDecorator(d)),a.isTweenable()&&(this.decorators.tweenable=this.createDecorator(e)),a.isSlideable()&&(this.decorators.slideable=this.createDecorator(f)),a.isObscurableBySelf()&&(this.decorators.obscurable=this.createDecorator(g)),a.isRotatable()&&(this.decorators.rotatable=this.createDecorator(h))},hasDraggableAncestor:function(){for(var a=this;a=a.props.parent;)if(a.props.model.isDraggable())return!0;return!1}};return i}),define("helpers/curveHelper",["require","lodash","helpers/utils","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/constants"),e=10,f=.01,g=20,h=d.math.TO_DEGREES,i=function(a,b){return c.dist(a.x,a.y,b.x,b.y)},j=function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)*h},k=function(a,b){var c=1-a,d=a*a,e=c*c,f=e*c,g=3*a*e,h=3*d*c,i=d*a;return{x:f*b[0].x+g*b[1].x+h*b[2].x+i*b[3].x,y:f*b[0].y+g*b[1].y+h*b[2].y+i*b[3].y}},l=function(a,b){var c=1-a,d=c*c,e=2*c*a,f=a*a;return{x:d*b[0].x+e*b[1].x+f*b[2].x,y:d*b[0].y+e*b[1].y+f*b[2].y}},m=function(a,b){return{x:b[0].x+(b[1].x-b[0].x)*a,y:b[0].y+(b[1].y-b[0].y)*a}},n=[void 0,void 0,m,l,k],o={getDistance:function(a,c){return 2===a.length?i(a[0],a[1]):(b.isArray(c)||(c=this.getSamplePoints(a,c||e)),b.last(c).distance)},getSamplePoints:function(a,b){if(2===a.length)return null;b=b||e;for(var c,d,f=0,g=[],h=a[0],j=1/b,k=0;b>=k;k++)c=j*k,d=this.getPointAtTime(c,a),f+=i(h,d),g.push({time:c,distance:f}),h=d;return g},curveToLines:function(a,c){if(2===a.length)return b.clone(a,!0);var d,e,f,h,j,k,l,m,o=[],p=0,q=n[a.length];for(null==c&&(e=q(0,a),f=q(.25,a),h=q(.5,a),j=q(.75,a),k=q(1,a),m=i(e,f)+i(f,h)+i(h,j)+i(j,k),c=Math.min(parseInt(m/2),g)),l=1/c,d=0;c>d;d++)o.push(q(p,a)),p+=l;return o.push(q(1,a)),o},getPointAtTime:function(a,b){return n[b.length](a,b)},getNormalizedPointAtTime:function(a,c,d,g){var h,i,k,l,m,n,o,p;return 2===c.length?(i=this.getPointAtTime(a,c),g&&(i.angle=j(c[0],c[1])),i):(b.isArray(d)||(d=this.getSamplePoints(c,d||e)),m=0,n=1,l=this.getDistance(c,d)*a,h=b.sortedIndex(d,{distance:l},"distance"),(h>d.length-1||l!==d[h].distance)&&h--,o=d[h],p=d[h+1],h<d.length-1&&(n=o.time+((l-o.distance)/(p.distance-o.distance)||0)*(p.time-o.time)),i=this.getPointAtTime(n,c),g&&(n+=f,n>1&&(n-=2*f,m=-180),k=this.getPointAtTime(n,c),i.angle=j(i,k)+m),i)}};return o}),define("helpers/svg/pointHelper",["require","lodash","helpers/curveHelper","helpers/utils","helpers/TransMatrix"],function(a){"use strict";var b=a("lodash"),c=a("helpers/curveHelper"),d=(a("helpers/utils"),a("helpers/TransMatrix")),e=/(?=[MLzZCaA])/g,f=/ |,/g,g=/scale\(|[,)]/,h=4*(Math.sqrt(2)-1)/3,i=function(a){var b,c,d=[],e=a.length;for(b=0;e>b;b++)c=j(a[b]),d.push({x:c.left,y:c.top}),d.push({x:c.left,y:c.bottom}),d.push({x:c.right,y:c.bottom}),d.push({x:c.right,y:c.top});return d},j=function(a){var b,c,d,e=a.getAttribute("transform"),f=parseFloat(a.getAttribute("x")),h=parseFloat(a.getAttribute("y")),i=parseFloat(a.getAttribute("height")),j=parseFloat(a.getAttribute("width"));return b=e.split(g),c=parseFloat(b[1]),d=parseFloat(b[2]),{left:f,top:h,right:f+j*c,bottom:h+i*d}},k=function(a){var b,c,d,f,g,h,i=[],j={x:0,y:0},k=a.getAttribute("d");for(g=k.split(e),h=g.length,b=0;h>b;b++)c=g[b].charAt(0),"a"===c&&"a"===g[b+1].charAt(0)?(d=l(f,j,g[b].substr(1)),b++):d=m(f,j,c,n(g[b].substr(1))),j=d.lastPoint,f=f||d.firstPoint,i=i.concat(d.curves);return i},l=function(a,b,c){var d=c.split(" "),e=parseFloat(d[0]),f=parseFloat(d[1]),g=[],i=b.x,j=b.y-f,k=e*h,l=f*h,m=i+2*e,n=j+2*f,o=i+e,p=j+f;return g.push([{x:i,y:p},{x:i,y:p-l},{x:o-k,y:j},{x:o,y:j}]),g.push([{x:o,y:j},{x:o+k,y:j},{x:m,y:p-l},{x:m,y:p}]),g.push([{x:m,y:p},{x:m,y:p+l},{x:o+k,y:n},{x:o,y:n}]),g.push([{x:o,y:n},{x:o-k,y:n},{x:i,y:p+l},{x:i,y:p}]),{firstPoint:a,lastPoint:b,curves:g}},m=function(a,b,c,d){var e,f=d.length,g=[];if("M"===c)a=b=d[0];else if("L"===c)for(a=b,e=0;f>e;e++)g.push([b,d[e]]),b=d[e];else if("C"===c)for(a=b,e=0;f>e;e+=3)g.push([b,d[e],d[e+1],d[e+2]]),b=d[e+2];else"z"!==c&&"Z"!==c||g.push([b,a]);return{firstPoint:a,lastPoint:b,curves:g}},n=function(a){if(a=a.trim(),0===a.length)return[];var b,c=a.split(f),d=[],e=c.length;for(b=0;e>b;b+=2)d.push({x:parseFloat(c[b]),y:parseFloat(c[b+1])});return d},o=function(a){var b,c=[],d=a.length;for(b=0;d>b;b++)c=c.concat(k(a[b]));return c},p=function(a){var b,c=0,d=a.length;for(b=0;d>b;b++)c=Math.max(a[b].getAttribute("stroke-width"),c);return c},q=function(a){var b,d=[],e=a.length;for(b=0;e>b;b++)d=d.concat(c.curveToLines(a[b]));return d},r=function(a,b){var c,d=[],e=a.length;for(c=0;e>c;c++)d.push(b.transformPoint(a[c].x,a[c].y));return d},s={getRotatedPixelBounds:function(a,c){var e,f,g,h,j,k,l,m,n,s,t,u,v=[],w=0,x=a.find("svg");if(null!=x){if(n=b.toArray(x.querySelectorAll("path")),s=b.toArray(x.querySelectorAll("image")),t=!b.isEmpty(n),u=!b.isEmpty(s),!t&&!u)return null;for(m=a.props.model,l=new d,l.rotate(c,m.rotateXPos(),m.rotateYPos()),t&&(v=q(o(n)),w=p(n)),u&&(v=v.concat(i(s))),k=r(v,l),f=k[0].y,h=k[0].y,g=k[0].x,j=k[0].x,e=1;e<k.length;e++)f=Math.min(k[e].y,f),g=Math.min(k[e].x,g),h=Math.max(k[e].y,h),j=Math.max(k[e].x,j);return{top:f-w/2,left:g-w/2,bottom:h+w/2,right:j+w/2}}}};return s}),define("helpers/boundsHelper",["require","helpers/TransMatrix","views/helpers/collisionHelper","helpers/svg/pointHelper"],function(a){"use strict";var b=a("helpers/TransMatrix"),c=a("views/helpers/collisionHelper"),d=a("helpers/svg/pointHelper"),e=function(a,b){return{tl:b.transformPoint(a.left,a.top),tr:b.transformPoint(a.right,a.top),bl:b.transformPoint(a.left,a.bottom),br:b.transformPoint(a.right,a.bottom)}},f={getRotatedPixelBounds:function(a,f){var g,h,i,j,k,l,m,n,o,p,q,r,s=a.props.model;if(s.isGroupingSlideObject){h=s.getChildren(),k=h.length;for(var t=0;k>t;t++)g=h[t],null==g.currView||g.isKind("expandinglabel")||(i=null!=g.currView?g.currView.getRotation():g.get("rotation"),j=null!=g.currView?g.currView.getPosition():{x:g.playerProps.get("RawXPos"),y:g.playerProps.get("RawYPos")},p=g.currView.getRotatedPixelBounds(i+f),q=new b,q.rotate(f,s.rotateXPos(),s.rotateYPos()),q.translate(j.x,j.y),q.rotate(-f,g.rotateXPos(),g.rotateYPos()),p=e(p,q),l=Math.min(l||p.tl.y,p.tl.y,p.tr.y,p.bl.y,p.br.y),m=Math.max(m||p.tl.y,p.tl.y,p.tr.y,p.bl.y,p.br.y),n=Math.min(n||p.tl.x,p.tl.x,p.tr.x,p.bl.x,p.br.x),o=Math.max(o||p.tl.x,p.tl.x,p.tr.x,p.bl.x,p.br.x));return{top:l,bottom:m,left:n,right:o}}return r=d.getRotatedPixelBounds(a,f),null==r&&(r=c.getRotatedPixelBounds(a,f)),r}};return f}),function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(a,b,c){this.pathSegType=a,this.pathSegTypeAsLetter=b,this._owningPathSegList=c},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",a)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",a),this._x=b,this._y=c},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",a),this._x=b,this._y=c},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",a),this._x=b,this._y=c},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",a),this._x=b,this._y=c},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,
this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(a,b,c,d,e,f,g){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",a),this._x=b,this._y=c,this._x1=d,this._y1=e,this._x2=f,this._y2=g},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(a,b,c,d,e,f,g){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",a),this._x=b,this._y=c,this._x1=d,this._y1=e,this._x2=f,this._y2=g},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",a),this._x=b,this._y=c,this._x1=d,this._y1=e},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",a),this._x=b,this._y=c,this._x1=d,this._y1=e},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(a,b,c,d,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",a),this._x=b,this._y=c,this._r1=d,this._r2=e,this._angle=f,this._largeArcFlag=g,this._sweepFlag=h},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(a,b,c,d,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",a),this._x=b,this._y=c,this._r1=d,this._r2=e,this._angle=f,this._largeArcFlag=g,this._sweepFlag=h},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",a),this._x=b},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",a),this._x=b},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",a),this._y=b},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",a),this._y=b},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",a),this._x=b,this._y=c,this._x2=d,this._y2=e},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",a),this._x=b,this._y=c,this._x2=d,this._y2=e},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",a),this._x=b,this._y=c},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",a),this._x=b,this._y=c},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(a,b){return new SVGPathSegMovetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(a,b){return new SVGPathSegMovetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(a,b){return new SVGPathSegLinetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(a,b){return new SVGPathSegLinetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(a,b,c,d,e,f){return new SVGPathSegCurvetoCubicAbs(void 0,a,b,c,d,e,f)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(a,b,c,d,e,f){return new SVGPathSegCurvetoCubicRel(void 0,a,b,c,d,e,f)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(a,b,c,d){return new SVGPathSegCurvetoQuadraticAbs(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(a,b,c,d){return new SVGPathSegCurvetoQuadraticRel(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(a,b,c,d,e,f,g){return new SVGPathSegArcAbs(void 0,a,b,c,d,e,f,g)},SVGPathElement.prototype.createSVGPathSegArcRel=function(a,b,c,d,e,f,g){return new SVGPathSegArcRel(void 0,a,b,c,d,e,f,g)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(a){return new SVGPathSegLinetoHorizontalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(a){return new SVGPathSegLinetoHorizontalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(a){return new SVGPathSegLinetoVerticalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(a){return new SVGPathSegLinetoVerticalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,d){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(a,b,c,d){return new SVGPathSegCurvetoCubicSmoothRel(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,a,b)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(a){this._pathElement=a,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(a){if(this._pathElement){var b=!1;a.forEach(function(a){"d"==a.attributeName&&(b=!0)}),b&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(a){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(a){a._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(a){return this._checkPathSynchronizedToList(),this._list=[a],a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype._checkValidIndex=function(a){if(isNaN(a)||0>a||a>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(a){return this._checkPathSynchronizedToList(),this._checkValidIndex(a),this._list[a]},SVGPathSegList.prototype.insertItemBefore=function(a,b){return this._checkPathSynchronizedToList(),b>this.numberOfItems&&(b=this.numberOfItems),a._owningPathSegList&&(a=a.clone()),this._list.splice(b,0,a),a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype.replaceItem=function(a,b){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._checkValidIndex(b),this._list[b]=a,a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype.removeItem=function(a){this._checkPathSynchronizedToList(),this._checkValidIndex(a);var b=this._list[a];return this._list.splice(a,1),this._writeListToPath(),b},SVGPathSegList.prototype.appendItem=function(a){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._list.push(a),a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList._pathSegArrayAsString=function(a){var b="",c=!0;return a.forEach(function(a){c?(c=!1,b+=a._asPathString()):b+=" "+a._asPathString()}),b},SVGPathSegList.prototype._parsePath=function(a){if(!a||0==a.length)return[];var b=this,c=function(){this.pathSegList=[]};c.prototype.appendSegment=function(a){this.pathSegList.push(a)};var d=function(a){this._string=a,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};d.prototype._isCurrentSpace=function(){var a=this._string[this._currentIndex];return" ">=a&&(" "==a||"\n"==a||"	"==a||"\r"==a||"\f"==a)},d.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},d.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},d.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},d.prototype.peekSegmentType=function(){var a=this._string[this._currentIndex];return this._pathSegTypeFromChar(a)},d.prototype._pathSegTypeFromChar=function(a){switch(a){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},d.prototype._nextCommandHelper=function(a,b){return("+"==a||"-"==a||"."==a||a>="0"&&"9">=a)&&b!=SVGPathSeg.PATHSEG_CLOSEPATH?b==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:b==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:b:SVGPathSeg.PATHSEG_UNKNOWN},d.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var a=this.peekSegmentType();return a==SVGPathSeg.PATHSEG_MOVETO_ABS||a==SVGPathSeg.PATHSEG_MOVETO_REL},d.prototype._parseNumber=function(){var a=0,b=0,c=1,d=0,e=1,f=1,g=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,e=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var h=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=h)for(var i=this._currentIndex-1,j=1;i>=h;)b+=j*(this._string.charAt(i--)-"0"),j*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)d+=(this._string.charAt(this._currentIndex++)-"0")*(c*=.1)}if(this._currentIndex!=g&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,f=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)a*=10,a+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var k=b+d;if(k*=e,a&&(k*=Math.pow(10,f*a)),g!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),k}},d.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var a=!1,b=this._string.charAt(this._currentIndex++);if("0"==b)a=!1;else{if("1"!=b)return;a=!0}return this._skipOptionalSpacesOrDelimiter(),a}},d.prototype.parseSegment=function(){var a=this._string[this._currentIndex],c=this._pathSegTypeFromChar(a);if(c==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(c=this._nextCommandHelper(a,this._previousCommand),c==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=c,c){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(b);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(b,d.x,d.y,d.x1,d.y1,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(b,d.x,d.y,d.x1,d.y1,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var d={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(b,d.x,d.y,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var d={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(b,d.x,d.y,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(b,d.x,d.y,d.x1,d.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(b,d.x,d.y,d.x1,d.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(b,d.x,d.y,d.x1,d.y1,d.arcAngle,d.arcLarge,d.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(b,d.x,d.y,d.x1,d.y1,d.arcAngle,d.arcLarge,d.arcSweep);default:throw"Unknown path seg type."}};var e=new c,f=new d(a);if(!f.initialCommandIsMoveTo())return[];for(;f.hasMoreData();){var g=f.parseSegment();if(!g)return[];e.appendSegment(g)}return e.pathSegList})}(),define("pathseg",function(){}),define("views/mixins/adornable",["require","pathseg","lodash","react","react-dom","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/constants","helpers/TransMatrix"],function(a){"use strict";
a("pathseg");var b=a("lodash"),c=(a("react"),a("react-dom")),d=a("helpers/utils"),e=a("helpers/errorManager"),f=a("helpers/svg/svgUtils"),g=a("helpers/constants"),h=a("helpers/TransMatrix"),i=e.warn("Adornable"),j=e.throwError("Adornable"),k=e.backtick,l=function(){var a=/c|s|q|t|a/i;return function(b){return a.test(b.getAttribute("d"))}}(),m=b.partialRight(b.pick,"x","y"),n=function(a,c){return b.extend(a.createSVGPoint(),c)},o=function(a,b){return b.matrixTransform(a)},p=function(a,c){var d=b.partial(o,a),e=c.map(d),f=b.max(e,"y"),g=function(a){return a.y===f.y},h=e.filter(g),i=b.min(h,"x"),j=b.max(h,"x"),k=(i.x+j.x)/2,l=i.y,m=b.indexOf(e,i),n=b.indexOf(e,j),p=c[m],q=c[n],r=(p.x+q.x)/2,s=(p.y+q.y)/2;return{transformed:{x:k,y:l},original:{x:r,y:s}}},q=function(){var a=5,c=function(b){return b*a};return function(d,e){var f=(e.getTotalLength(),e.getPointAtLength.bind(e)),g=Math.ceil(e.getTotalLength()/a)+1,h=b.range(g).map(c).map(f);return p(d,h)}}(),r=function(a,c){var e=c.pathSegList,f=e.getItem.bind(e),g=b.range(e.numberOfItems).map(f),h=b(g).map(m).filter(d.not(b.isEmpty)).map(b.partial(n,c.ownerSVGElement)).value();return p(a,h)},s=function(){var a=function(a,b){var c=l(b)?q:r;return c(a,b)},c=function(a){return a.transformed.y};return function(d,e){var f=b(e).map(b.partial(a,d)).max(c).original;return m(f)}}(),t=function(a){var b=a.getAttributeNS(g.XMLNS_XLINK,"href"),c=a.ownerSVGElement;return c.querySelector(b)},u=function(a){return f.isUseNode(a)?t(a):a},v=function(a){return a=u(a),f.isPathNode(a)?[a]:b.toArray(a.querySelectorAll("path"))},w=function(){var a=/#([^\)\s'"]*)/;return function(b){var c=a.exec(b);return null==c?null:c[1]}}(),x={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},y={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var a=b.values(b.pick(this.refs,function(a,b){return 0===b.indexOf("adornable")}));a.length&&a.forEach(function(a){this.setAsAdornable(c.findDOMNode(a),this.props.model.get("rotation"))}.bind(this))},setAsAdornable:function(a,b){this.adornType=a.getAttribute("data-adornment-type"),this.adornedNode=a,this.adornRotation=b,this.parentSvg=a.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(a.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=x[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(a){return(this.adornRotationOffset||(this.adornRotationOffset=a.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var a,b=this.parentSvg.querySelector("[data-rotation-offset]");return b&&(a=this.gradientRotationOffset(b),a[0]=-this.adornRotation+parseFloat(a[0]),b.setAttribute("gradientTransform",["rotate(",a.join(","),")"].join(""))),this},getDataAsFloat:function(a){return parseFloat(this.adornedNode.getAttribute("data-"+a))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var a=v(this.adornedNode);return b.isEmpty(a)?void i("calculateLowestRotatedPoint","no `path` nodes found for calculation"):s(this.adornMatrix,a)},applyRotation:function(){if(!this.adornRotationPoint)return this;var a=this.adornConfig.rotationMethods;return a||j("applyRotation","adornment of",k(this.adornType),"not supported"),a.forEach(function(a){this[a]()}.bind(this)),this},addRotation:function(a,b){return this.adornTransformConfig[a](this.buildRotation(b)),this},buildRotation:function(a){return f.buildRotateConfig(this.adornRotation*a,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(a,c){var d=b.indexOf(this.adornTransformConfig,c);return this.adornTransformConfig[d+a]},adjustScaleTranslation:function(){var a=this.adornRotationPoint,b=f.getFirstScale(this.adornTransformConfig),c=this.getTransformRelativeToOther(-1,b),e=d.invertPercent(b.args[0]),g=d.invertPercent(b.args[1]);return c.args[0]=a.x*e,c.args[1]=a.y*g,this},adjustSkewTranslation:function(a){var b=this.adornRotationPoint,c="x"===a,e=c?"y":"x",g=f.getFirstTransformOfType("skew"+a.toUpperCase(),this.adornTransformConfig),h=this.getTransformRelativeToOther(1,g),i=g.args[0],j=d.degToRad(i);return h.args[c?0:1]=-(b[e]*Math.tan(j)),this},applyTransform:function(){var a=this.adornTransformConfig.map(f.buildTransformFromConfigFn).join(" ");return this.adornedNode.setAttribute("transform",a),this},calculateRotationOffset:function(){for(var a=this.getDataAsFloat("distance"),b=this.getDataAsFloat("angle"),c=-d.degToRad(this.adornRotation-b),e=this.getDataAsFloat("scale"),f=new h,g=this.props.model.parent;null!=g&&g.isSlideObject;)f.rotate(-g.prop("Rotation"),0,0),g=g.parent;return a/=e,f.transformPoint(a*Math.cos(c),a*Math.sin(c))},rotateDropShadow:function(){var a=this.calculateRotationOffset();this.adornTransformConfig.push(f.buildTranslateConfig(a.x,a.y))},rotateInnerDropShadow:function(){var a=document.getElementById(w(this.adornedNode.getAttribute("filter"))),b=a.getElementsByTagName("feOffset")[0],c=this.calculateRotationOffset();b.setAttribute("dx",c.x),b.setAttribute("dy",c.y)},rotateReflection:function(){this.addRotation("unshift",-1);var a=f.getFirstTranslate(this.adornTransformConfig),c=b.indexOf(this.adornTransformConfig,a);this.adornTransformConfig.splice(c+1,0,this.buildRotation(-1))}};return y.rotateShadowToOriginalAngle=b.partial(y.addRotation,"unshift",-1),y.rotateShadowAboutPlane=b.partial(y.addRotation,"push",1),y.adjustSkewTranslationX=b.partial(y.adjustSkewTranslation,"x"),y.adjustSkewTranslationY=b.partial(y.adjustSkewTranslation,"y"),y}),define("views/presentation/VectorSlideObject",["require","lodash","helpers/utils","views/mixins/baseView","views/mixins/adornable","react","helpers/svg/svgManager","helpers/svg/svgUtils","helpers/constants","backbone"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils"),a("views/mixins/baseView")),c=a("views/mixins/adornable"),d=a("react"),e=a("helpers/svg/svgManager"),f=(a("helpers/svg/svgUtils"),a("helpers/constants"),a("backbone"),d.createClass({displayName:"VectorSlideObject",mixins:[b,c],refresh:function(){return this.htmlReady(this.whenHtmlReady),this},whenHtmlReady:function(){this.adornSvg(),this.determineChildMouseBehavior()},componentDidMount:function(){this.refresh().bindEvents()},componentDidUpdate:function(){this.refresh().bindEvents()},shouldUpdate:function(a,b){return a.playerProps.ObjectState!==this.props.playerProps.ObjectState||this.props.model.shouldUpdateGif()},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).forEach(function(a){this.listenTo(a,"textHit",this.props.textHit)}.bind(this)),this},determineChildMouseBehavior:function(){var a;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach(function(a){a.style.pointerEvents="none"}),a=this.find("g g:nth-child(2)"),a.setAttribute("cursor","pointer"),a.style.pointerEvents="all")},template:function(){return e.getSvgFromData(this.props.model,this)}}));return f}),define("views/presentation/ButtonSlideObject",["require","react","views/mixins/baseView","polyfills/detection","polyfills/mobileChromeKiller"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("polyfills/detection"),e=a("polyfills/mobileChromeKiller"),f=b.createClass({displayName:"ButtonSlideObject",mixins:[c],componentDidMount:function(){var a=document.querySelector(".resume-prompt-slide");d.isMobilePreview&&a?this.el.addEventListener("mousedown",function(){e.init()}):d.isMobile&&a&&this.el.addEventListener("touchstart",function(){e.init()})},getClassNames:function(){var a=["btn","slide-object-button"];return d.isMobile||(this.props.model.getSlide().getScene().isMessageScene()?a.push(["cs-",this.props.model.id.replace(/_/g,"-")].join("")):a.push("cs-button")),a.join(" ")}});return f}),define("views/presentation/PlaceHolderSlideObject",["require","lodash","views/mixins/baseView","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=c.createClass({mixins:[b],displayName:"PlaceHolderSlideObject"});return d}),define("views/presentation/GroupingSlideObject",["require","lodash","views/mixins/baseView","react","helpers/slideObjectUtils"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=a("helpers/slideObjectUtils"),e=c.createClass({mixins:[b],displayName:"GroupingSlideObject",getFocusTarget:function(){return d.getGroupFocusTarget(this)}});return e}),define("views/presentation/StateGroupSlideObject",["require","lodash","helpers/keyManager","helpers/resolver","views/helpers/dom","views/mixins/baseView","react","polyfills/detection","helpers/slideObjectUtils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/keyManager"),d=a("helpers/resolver"),e=a("views/helpers/dom"),f=a("views/mixins/baseView"),g=a("react"),h=a("polyfills/detection"),i=a("helpers/slideObjectUtils"),j=g.createClass({mixins:[f],displayName:"StateGroupSlideObject",isStillFocused:function(){var a=c.getCurrentTabbable();return!!this.findComponent(a)},getElso:function(){return b.find(this.refs,function(a){return a.props.model.isKind("expandinglabel")})},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(a,b){if(!a||null==b||null!=b.props.model.get("markerType")){var c=a?"toggleComplete":"hideComplete";(a||!this.isStillFocused()&&this.isExpanded())&&this.getElso().refs.innard[c]()}},isClickDefAllowed:function(a){var c,f,g=this.props.model.getClickDef(),i=e.closest(a,e.isSlideObject),j=function(a){return b.some(a,function(a){var b=!1,c=a instanceof window.Node;return!c&&a.props.model&&a.props.model.isSlideObject&&(a.refs&&(b=j(a.refs)),a.el===i&&(b=!0,f=a)),!!b})};return h.isMobile&&null==i&&(a=document.elementFromPoint(e.mouseX,e.mouseY),a&&this.el.contains(a)&&(i=e.closest(a,e.isSlideObject))),j(this.refs),null!=f?g.some(function(a){var b=d.getRef(a,this.props.model),c=d.resolvePath(b,this.props.model);return c.id===f.props.model.id}.bind(this)):(c=e.closest(this.el,e.isSlideObject),c===i)},getFocusTarget:function(){return i.getGroupFocusTarget(this)}});return j}),define("views/presentation/PresentationOverlay",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"PresentationOverlay",mixins:[c]});return d}),define("views/presentation/ZoomImage",["require","lodash","tween-lite","views/mixins/baseView","react","react-dom","views/presentation/PresentationOverlay","helpers/appState","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("views/mixins/baseView"),e=a("react"),f=a("react-dom"),g=a("views/presentation/PresentationOverlay"),h=a("helpers/appState"),i=a("polyfills/detection"),j=5,k=0,l=i.isMobile?k:j,m=e.createClass({displayName:"ZoomImage",mixins:[d],componentWillMount:function(){var a=e.createElement(g,{className:"zoom-image-overlay"});this.overlay=f.render(a,document.querySelector("#zoomimage-container"))},componentDidMount:function(){this.speed=.25,this.calculateTransform(),this.throttledCalculateTweenProps=b.throttle(this.calculateTweenProps,100)},componentDidUpdate:function(){if(this.calculateTransform(),this.isVisible()&&null!=this.currentTween){this.calculateTweenProps();var a=this.currentTween.time(),d=b.partial(c.fromTo,this.el,this.currentTween.duration());this.isZoomingIn?this.currentTween=d(this.startProps,this.endProps):this.currentTween=d(this.endProps,this.startProps),this.currentTween.seek(a)}},getContainerRectDesktop:function(){var a=this.props.imageModel.get("zoomslide")?document.querySelector(".slide-container"):document.querySelector("#presentation");return a.getBoundingClientRect()},getContainerRectMobile:function(){var a=h.windowManager.getCurrentWindowSlide().currView,b=a.el.getBoundingClientRect();return b},calculateTransform:function(){this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2},calculateTweenProps:function(){var a,c,d,e,f,g=l,j=this.el.parentNode.getBoundingClientRect(),k=this.getContainerRect(),m=k.left-j.left,n=k.top-j.top,o=this.props.imageElement.getBoundingClientRect(),p=o.left-k.left-this.diffX,q=o.top-k.top-this.diffY,r=p+this.props.width+g,s=q+this.props.height+g,t=p,u=q,v=this.scaleX,w=this.scaleY,x=1;i.isMobile?x=1/h.windowManager.getCurrentWindowSlide().calculateTotalScale():h.windowManager.isLightBoxActive()&&(x=h.windowManager.getCurrentWindow().slideScale,x*=h.windowManager.getCurrentWindowSlide().calculateTotalScale(),e=(this.props.transform.width-this.props.transform.width*x)/2,f=(this.props.transform.height-this.props.transform.height*x)/2,p-=e,q-=f,v*=x,w*=x),a=k.width/(this.props.width+g),c=k.height/(this.props.height+g),d=b.min([1,a,c]),g>q?u=g-(this.props.height-d*this.props.height)/2:s>k.height&&(u-=s-k.height-(this.props.height-d*this.props.height)/2),g>p?t=g-(this.props.width-d*this.props.width)/2:r>k.width&&(t-=r-k.width-(this.props.width-d*this.props.width)/2),this.startProps={x:p+m-this.props.transform.xOffset*x,y:q+n-this.props.transform.yOffset*x,scaleX:v,scaleY:w,overwrite:"auto"},this.endProps={x:t+m,y:u+n,scaleX:d,scaleY:d}},zoomIn:function(){this.isZoomingIn=!0,this.calculateTweenProps(),h.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),this.currentTween=c.fromTo(this.el,this.speed,this.startProps,b.extend({},this.endProps,{onComplete:function(){this.props.imageModel.executePlayerEvent("onzoomopened"),document.addEventListener("click",this.zoomOut,!0)}.bind(this)}))},updateZoomOut:function(){this.throttledCalculateTweenProps(),this.currentTween=c.to(this.el,this.speed/2,this.startProps)},zoomOut:function(a){a.stopPropagation(),this.isZoomingIn=!1,document.removeEventListener("click",this.zoomOut,!0),c.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut}),this.props.imageModel.executePlayerEvent("onzoomclosed")},onZoomedOut:function(){this.overlay.hide(),this.hide()}}),n=m.prototype;return n.getContainerRect=n[i.isMobile?"getContainerRectMobile":"getContainerRectDesktop"],m}),define("helpers/windowOpen",["require","lodash","backbone","helpers/pubSub","polyfills/vendorOverrides","helpers/constants"],function(a){"use strict";var b,c=a("lodash"),d=(a("backbone"),a("helpers/pubSub")),e=a("polyfills/vendorOverrides"),f=a("helpers/constants"),g=function(a){return c.pairs(a).map(function(a){return a.join("=")}).join(", ")},h=c.extend({initialize:function(a){b=a,d.on("externalWindow:open",this.onOpenWindow.bind(this))},onOpenWindow:function(a,b){var c=this.openWindowByAction.bind(this,a),d=c;null!=e.onOpenWindow&&(d=e.onOpenWindow.bind(e,a,b,c)),d()},openWindowByAction:function(a){var b={},c=a.windowsize,d="open_video"===a.kind;switch(c){case"fullscreen":b.width=window.screen.availWidth,b.height=window.screen.availHeight;break;case"custom":b.width=a.width,b.height=a.height}a.usedefaultcontrols||"default"===c||(b.status=+a.status,b.toolbar=+a.toolbar,b.location=+a.location,b.menubar=+a.menubar,b.scrollbars=+a.scrollbars,b.resizable=+a.resizable),this.open({url:d?f.STORY_CONTENT_URL+a.url:a.url,window:a.window,specs:b,previewNotification:d?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(a){var e={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};c.extend(e,a),b.isPreview()?d.trigger("preview:notify",e.previewNotification):window.open(e.url,e.window,g(e.specs))}});return h}),define("views/presentation/ImageSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","react","react-dom","helpers/assetManager","views/presentation/ZoomImage","helpers/slideObjectUtils","views/events/touchHelper","helpers/windowManager","polyfills/detection","helpers/windowOpen"],function(a){"use strict";var b=a("lodash"),c=a("views/mixins/baseView"),d=(a("views/mixins/propertizable"),a("react")),e=a("react-dom"),f=a("helpers/assetManager"),g=a("views/presentation/ZoomImage"),h=(a("helpers/slideObjectUtils"),a("views/events/touchHelper")),i=a("helpers/windowManager"),j=a("polyfills/detection"),k=a("helpers/windowOpen"),l=d.createClass({displayName:"ImageSlideObject",mixins:[c],subscriptions:{"slideContainer:positioned":"onPositioned"},prepareImageUrl:function(){var a=this.props.model.data().imagedata.assetId,b=f.getAssetUrl(a);return b},componentWillMount:function(){this.imageUrl=this.prepareImageUrl(),this.presentationCanvas=document.querySelector("#presentation-canvas")},componentDidMount:function(){j.isMobile&&this.refs.zoom&&h.tap(this,this.refs.zoom,this.zoom)},getImage:function(){return f.getAssetUrl(this.props.model.get("zoomdata").imagedata.assetId)},zoom:function(){"htmlwindow"===this.props.model.get("zoomtype")?k.open({url:this.getImage(),previewNotification:"PREVIEW_ZOOM_IMAGE"}):this.getOrCreateZoomImage().zoomIn()},actionKeyCallback:function(){return null!=this.zoomImage&&this.zoomImage.isZoomingIn?this.zoomImage.zoomOut({stopPropagation:b.noop}):this.zoom(),!0},innardRelease:function(){null!=this.zoomImage&&this.zoomImage.isZoomingIn&&this.zoomImage.zoomOut({stopPropagation:b.noop})},getOrCreateZoomImage:function(){return e.unmountComponentAtNode(this.presentationCanvas),this.renderZoomImage()},renderZoomImage:function(){var a=1/i.getCurrentWindowSlide().calculateTotalScale(),b=d.createElement(g,{imageModel:this.props.model,imageElement:this.find(".zoom"),imageUrl:this.getImage(),width:this.props.model.get("zoomdata").html5data.width*a,height:this.props.model.get("zoomdata").html5data.height*a,transform:{xOffset:this.props.model.get("xOffset"),yOffset:this.props.model.get("yOffset"),xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width*a,height:this.props.playerProps.height*a}});return this.zoomImage=e.render(b,this.presentationCanvas),this.zoomImage},onPositioned:function(){var a=this.zoomImage;null!=a&&a.isVisible()&&this.htmlReady(this.renderZoomImage)},onClick:function(){j.isMobileAndNotPreview||this.zoom()}});return l}),define("views/presentation/WebObjectSlideObject",["require","lodash","views/mixins/baseView","react","views/mixins/propertizable","helpers/assetManager","helpers/errorManager","helpers/vow","helpers/appState","helpers/pubSub","helpers/PostMessaging"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=(a("views/mixins/propertizable"),a("helpers/assetManager")),e=a("helpers/errorManager"),f=a("helpers/vow"),g=a("helpers/appState"),h=(a("helpers/pubSub"),a("helpers/PostMessaging")),i=e.throwError("WebObjectSlideObject"),j=function(a){return function(b){return b.eventName===a}},k=c.createClass({displayName:"WebObjectSlideObject",mixins:[b],subscriptions:{"volume:changed":"onVolumeChanged"},shortEvents:{model:{"action:trigger_webobject_client_event":"onTriggerClientEvent"}},getInitialState:function(){return{thumbVisible:!0}},prepareImageUrl:function(){var a=this.props.model.get("thumbAssetId"),b=d.getAssetUrl(a);return b},checkIsEngage:function(){return"EN13"===this.props.model.get("objtype")},componentWillMount:function(){this.isEngage=this.checkIsEngage(),this.imageUrl=this.prepareImageUrl(),this.clientReady=new f.Deferred,this.clientReady.done(function(a){this.onVolumeChanged(g.currentVolume())}.bind(this)),this.isEngage||this.clientReady.reject()},componentWillUnmount:function(){this.resetSubscriptions(),null!=this.postMessaging&&this.postMessaging.tearDown()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})},getUrl:function(){var a=this.props.model.get("html5Url");return this.isEngage&&(a+=["?wo=1&id=",this.props.model.id].join("")),a},getResumeData:function(){var a=this.props.model.variables().findWhere({name:"_remotedata"});return a.value()},setResumeData:function(a){var b=this.props.model.variables().findWhere({name:"_remotedata"});b.value(a),this.props.model.getClosestAncestorByKind("slide").prepareResumeData()},triggerHostEvent:function(a){this.props.model.executeFilteredPlayerEvent(j(a),"onclientevent")},onIframeLoad:function(){if(this.isEngage){this.refs.iframe.contentWindow;this.postMessaging=new h(this,this.props.model.id),this.postMessaging.ready().then(this.clientReady.resolve)}},onTriggerClientEvent:function(a){this.postMessaging.request("executeFilteredPlayerEvent",a.eventName).fail(i.bind(this,"onTriggerClientEvent","Cannot trigger web object client event"))},onVolumeChanged:function(a){this.postMessaging.request("setVolume",a).fail(i.bind(this,"setVolume","Cannot set volume"))}});return k}),define("collections/BaseCollection",["require","backbone","lodash","models/BaseModel","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer"],function(a){"use strict";var b=a("backbone"),c=a("lodash"),d=a("models/BaseModel"),e=a("mixins/subscribable"),f=a("mixins/resolveable"),g=a("mixins/ancestral"),h=a("mixins/shortEventable"),i=a("helpers/mixer"),j=b.Collection.extend({mixins:[e,f,g,h],model:d,isCollection:!0,constructor:function(a,d){var e=this.initialize;this.initialize=c.noop,b.Collection.apply(this,arguments),this.createParentReference(d),i.initMixinsOf(this),this.initialize=e,this.initialize.apply(this,arguments),i.postInitMixinsOf(this)}});return j}),define("models/presentation/Variable",["require","lodash","helpers/constants","models/BaseModel","helpers/pubSub","mixins/actionable","helpers/errorManager","helpers/resolver","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("models/BaseModel"),e=a("helpers/pubSub"),f=a("mixins/actionable"),g=a("helpers/errorManager"),h=a("helpers/resolver"),i=a("helpers/resume/Chunk"),j=g.throwError("Variable"),k=g.backtick,l="Invalid adjustment operator",m="^",n={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","‘":"^B","’":"^C","“":"^D","”":"^E"},o=b.invert(n),p=function(a,c){return b.reduce(a,function(a,b,c){return a.split(c).join(b)},c.toString())},q=b.partial(p,n),r=b.partial(p,o),s=function(a){return parseFloat(a.toPrecision(7))},t={add:function(a,b){return s(parseFloat(a)+parseFloat(b))},sub:function(a,b){return s(parseFloat(a)-parseFloat(b))},mult:function(a,b){return s(parseFloat(a)*parseFloat(b))},div:function(a,b){return s(parseFloat(a)/parseFloat(b))},set:function(a,b){return b},toggle:function(a){return!a}};t.addStrings=function(a,b){return[a,b].join("")};var u=function(a,b){return null!=a.value?h.getRef(a.value,b.context,b):h.resolvePath(a.variable,b.context)},v=d.extend({isVar:!0,idAttribute:"name",mixins:[f],shorthand:["value","name","type","resume"],shortEvents:{self:{"action:adjustvar":"adjust"}},playerPropNames:{InitValue:null},initialize:function(){this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},getOperator:function(a){return"add"===a&&this.isString()?"addStrings":a},adjust:function(a,b){var c,d=u(a,b),e=this.getOperator(a.operator);return t[e]||j("adjust",l,k(e)),c=t[e](this.value(),d),this.changeValue(c,a),this},changeValue:function(a,b){var c=this.value();c!==a&&(this.value(a,{relatedAction:b}),e.trigger("variable:changed",this.absoluteId,a,c))},getEncodedString:function(a){return a=a||this.value(),this.hasInitValue()?m:q(a)},decodeAndSetValue:function(a){return a!==m&&this.value(r(a),{silent:!0}),this},getEncodedValue:function(){var a=this.isString()?this.getEncodedString.bind(this):i.toSignedString64;return i.create(a(this.value()))},setEncodedValue:function(a){return this.isString()?this.decodeAndSetValue(a):this.value(i.fromSignedString64(a),{silent:!0}),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue,{silent:!0}),this.trigger("variable:refreshView")}}),w=v.prototype;return w.isString=b.partial(w.isType,c.varTypes.STRING),w.isBoolean=b.partial(w.isType,c.varTypes.BOOL),v}),define("models/presentation/helpers/utils",["require","lodash","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils")),c={isResumable:function(a){return a.shouldResume?a.shouldResume():!(!a.resume||!a.resume())},getResumeableFilter:function(a){return a?b.alwaysTrue:this.isResumable},meetConditionOrReturn:function(a,b,c){return b.call(a)?a.getResumeData():c}};return c}),define("collections/presentation/Variables",["require","lodash","collections/BaseCollection","models/presentation/Variable","models/presentation/helpers/utils","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/Variable"),e=a("models/presentation/helpers/utils"),f=a("helpers/resume/Chunk"),g=c.extend({model:d,subscriptions:{"player:reset":"resetValues"},initialize:function(){this.getResumeDataOrReturn=b.partial(e.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(a,c){return this.push(b.extend({},{resume:!0},a),{parent:c})},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(e.isResumable).some(function(a){return!a.hasInitValue()})},getResumeData:function(){this.booleans=[];var a=this.filter(e.isResumable).reduce(this.encodeVariable.bind(this),"");return f.create(this.encodeBooleans())+a},encodeVariable:function(a,b){return b.isBoolean()?this.booleans.push(b.value()):a+=b.getEncodedValue(),a},encodeBooleans:function(a){for(var b,c,d,e="";this.booleans.length;)c=1,b=this.booleans.splice(0,6),d=b.reduce(function(a,b){return a+=b*c,c*=2,a},0),e+=f.toUnsignedString64(d);return e},setResumeData:function(a){var b="";if(a.length>0){var c=new f({fullString:a}),d=this.convertBoolStringToArray(c.encodedString()),g=this.filter(e.isResumable);b=c.remainder(),g.forEach(function(a){a.isBoolean()?a.value(d.shift(),{silent:!0}):(c=c.reChunk(),a.setEncodedValue(c.encodedString()),b=c.remainder())})}return b},convertBoolStringToArray:function(a){var b=a.split("");return b.reduce(function(a,b){for(var c=f.fromUnsignedString64(b),d=1;32>=d;)a.push(!!(c&d)),d*=2;return a},[])}});return g}),define("models/presentation/TextLibItem",["require","models/BaseModel","collections/BaseCollection"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/BaseCollection"),d=c.extend({model:b.extend({idAttribute:null})}),e=b.extend({shorthand:["type","vartext","xPos","yPos","width","height"],associations:{linkdata:d}});return e}),define("collections/presentation/TextLib",["require","collections/BaseCollection","models/presentation/TextLibItem"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/TextLibItem"),d=b.extend({model:c});return d}),define("models/presentation/tweens/TweenAttribute",["require","lodash","helpers/utils","models/BaseModel","collections/presentation/TextLib","helpers/resolver","helpers/curveHelper"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("models/BaseModel"),e=(a("collections/presentation/TextLib"),a("helpers/resolver")),f=a("helpers/curveHelper"),g={exponetial:"Expo",bounce:"Bounce",circular:"Circ",cubic:"Cubic",linear:"Linear",quadratic:"Quad",quadradic:"Quad",quartic:"Quart",quintic:"Quint",sine:"Sine"},h={easein:"easeIn",easeout:"easeOut",easeinout:"easeInOut",none:"none"},i={QUAD:"quadratic",CUBIC:"cubic",LINE:"line"},j=b.partialRight(c.fix,2),k=/^[\/$#]/,l=d.extend({initialize:function(){b.bindAll(this,"getAttrConfig")},getAttrConfig:function(a){return this.hasDuration()?(null==this.points&&this.initPath(),this.buildConfig(a)):null},initPath:function(){this.segments=[],this.ptResolvers=[],this.segmentResolvers=[],b.forEach(this.get("path"),function(a,b){this.buildSegment(a,b)}.bind(this))},buildSegment:function(a,b){var c=a.type||i.LINE,d={points:[]},e=this.ptResolvers.length,g=function(){d.samples=f.getSamplePoints(d.points),d.distance=f.getDistance(d.points,d.samples)};this.buildSinglePoint(d,this.getSegmentPoint(a,"anchora")),c!==i.LINE&&this.buildSinglePoint(d,this.getSegmentPoint(a,"controla")),c===i.CUBIC&&this.buildSinglePoint(d,this.getSegmentPoint(a,"controlb")),this.buildSinglePoint(d,this.getSegmentPoint(a,"anchorb")),null!=this.extendSegmentConfig&&this.extendSegmentConfig(d,a),e===this.ptResolvers.length?g():this.segmentResolvers.push(g),this.segments.push(d)},getSegmentPoint:b.noop,extendConfig:b.identity,extendAfterUpdate:b.identity,buildSinglePoint:function(a,b){var c;this.isStaticPoint(b)?a.points.push(this.getAbsolutePoint(b)):(c=a.points.length,this.ptResolvers.push(function(){a.points[c]=this.getAbsolutePoint(b)}.bind(this)),a.points.push(null))},isStaticPoint:function(a){return this.isStaticValue(a.x,a.dx)&&this.isStaticValue(a.y,a.dy)},isStaticValue:function(a){return!b.isString(a)||!k.test(a)},getAbsolutePoint:function(a){return{x:j(this.getAbsoluteCoordinate(a.x,a.dx)),y:j(this.getAbsoluteCoordinate(a.y,a.dy))}},getAbsoluteCoordinate:function(a,b){return this.getValue(a)+this.getValue(b)},getValue:function(a){var d,f=this.getClosestThisRef();return c.isNumeric(a)?parseFloat(a):b.isString(a)?(d=e.resolvePath(a,f),parseFloat(d.isVar?d.value():d)):a},buildConfig:function(a){var b={delay:a,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this)};return b.update=this.updateConfig.bind(this,b),this.extendConfig(b)},hasDuration:function(){return null!=this.get("duration")},getDuration:function(){return this.get("duration")},getEasing:function(){return[g[this.get("easing")],h[this.get("easingdir")]].join(".")},updateConfig:function(a){var c=0;this.ptResolvers.forEach(function(a){a()}),this.segmentResolvers.forEach(function(a){a()}),this.segments.forEach(function(a){a.start=c,c+=a.distance}),this.totalDistance=c,this.getIsRelative()||(a.update=b.noop),this.extendAfterUpdate(a)},getIsRelative:function(){return!(!this.ptResolvers||!this.ptResolvers.length)},getPointAtTime:function(a,c){var d,e,g=this.totalDistance*a,h=b.sortedIndex(this.segments,{start:g},"start");return(h>this.segments.length-1||g!==this.segments[h].start)&&h--,d=this.segments[h],e=(a-(d.start/this.totalDistance||0))/(d.distance/this.totalDistance||1),this.lastSegmentInfo={index:h,adjustedTime:e},f.getNormalizedPointAtTime(e,d.points,d.samples,c)}});return l}),define("models/presentation/tweens/TweenAlpha",["require","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}},d=b.extend({getSegmentPoint:function(a,b){var d=c[b];return{x:a[d.x],dx:a[d.dx],y:0,dy:0}}});return d}),define("models/presentation/tweens/TweenPosition",["require","lodash","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/tweens/TweenAttribute"),d=c.extend({extendConfig:function(a){return a.autoRotation=!!this.get("relativerotation"),
a},extendAfterUpdate:function(a){a.autoRotation&&(a.closedPath=this.isClosedPath())},isClosedPath:function(){var a=this.segments[0].points[0],c=b.last(b.last(this.segments).points);return a.x===c.x&&a.y===c.y},getSegmentPoint:function(a,b){return a[b]}});return d}),define("models/presentation/tweens/TweenRotation",["require","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}},d=b.extend({getSegmentPoint:function(a,b){var d=c[b];return{x:a[d.x],dx:a[d.dx],y:0,dy:0}}});return d}),define("models/presentation/tweens/TweenScale",["require","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c={anchora:{x:"startx",dx:"dsx",y:"starty",dy:"dsy"},anchorb:{x:"endx",dx:"dex",y:"endy",dy:"dey"}},d=b.extend({extendConfig:function(a){return a.useGlobalAxes=!!this.get("useglobalaxes"),a},getSegmentPoint:function(a,b){var d=c[b];return{x:a[d.x],dx:a[d.dx],y:a[d.y],dy:a[d.dy]}}});return d}),define("models/presentation/tweens/TweenSkew",["require","models/presentation/tweens/TweenAttribute","helpers/curveHelper"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c=a("helpers/curveHelper"),d={anchora:{x:"startx",dx:"dstartx",y:"starty",dy:"dstarty"},anchorb:{x:"endx",dx:"dendx",y:"endy",dy:"dendy"}},e={anchora:{x:"startstretchx",y:"startstretchy"},anchorb:{x:"endstretchx",y:"endstretchy"}},f=b.extend({extendConfig:function(a){var b=this.get("regpoint");return a.useGlobalAxes=!!this.get("useglobalaxes"),a.regPoint={x:parseFloat(b.x)+parseFloat(b.dx),y:parseFloat(b.y)+parseFloat(b.dy)},a.corner=this.get("corner")||"bottomright",a.getSecondaryPoint=this.getSecondaryPoint.bind(this),a},getSegmentPoint:function(a,b){var c=d[b];return{x:a[c.x],dx:a[c.dx],y:a[c.y],dy:a[c.dy]}},getSecondarySegmentPoint:function(a,b){var c=e[b];return{x:a[c.x],dx:0,y:a[c.y],dy:0}},extendSegmentConfig:function(a,b){var c={points:[]};this.buildSinglePoint(c,this.getSecondarySegmentPoint(b,"anchora")),this.buildSinglePoint(c,this.getSecondarySegmentPoint(b,"anchorb")),a.secondaryPoints=c.points},getSecondaryPoint:function(){var a=this.lastSegmentInfo||{index:this.segments.length-1,adjustedTime:1};return c.getNormalizedPointAtTime(a.adjustedTime,this.segments[a.index].secondaryPoints)}});return f}),define("models/presentation/tweens/TweenMask",["require","lodash","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/tweens/TweenAttribute"),d=c.extend({extendConfig:function(a){return a.maskType=this.get("type"),a.maskProps=b.reduce(this.get("settings"),function(a,b){return a[b.name]=b.value,a},{}),a.maskProps.isExit="exit"===this.get("effecttype"),a},initPath:function(){this.ptResolvers=[],this.segmentResolvers=[],this.segments=[{distance:1,points:[{x:0,y:0},{x:1,y:0}]}]}});return d}),define("models/presentation/tweens/TweenColor",["require","lodash","helpers/utils","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("models/presentation/tweens/TweenAttribute"),e=d.extend({initialize:function(){var a=this.get("path")[0];this.startTintPercent=parseInt(a.starttintpercent),this.endTintPercent=parseInt(a.endtintpercent),this.startBrightness=parseInt(a.startbrightness),this.endBrightness=parseInt(a.endbrightness)},getAttrConfig:function(a){var c={delay:a,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this),update:b.noop};return c},getPointAtTime:function(a){return{x:c.clamp(0,100,this.startTintPercent+a*(this.endTintPercent-this.startTintPercent)+Math.abs(this.startBrightness+a*(this.endBrightness-this.startBrightness))),y:0}}});return e}),define("collections/presentation/TweenColors",["require","lodash","collections/BaseCollection","models/presentation/tweens/TweenColor"],function(a){"use strict";var b=(a("lodash"),a("collections/BaseCollection")),c=a("models/presentation/tweens/TweenColor"),d=b.extend({model:c,getAttrConfig:function(a){return 0===this.length?null:this.at(0).getAttrConfig(a)}});return d}),define("models/presentation/Tween",["require","lodash","helpers/utils","models/BaseModel","models/presentation/tweens/TweenAlpha","models/presentation/tweens/TweenPosition","models/presentation/tweens/TweenRotation","models/presentation/tweens/TweenScale","models/presentation/tweens/TweenSkew","models/presentation/tweens/TweenMask","collections/presentation/TweenColors"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),a("models/BaseModel")),d=a("models/presentation/tweens/TweenAlpha"),e=a("models/presentation/tweens/TweenPosition"),f=a("models/presentation/tweens/TweenRotation"),g=a("models/presentation/tweens/TweenScale"),h=a("models/presentation/tweens/TweenSkew"),i=a("models/presentation/tweens/TweenMask"),j=a("collections/presentation/TweenColors"),k=c.extend({associations:{scale:g,position:e,rotation:f,alpha:d,mask:i,colors:j,skew:h},initialize:function(){b.bindAll(this,"build"),this.delay=this.get("time")},build:function(){var a=b.reduce(this.associations,function(a,b,c){var d=this[c]().getAttrConfig(this.delay);return null!=d&&(a[c]=d),a},{},this);return{delay:this.delay,duration:this.get("duration"),tweenAttrs:a}}});return k}),define("collections/presentation/Tweens",["require","collections/BaseCollection","models/presentation/Tween"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Tween"),d=b.extend({model:c,buildTweens:function(){return this.invoke("build")}});return d}),define("models/presentation/Animation",["require","lodash","models/BaseModel","collections/presentation/Tweens"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("collections/presentation/Tweens"),e=c.extend({shorthand:["duration"],associations:{tweens:d},buildConfig:function(){var a={isWipe:!!this.get("wipetrans"),pushDir:this.get("pushdirection"),duration:this.get("duration"),tweens:this.tweens().buildTweens()};return a.updateConfig=function(){a.tweens.forEach(function(a){b.forOwn(a.tweenAttrs,function(a){a.update()})})},a},getConfig:function(){return this.config=this.config||this.buildConfig(),this.config.updateConfig(),this.config}});return e}),define("collections/presentation/Animations",["require","collections/BaseCollection","models/presentation/Animation"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Animation"),d=b.extend({model:c});return d}),define("models/presentation/mixins/propertizable",["require","lodash","helpers/utils","helpers/constants","backbone"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/constants"),e=a("backbone"),f=function(a){return a[d.PLAYER_PROPS_KEYPATH]},g=function(a,b){return a[d.PLAYER_PROPS_KEYPATH].set(b),a},h=function(a){var b=new e.Model;a[d.PLAYER_PROPS_KEYPATH]=b},i={init:function(){this.variableMap={},h(this),this.createVariableProps().createPlayerProps(),this.once("data:updated",this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId&&c.stripPlayer(this.absoluteId),parent:this.parent}},isVariableProp:function(a){return this.variableProps?b.has(this.variableProps,a):void 0},getVariableProp:function(a){return this.variableMap[a]},createVariableProps:function(){var a={};return this.variableProps&&(this.variableMap=b.reduce(this.variableProps,function(b,c,d){return b[d]=this.variables().addVariable({name:d,type:c.type,value:c.value,resume:null!=c.resume?c.resume:!0},this),a[d]=c.value,b}.bind(this),{}),this.variableProps=a),this},createPlayerProps:function(a,c){c=c||{};var d=b.extend({},this.getStaticPlayerProps(),this.getTransformedPropsObj(),a?{}:this.decodedResumeData);return g(this,b.omit(d,c)),f(this)},prop:function(a,c){var d=void 0===c&&!b.isObject(a),e=f(this);if(d)return e.get(a);if(e.set(a,c),this.isVariableProp(a)){var g=this.getVariableProp(a);g.value(c)}return this},getPlayerProps:function(){return f(this)},getVariableProps:function(){var a=this.variableProps||{};return b.forEach(a,function(b,c){if(this.isVariableProp(c)){var d=this.getVariableProp(c);d&&(a[c]=d.value())}}.bind(this))},getTransformedPropsObj:function(){var a=this.playerPropNames||{},c=b.omit(a,"model"),d=b.transform(a.model,function(a,b,c){a[c]=this.get(b)}.bind(this));return b.extend(c,d,this.getVariableProps())},hasOwnPlayerProp:function(a){return f(this).has(a)},prepareResumeData:function(a){return a=a||{},this.onBeforeResumeBuilt(a),b.isFunction(this.buildResumeData)&&this.buildResumeData(a.force),a.skipPostBuild||this.onAfterResumeBuilt(a.retainState),this},resetProps:function(){this.createPlayerProps(!0)},resetPropsExcept:function(a){this.createPlayerProps(!0,a)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:b.noop,onBeforeResumeBuilt:b.noop};return i}),define("models/presentation/mixins/eventable",["require","lodash","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/Iterable"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/actionManager"),e=a("helpers/errorManager"),f=a("helpers/Iterable"),g=e.throwError("eventable"),h={isEventable:!0,hasEvent:function(a){return this.getEvents(a).length>0},getEvents:function(a){var c=this.events()||[];return c&&b.union(b.where(c,{kind:a}),b.where(c,{eventname:a}))},getFilteredPlayerEvent:function(a,c,d){var e=this.getEvents(c);return 0===e.length?{events:f.empty,data:d}:(d&&!b.isObject(d)&&g("executeFilteredPlayerEvent","data supplied must be an object"),d=b.extend(d||{},{context:this.getClosestEventTarget(),eventType:c}),{events:new f(e).filter(a),data:d})},executeFilteredPlayerEvent:function(a,b,c){var e=this.getFilteredPlayerEvent(a,b,c),f=function(a){null!=a.actions&&d.executeActions(a.actions,e.data)};return e.events.forEach(f),this},traceFilteredPlayerEvent:function(a,b,c){var e=this.getFilteredPlayerEvent(a,b,c);return e.events.map(function(a){return d.traceActions(a.actions,e.data)}).flatten()}};return b.extend(h,{executePlayerEvent:b.partial(h.executeFilteredPlayerEvent,c.alwaysTrue),tracePlayerEvent:b.partial(h.traceFilteredPlayerEvent,c.alwaysTrue)}),h}),define("mixins/varPropListenable",["require","lodash","helpers/resolver","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resolver"),d=a("helpers/errorManager"),e=(d.throwError("varPropListenable"),d.backtick,function(a,b){return b.kind===a}),f=b.partial(e,"onvarchanged"),g=b.partial(e,"onpropchanged"),h=function(a){return["change",a].join(":")},i=function(a,d){return b.invoke(d,function(){var b=this,d=h("value"),e=c.resolvePath(b.varname,a),f=function(){a.executeFilteredPlayerEvent(function(a){return a===b},"onvarchanged")};return null!=e&&a.listenTo(e,d,f),{listener:a,obj:e,event:d,callback:f}})},j=function(a,d){return b.invoke(d,function(){var b=this,d=c.resolvePath(b.objRef,a),e=b.propname,f=d.prop(e),g=h(e),i=d.getPlayerProps(),j=function(){window.requestAnimationFrame(function(){f!==d.prop(e)&&(f=d.prop(e),a.executeFilteredPlayerEvent(function(a){return a===b},"onpropchanged"))})};return a.listenTo(i,g,j),{listener:a,obj:i,event:g,callback:j}})},k={setVarAndPropListeners:function(){var a=this.events();return[].concat(i(this,b.sortBy(a.filter(f),"priority").reverse()),j(this,b.sortBy(a.filter(g),"priority").reverse()))}};return k}),define("models/presentation/mixins/resumables/slideObjectResumable",["require","lodash","helpers/resume/Chunk","helpers/keyManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resume/Chunk"),d=a("helpers/keyManager"),e={STATE:1,VARIABLE:2,ON_STAGE:4,DRAG_DROP:8,USE_ANIMATION:16,DEPTH:32,SHUFFLED:64,ACTION_MOVED:128,ACTION_CONTROLLED:256,DISABLED:512,REVIEW:1024,MOUSE_OVER:2048,HIDDEN_BY_LAYER:4096},f={POSITION:1,SCALE:2,ROTATION:4,ALPHA:8,COLOR:16},g=4094,h=g+1,i=function(a){return!!a.isBaseLayer},j=function(a,b){var c=a.slice(0,b);return a=a.slice(b),{data:a,substr:c}},k=function(a,b,d){var e=d===!0?"fromUnsignedString64":"fromSignedString64";return c[e](a(b))},l={resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(a){return this.buildResumeData(a).getResumeData()},buildResumeData:function(a){var b,d=0,f="",g=this.prop("DragConnected");return(this.shouldResume()||a)&&(this.isInDefaultState()||(d+=e.STATE,f+=c.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&g&&(d+=e.DRAG_DROP,f+=c.toUnsignedString64(g.prop("slideIndex"),2),f+=c.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(d+=e.DEPTH,f+=c.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(d+=e.SHUFFLED,f+=c.toSignedString64(this.prop("ShuffleXPos"),2),f+=c.toSignedString64(this.prop("ShuffleYPos"),2),f+=c.toUnsignedString64(this.prop("tabIndex"),2)),d+=this.prop("OnStage")*e.ON_STAGE,d+=this.prop("Moved")*e.ACTION_MOVED,d+=this.prop("ReviewMode")*e.REVIEW,d+=this.prop("HiddenByLayer")*e.HIDDEN_BY_LAYER,d+=this.prop("MouseOver")*e.MOUSE_OVER,d+=!this.prop("Enabled")*e.DISABLED,d+=!this.prop("TimelineControlled")*e.ACTION_CONTROLLED,b=this.variables().getResumeDataOrReturn(!1),b&&(d+=e.VARIABLE,f+=b),this.hasAnimated()&&(d+=e.USE_ANIMATION,this.animationStateData=this.currView.getAnimationResumeState(),this.trigger("addanimationdata",this.collectAnimationResumeData.bind(this)),this.buildAnimationResumeData(this.animationStateData),f+=this.getAnimationResumeData())),this.encodedResumeData=c.toUnsignedString64(d,3)+f,this},getAnimationResumeData:function(a){return c.create(this.animationResumeData)},collectAnimationResumeData:function(a){this.animationStateData=b.extend(this.animationStateData,a)},buildAnimationResumeData:function(a){var b=g,d=this.prop("Parent"),e=0;this.animationResumeData="",(this.isReparented()||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(e+=f.POSITION,this.animationResumeData+=c.toSignedString64(Math.round(a.RawXPos),2),this.animationResumeData+=c.toSignedString64(Math.round(a.RawYPos),2),this.isReparented()&&(b=d.prop("slideIndex")||h),this.animationResumeData+=c.toUnsignedString64(b,2),this.isScaled()&&(e+=f.SCALE,this.animationResumeData+=c.toSignedString64(a.ScaleX,2),this.animationResumeData+=c.toSignedString64(a.ScaleY,2)),this.isRotated()&&(e+=f.ROTATION,this.animationResumeData+=c.toSignedString64(a.Rotation,2))),this.isAlphaed()&&(e+=f.ALPHA,this.animationResumeData+=c.toUnsignedString64(a.Alpha,2)),e>0&&(this.animationResumeData=c.toUnsignedString64(e,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(a,c){var d={};b.isObject(a)?d=a:d[a]=c,b.extend(this.decodedResumeData,d)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(a){if(this.setDecodedResumeDataObj(),b.isEmpty(a))return this;var c,f,g,h,l,m=function(b){var c=j(a,b);return a=c.data,c.substr},n=b.partial(k,m),o=n(3,!0);return o&e.STATE?this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(n(2))):this.setDecodedResumeProp("ObjectState","_default"),o&e.DRAG_DROP&&(c=n(2),this.setDecodedResumeProp("DropIndex",n(1)),f=this.getClosestAncestor(i).getObjectByIndex(c),this.setDecodedResumeProp("DragConnected",f),this.setDecodedResumeProp("DropTargetId",f.id)),o&e.DEPTH&&this.setDecodedResumeProp("depth",n(2)),o&e.SHUFFLED&&(g=n(2),h=n(2),l=n(2,!0),this.prop("tabIndex",l),this.currView.idx=l,d.addItem(this.currView,!1,null,!0),this.setDecodedResumeProp({ShuffleXPos:g,RawXPos:g,ShuffleYPos:h,RawYPos:h})),this.setDecodedResumeProp({Moved:!!(o&e.ACTION_MOVED),TimelineControlled:!(o&e.ACTION_CONTROLLED),Enabled:!(o&e.DISABLED),ReviewMode:!!(o&e.REVIEW),MouseOver:!!(o&e.MOUSE_OVER)}),o&e.VARIABLE&&(a=this.variables().setResumeData(a),this.setDecodedResumeProp(this.getVariableProps())),o&e.USE_ANIMATION&&this.setAnimationResumeData(a),this.setDecodedResumeProp("OnStage",!!(o&e.ON_STAGE)),this.prop(this.decodedResumeData),this},setAnimationResumeData:function(a){var d,e,l,m,n={},o=new c({fullString:a}),p=o.encodedString(),q=function(a){var b=j(p,a);return p=b.data,b.substr},r=b.partial(k,q);return p.length&&(d=c.fromUnsignedString64(q(1)),d&f.POSITION&&(n.RawXPos=r(2),n.RawYPos=r(2),e=r(2,!0),e!==g&&(l=this.getClosestAncestor(i),m=e===h?l:l.getObjectByIndex(e),n.Parent=m)),d&f.SCALE&&(n.ScaleX=r(2),n.ScaleY=r(2)),d&f.ROTATION&&(n.Rotation=r(2)),d&f.ALPHA&&(n.Alpha=r(2,!0)),this.setDecodedResumeProp(n)),o.remainder()},setResumeDataLimited:function(a){var c=function(b){var c=j(a,b);return a=c.data,c.substr},d=b.partial(k,c),f=d(3,!0);return f&e.STATE&&this.setStateFromIndex(d(2)),f&e.VARIABLE?(f&e.DRAG_DROP&&c(3),f&e.DEPTH&&c(2),f&e.SHUFFLED&&c(4),this.variables().setResumeData(a),this):void 0},resetObjectBeforeResume:function(a){this.isKind("shufflegroup")?this.markAsReset():(this.variables().resetValues(),a||(this.trigger("resume:reset"),this.animations().length>0&&this.trigger("killAnimations"),this.resetPropsExcept("updateGifOnShow")))},onBeforeResumeBuilt:function(a){this.objects&&this.objects().invoke("prepareResumeData",a)},onAfterResumeBuilt:function(a){a||this.prop("updateGifOnShow",!0)},shouldResume:function(){return this.resume()&&!this.isKind("shufflegroup")&&this.getClosestAncestor(i).shouldResume()}};return l}),define("models/presentation/SlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/vow","helpers/resolver","helpers/svg/svgManager","models/BaseModel","collections/BaseCollection","collections/presentation/Variables","collections/presentation/TextLib","collections/presentation/Animations","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideObjectResumable","helpers/resume/Chunk","helpers/actionManager","helpers/pubSub","helpers/svg/imageHelper"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),a("helpers/constants")),d=(a("helpers/vow"),a("helpers/resolver")),e=(a("helpers/svg/svgManager"),a("models/BaseModel")),f=(a("collections/BaseCollection"),a("collections/presentation/Variables")),g=a("collections/presentation/TextLib"),h=a("collections/presentation/Animations"),i=a("mixins/actionable"),j=a("models/presentation/mixins/propertizable"),k=a("models/presentation/mixins/eventable"),l=a("mixins/varPropListenable"),m=a("models/presentation/mixins/resumables/slideObjectResumable"),n=(a("helpers/resume/Chunk"),a("helpers/actionManager")),o=a("helpers/pubSub"),p=a("helpers/svg/imageHelper"),q="_default",r="custom",s=/hotspot.*marker/,t=/tooltip/,u=/value":"[^,]*_tooltip/,v=/(Incorrect|Correct)Review/,w=1e3,x={webobject:[{name:"_remotedata",type:c.varTypes.STRING,value:""}]},y=e.extend({mixins:[i,k,m,j,l],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:f,textLib:g,animations:h},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:!1,LastKeyCode:-1,LastKeyShift:!1,LastKeyCtrl:!1,LastKeyValue:null,Moved:null,ReviewMode:null,Text:null,Expanded:!1,DragConnectData:"",SelectedItemData:"",TimelineControlled:!0,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:q,OnStage:!1,HiddenByLayer:!1,updateGifOnShow:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",InitDepth:"depth",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",tabIndex:"tabIndex",width:"width"}},subscriptions:{"player:reset":"onPlayerReset"},shortEvents:{self:{"change:xPos change:yPos":"onPositionUpdate","action:show":"show","action:hide":"hide","action:setobjstate":"setState","action:bringtofront":"bringToFront","action:set_enabled":"setEnabled","action:store_resume_data":"storeResumeData","action:restore_resume_state":"restoreResumeState","action:get_mouse_position":"getMousePosition","action:moveto":"moveTo","action:set_review":"setReview"}},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once("data:updated",this.bindTimelineEvents.bind(this)),this.hiderParents=[],this.containsGif=p.containsGif(this.imagelib())},shouldUpdateGif:function(){if(!this.containsGif)return!1;var a=this.prop("updateGifOnShow"),b=this.prop("OnStage");return b&&this.prop("updateGifOnShow",!1),a&&b},addExtraVariables:function(){var a=x[this.kind()]||[];return a.forEach(function(a){this.variables().addVariable(a)}.bind(this)),this},bindTimelineEvents:function(){var a=this.getLayer().timeline();this.listenTo(a,"beforeSeekUpdate",this.onBeforeSeekUpdate.bind(this)),this.listenTo(a,"afterSeekUpdate",this.onAfterSeekUpdate.bind(this))},isInDefaultState:function(){return this.prop("ObjectState")===q},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isReparented:function(){return this.parent!==this.prop("parent")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.prop("ShuffleXPos")!==this.prop("RawXPos")||this.prop("ShuffleYPos")!==this.prop("RawYPos")},isHotSpotMarker:function(){return s.test(this.id)},isToolTip:function(){return t.test(this.id)},isCorrectIncorrectReview:function(){return v.test(this.id)},isObscurableBySelf:function(){if(this.isStateGroupSlideObject)return!1;var a,c,d,e=b.findWhere(this.events(),{kind:"onrollover"});return e&&(a=JSON.stringify(e.actions),c=-1!==a.indexOf('kind":"show'),d=u.test(a)),c&&!d},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getStateFromVar:function(){return b.findWhere(this.states(),{name:this.prop("ObjectState")})},getStateFromName:function(a){return b.findWhere(this.states(),{name:a})},getStateFromIndex:function(a){return this.states()[a].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.prop("RawYPos"),left:this.prop("RawXPos")}},getShapeMask:function(){var a=this.get("shapemaskId");return b.isEmpty(a)?null:d.resolvePath(a,this)},fixZeroBoundsMetrics:function(a){return 0!==a.strokewidth||0!==a.width&&0!==a.height||(a.strokewidth=.5),a},getCurrentStateMetrics:function(){var a=(this.getCurrentStateData()||{}).html5data,c={xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0};return this.fixZeroBoundsMetrics(b.extend(c,a))},getBounds:function(){var a=this.getCurrentStateMetrics(),c=a.strokewidth,d=2*c;return a.strokewidth*=2,b.extend(a,{fullX:Math.ceil(a.xPos-c),fullY:Math.ceil(a.yPos-c),fullWidth:a.width+d,fullHeight:a.height+d})},getSlide:function(){return this.getClosestAncestor(function(a){return!!a.isSlide})},getLayer:function(){return this.getClosestAncestor(function(a){return null!=a.isBaseLayer})},moveTo:function(a,b){var c=d.getRef(a.xOffset,b.context),e=d.getRef(a.yOffset,b.context),f=d.getRef(a.xPos,b.context),g=d.getRef(a.yPos,b.context),h=f+c,i=g+e;this.trigger("moveTo",h,i)},getMousePosition:function(a){this.trigger("getMousePosition",a)},setState:function(a,b){var c=d.getRef(a.stateRef,b.context,b);return this.prop("ObjectState",c),this},setReview:function(a){this.prop("ReviewMode",a.enabled.value),this.trigger("setReview",a.enabled.value)},setStateFromIndex:function(a){this.prop("ObjectState",this.getStateFromIndex(a))},setEnabled:function(a){this.prop("Enabled",a.enabled.value)},setSlideIndex:function(a){this.prop("slideIndex",a)},bringToFront:function(a){this.prop("depth",w++)},setHiddenByLayer:function(a,c){a?this.hiderParents=b.without(this.hiderParents,c):this.hiderParents=b(this.hiderParents).push(c).uniq().value(),this.prop("HiddenByLayer",this.hiderParents.length>0)},adjustVariables:function(){var a=b.toArray(arguments);a.forEach(function(a){this.adjustVariable(a.name,a.value)}.bind(this))},adjustVariable:function(a,b){var c=this.getClosestParentRef(),d={kind:"adjustvar",variable:a,operator:"set",value:{type:"number",value:b}};n.executeAction(d,{context:this}),c.executePlayerEvent("onvarchanged")},storeResumeData:function(a,b){var c=d.resolvePath(a.varref,b.context);c.value(this.getFullResumeData(!0))},restoreResumeState:function(a,b){var c=d.resolvePath(a.varref,b.context),e=a.limited,f=e?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(e),this[f](c.value()).forceUpdateResume()},resetForSeek:function(){this.trigger("clearAnimations"),this.resetPropsExcept(["Enabled","ReviewMode","HiddenByLayer","depth","updateGifOnShow","ShuffleXPos","ShuffleYPos"]),this.prop({RawXPos:this.prop("ShuffleXPos"),RawYPos:this.prop("ShuffleYPos")}),null!=this.currView&&this.currView.applyStylesDirectly()},onBeforeSeekUpdate:function(){this.prop("TimelineControlled")&&this.prop("OnStage")&&(this.shouldHideOnSeek=!0,this.resetForSeek())},onAfterSeekUpdate:function(){this.shouldHideOnSeek&&(this.hiding=!1,this.prop("updateGifOnShow",!0),this.trigger("hide"))},setupToggleVisibilityState:function(){this.hideShowState=null},toggleVisibility:function(a,b,c,d){c=c||{},d=d||{};var e,f=this.prop("OnStage"),g=this.prop("TimelineControlled"),h="show"===a,i=!!d.isSeekAction,j=null!=c&&c.transition===r,k=h?"shown":"hidden",l=function(){h||(this.hiding=!1,this.prop("OnStage",!1)),this.trigger(k),this.executePlayerEvent(b+"complete")}.bind(this),m=(c.animationId+d.time,function(){e=this.animations().get(c.animationId),this.trigger(a+r,h,d,e,l)}.bind(this)),n=null!=d.timelineLabel;if(this.shouldHideOnSeek=this.shouldHideOnSeek&&!h,(!h&&!n||i&&0===d.currentTime)&&this.prop("updateGifOnShow",!0),!g&&n&&h&&i&&(d.beforeSeekTime<d.time||d.time===d.currentTime))this.resetForSeek();else if(!h&&!f||h&&f&&!this.hiding||i&&!g&&d.beforeSeekTime>d.time)return;return this.hideShowState=c.kind,this.prop("TimelineControlled",n),this.trigger(a),h?this.prop("OnStage",!0):this.hiding=!0,this.executePlayerEvent(b),j?m():l(),o.trigger("slideLayer:resolvedObjectVisibility"),this},onTweenUpdate:function(a){this.trigger("tween:update",a)},onPlayerReset:function(){this.containsGif&&this.prop("updateGifOnShow",!0)}}),z=y.prototype;return z.show=b.partial(z.toggleVisibility,"show","ontransitionin"),z.hide=b.partial(z.toggleVisibility,"hide","ontransitionout"),z.isVectorShape=b.partial(z.isKind,"vectorshape"),y}),define("views/presentation/mixins/backgroundable",["require","helpers/assetManager"],function(a){"use strict";var b=a("helpers/assetManager"),c={hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return b.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var a=this.getImageBgAsset();return{position:"absolute",left:a.mobiledx(),top:a.mobiledy(),height:a.height(),width:a.width()}}};return c}),define("views/presentation/ScrollAreaSlideObject",["require","lodash","views/helpers/dom","models/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/backgroundable","react","helpers/svg/svgManager","helpers/utils","polyfills/detection"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/dom")),c=(a("models/presentation/SlideObject"),a("views/mixins/baseView")),d=a("views/presentation/mixins/backgroundable"),e=a("react"),f=(a("helpers/svg/svgManager"),a("helpers/utils"),a("polyfills/detection")),g=e.createClass({displayName:"ScrollAreaSlideObject",mixins:[c,d],getInitialState:function(){return{shouldNotScroll:!1,contentHeight:10}},componentWillMount:function(){this.listenTo(this.props.model,"updateScrollHeight",this.onUpdateHeight),this.listenTo(this.props.model,"updateScrollPos",this.onUpdatePos)},componentDidMount:function(){this.calcScrolling(),this.updateScrollBar()},onUpdateHeight:function(){this.setState({contentHeight:this.contentheight()}),this.calcScrolling(!0)},shouldUpdate:function(a,b){return b.isVisible!==this.state.isVisible||b.shouldNotScroll!==this.state.shouldNotScroll||b.contentHeight!==this.state.contentHeight},onUpdatePos:function(a){this.props.model.prop("Position",a),this.htmlReady(function(){this.scrollingArea.scrollTop=a,this.updateScrollBar()}.bind(this))},calcScrolling:function(a){var b=this.find(".scrollarea-area"),c=this.contentheight(),d=this.height(),e=d>=c;this.setState({shouldNotScroll:e,contentHeight:c}),this.props.model.prop("Viewed",e),null==a&&this.setupScrollArea(b),null!=this.refs.scrollBar&&this.refs.scrollBar.constrainScroll()},setupScrollArea:function(a){this.scrollingArea=a,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},onScroll:function(){this.props.model.prop("Position",this.scrollingArea.scrollTop);var a=this.scrollingArea.scrollHeight-this.scrollingArea.scrollTop;a<=this.scrollingArea.offsetHeight+5&&this.props.model.prop("Viewed",!0),this.scrollingArea.scrollLeft=0,this.updateScrollBar()},updateScrollBar:function(){null==this.refs.scrollBar||f.isIE()||this.refs.scrollBar.update()},scroll:function(a){if(!this.state.shouldNotScroll){var b=a?10:-10;this.scrollingArea.scrollTop+=b}},treeKeyCallback:function(a,b){return this.scroll(b),!0},beforeChildScrollFocus:function(a){a&&(this.lastScrollTop=this.scrollingArea.scrollTop)},childScrollFocus:function(a){if(a.state.tabFocused===!0){var c=this.find(".scrollarea-area"),d=b.getScrollRecommendation(c,a.el);0!==d&&(c.scrollTop=d)}else this.scrollingArea.scrollTop=this.lastScrollTop;this.scrollingArea.scrollLeft=0,this.refs.contentArea.scrollTop=0,this.refs.contentArea.scrollLeft=0},isTabbable:function(){return!this.state.shouldNotScroll},contentheight:function(){return this.props.model.contentheight()},contentwidth:function(){return this.props.model.contentwidth()},height:function(){return this.props.playerProps.height},width:function(){return this.props.playerProps.width}});return g}),define("helpers/svg/expandingLabelHelper",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=function(){var a=[],c={add:function(b){a=a.concat(b)},addCmd:function(b,c){c.unshift(b),a=a.concat(c)},value:function(){return a}};return c.addM=b.partial(c.addCmd,"M"),c.addL=b.partial(c.addCmd,"L"),c.addQ=b.partial(c.addCmd,"Q"),c},d=function(a){return a.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim();
},e=function(a){var b=a.radius,c=a.arrowY-a.halfArrowSize;return b>c&&(b=c),b},f={"left-bottom":function(a,b){a.addM([b.width,b.arrowLength])},left:function(a,b){a.addM([b.width,e(b)])},"default":function(a,b){a.addM([b.width,b.radius])}},g={"bottom-left":function(a,b){a.addL([b.width,0,b.width,b.arrowY,b.width-b.arrowLength,0])},"left-bottom":function(a,b){a.addL([b.arrowX,0])},left:function(a,b){a.addQ([b.width,0,b.width-e(b),0])},"default":function(a,b){a.addQ([b.width,0,b.width-b.radius,0])}},h={bottom:function(a,b){a.addL([b.arrowX+b.halfArrowSize,0,b.arrowX,b.arrowY,b.arrowX-b.halfArrowSize,0,b.radius,0])},"bottom-right":function(a,b){a.addL([b.arrowLength,0])},right:function(a,b){a.addL([e(b),0])},"default":function(a,b){a.addL([b.radius,0])}},i={"bottom-right":function(a,b){a.addL([b.arrowLength,0,0,b.arrowY])},"right-bottom":function(a,b){a.addL([b.arrowX,0,0,b.arrowLength])},right:function(a,b){a.addQ([0,0,0,e(b)])},"default":function(a,b){a.addQ([0,0,0,b.radius])}},j={right:function(a,b){a.addL([0,b.arrowY-b.halfArrowSize,b.arrowX,b.arrowY,0,b.arrowY+b.halfArrowSize,0,b.height-e(b)])},"right-top":function(a,b){a.addL([0,b.height-b.arrowLength])},"default":function(a,b){a.addL([0,b.height-b.radius])}},k={"right-top":function(a,b){a.addL([b.arrowX,b.height])},"top-right":function(a,b){a.addL([0,b.arrowY,b.arrowLength,b.height])},right:function(a,b){a.addQ([0,b.height,e(b),b.height])},"default":function(a,b){a.addQ([0,b.height,b.radius,b.height])}},l={top:function(a,b){a.addL([b.arrowX-b.halfArrowSize,b.height,b.arrowX,b.arrowY,b.arrowX+b.halfArrowSize,b.height,b.width-b.radius,b.height])},"top-left":function(a,b){a.addL([b.width-b.arrowLength,b.height])},left:function(a,b){a.addL([b.width-e(b),b.height])},"default":function(a,b){a.addL([b.width-b.radius,b.height])}},m={"top-left":function(a,b){a.addL([b.width-b.arrowLength,b.height,b.arrowX,b.arrowY])},"left-top":function(a,b){a.addL([b.arrowX,b.height,b.width,b.height-b.arrowLength])},left:function(a,b){a.addQ([b.width,b.height,b.width,b.height-e(b)])},"default":function(a,b){a.addQ([b.width,b.height,b.width,b.height-b.radius])}},n={left:function(a,b){a.addL([b.width,b.arrowY+b.halfArrowSize,b.arrowX,b.arrowY,b.width,b.arrowY-b.halfArrowSize]),a.add(["Z"])},"default":function(a,b){a.add(["Z"])}},o=function(a,c){var d=0;return c=b.map(c,function(b){return isNaN(b)||(d%2===1&&(b+=a),d++),b})},p={arrowLength:null,calcTranslate:function(a,b){var c=0,d=0,e=0,f=0;return 0>a&&(c=-1*a,e=a),0>b&&(d=-1*b,f=b),{x:c,y:d,offX:e,offY:f}},calcArrowLength:function(a,b,c,d){var e;return 0>c&&(e=-1*c),c>a&&(e=c-a),0>d&&(e=-1*d),d>b&&(e=d-b),this.arrowLength=e,e},labelPath:function(a){var b,e=c(),p=a.dir,q=a.top;return a.arrowY-=q,a.arrowLength=this.arrowLength,a.halfArrowSize=this.arrowLength/2,"left"!==p&&"right"!==p||(a.height-=1),[f,g,h,i,j,k,l,m,n].forEach(function(b){(b[p]||b["default"])(e,a)}),b=o(q,e.value()),d(b)}};return p}),define("views/presentation/ExpandingLabelSlideObject",["require","lodash","tween-lite","helpers/utils","views/mixins/baseView","react","helpers/svg/svgManager","views/mixins/propertizable","helpers/svg/expandingLabelHelper","polyfills/detection","helpers/vow","helpers/pubSub","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("helpers/utils"),e=a("views/mixins/baseView"),f=a("react"),g=a("helpers/svg/svgManager"),h=(a("views/mixins/propertizable"),a("helpers/svg/expandingLabelHelper")),i=a("polyfills/detection"),j=a("helpers/vow"),k=a("helpers/pubSub"),l=(a("helpers/svg/svgUtils"),.3),m=6,n=3,o=f.createClass({completeHook:b.noop,displayName:"ExpandingLabelSlideObject",mixins:[e],shortEvents:{model:{"action:object_action":"onObjectAction"}},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.content.style.visibility="hidden",this.onShown(this.prepare),this.scrollArea=this.findComponent("ScrollAreaSlideObject")},componentWillUnmount:function(){this.killAllTweens()},componentWillMount:function(){var a=this.props.model;this.prepared=new j.Deferred,this.startHeight=this.props.model.getBounds().height+m+n,this.arrowSize=h.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,a.get("arrowxpos"),a.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate().calcLabelPos(),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent},i.isMobile&&(this.actionConfig.showtitle=this.showComplete,this.actionConfig.hidetitle=this.hideComplete,this.actionConfig.togglecontent=this.toggleComplete)},svg:function(){return g.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){var a=this.props.model;c.set(this.label,this.labelPos),this.updateLabel(),c.set(this.el,{scaleX:0,scaleY:0,transformOrigin:[a.get("arrowxpos"),a.get("arrowypos")].map(d.pxify).join(" ")}),this.content.style.visibility="",this.setupTweens(),this.prepared.resolve()},setupTween:function(a){var d=this.tweenedNodes;return d=b(d).push(a.node).compact().uniq().value(),this.tweenedNodes=d,this[a.name]=new c(a.node,a.duration,a.opts),this},setupTweens:function(){var a=[{name:"titleTween",node:this.el,duration:l,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,paused:!0}},{name:"labelTween",node:this.label,duration:l,opts:{x:0,y:0,height:this.props.playerProps.height,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.content,duration:l,opts:{height:this.props.playerProps.height,paused:!0,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],a.forEach(d.take(1,this.setupTween)),this},killAllTweens:function(){return null!=this.tweenedNodes&&this.tweenedNodes.forEach(d.take(1,c.killTweensOf)),this},showComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.showTitle().done(function(){1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent}.bind(this))}.bind(this))},hideComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.contentTween.isActive()?this.hideContent().done(function(){this.completeHook=this.hideTitle}.bind(this)):(this.currentTween=b.noop,this.hideTitle())}.bind(this))},toggleContent:function(){this.shouldShowContent()?this.hideContent():this.showContent()},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(a){return this.completeHook===this.showContent&&"hidecomplete"!==a},wasToggledMultipleTimes:function(a,b){if(i.isMobile){if("onrollout"===b&&"hidecomplete"===a&&"togglecontent"===this.prevCommand)return!0;if("onrollover"===this.prevEventType&&"showcomplete"===this.prevCommand&&"onrollout"===b&&"hidecomplete"===a&&!this.shouldShowContent())return!0}return!1},onObjectAction:function(a,b){var c=a.command,d=b&&b.eventType;this.wasToggledMultipleTimes(c,d)||"togglecontent"!==c&&this.prevCommand===c||(this.prevCommand=c,this.prevEventType=d,this.contentWillShow(c)||this.actionConfig[c]())},triggerObjectEvent:function(a){this.props.model.executeFilteredPlayerEvent(function(b){return b.eventName===a},"onobjectevent")},calcAlignment:function(){var a,c,d=this.props.model,e=d.get("arrowxpos"),f=d.get("arrowypos"),g="",h="",i="";return 0>=f?h="bottom":f>=this.props.playerProps.height&&(h="top"),0>=e?(g="right",0>e&&(a=!0)):e>=this.props.playerProps.width&&(g="left",e>this.props.playerProps.width&&(a=!0)),c=a?[g,h]:[h,g],i=b(c).compact().join("-"),this.alignment=i,this},calcLabelSize:function(){var a=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+a,height:this.props.playerProps.height+a},this},calcLabelTranslate:function(){var a=h.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),b=this.props.model.get("borderwidth"),c=b%2?.5:0;return a.x+=b+c,a.y+=b+c,a.offX-=b,a.offY-=b,this.labelTranslate=a,this},calcLabelPos:function(){var a=this.props.model,c=this.alignment,d=0,e=0;return"right"===c||"left"===c?e=a.get("arrowypos")-this.startHeight/2:b.contains(c,"top")&&(e=a.get("height")-this.startHeight),this.labelPos={x:d,y:e},this},showTitle:function(){return this.prepared.done(function(){this.currentTween=this.titleTween,this.currentTween.play(),this.completeHook=b.noop}.bind(this))},onTitleComplete:function(){this.completeHook()},hideTitle:function(){return this.prepared.done(function(){this.completeHook=this.hideTitle,this.shouldShowContent()||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=b.noop)}.bind(this))},showContent:function(){return this.prepared.done(function(){this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),1===this.currentTween.progress()&&this.onContentComplete()}.bind(this))},onContentReverseComplete:function(){this.props.setPlayerProp("Expanded",!1),this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete")},onContentComplete:function(){this.completeHook=b.noop,this.props.setPlayerProp("Expanded",!0),this.triggerObjectEvent("contentincomplete"),k.trigger("slideLayer:resolvedObjectVisibility"),null!=this.scrollArea&&this.scrollArea.calcScrolling()},hideContent:function(){return this.prepared.done(function(){i.isMobile||this.props.setPlayerProp("Expanded",!1),this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout"),k.trigger("slideLayer:resolvedObjectVisibility"),0===this.currentTween.progress()&&this.onContentReverseComplete()}.bind(this))},calcTweenScale:function(){for(var a,b=this.props.model,c=1;b;)a=b.currView,b.isSlideObject&&null!=a&&null!=a.tweenedConfig&&(c*=d.pctToDec(a.tweenedConfig.props.ScaleY)),b=b.parent;return c},updateLabel:function(){var a=this.label.getBoundingClientRect(),b=this.el.getBoundingClientRect(),c=this.props.model.getSlide().calculateTotalScale(),d=-(b.top-a.top),e=h.labelPath({width:this.props.playerProps.width,top:d*c/this.calcTweenScale(),height:Math.max(this.startHeight,a.height)*c,radius:10,dir:this.alignment,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:e})},getIsVisible:function(){return this.props.playerProps.Expanded},getContentStyles:b.memoize(function(){return{paddingTop:m,paddingBottom:n}})});return o}),define("views/presentation/mixins/dragdropSlideObject",["require","lodash","views/helpers/dom"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/dom")),c=10,d=.6,e={template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:c,notchHeight:Math.round(d*c)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState)},mountWithOverState:function(){var a=document.elementFromPoint(b.mouseX,b.mouseY),c=b.closest(a,function(a){return a===this.el}.bind(this));c&&this.didMouseOver()},getInitialState:function(){var a=this.getPath("props.model.data.textdata.vectortext.pr")||{};return{textCommandsetId:a.i,textPathLibId:a.l,wordbankRadius:this.getPath("props.model.height")/2}},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}};return e}),define("views/presentation/DropareaSlideObject",["require","lodash","react","views/mixins/baseView","views/mixins/propertizable","views/presentation/mixins/dragdropSlideObject","views/helpers/dragAndDropHelper","helpers/utils","helpers/windowManager"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("views/mixins/propertizable"),e=a("views/presentation/mixins/dragdropSlideObject"),f=a("views/helpers/dragAndDropHelper").DroppableHelper,g=a("helpers/utils"),h=a("helpers/windowManager"),i=b.createClass({displayName:"DropareaSlideObject",mixins:[c,d,e],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(a){a&&this.performReview()},performReview:function(){var a=this.getPath("props.model.style"),b=this.getPath("props.model.reviewdata"),c=g.getPath(this.dropChild,"props.model.reviewdata");"matching"===a?this.dropChild&&b===c?(this.setState({reviewDot:"drop-correct"}),this.dropChild.setState({reviewDot:"drag-correct"}),this.dropChild.resetXPos()):this.setState({reviewDot:"drop-incorrect"}):c?this.setState({reviewStroke:"green"}):this.setState({reviewStroke:"red"})},componentDidMount:function(){this.style=this.getPath("props.model.style"),this.droppableHelper=new f(this.el,{data:this}),this.htmlReady(this.resumeReview)},componentWillUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=h.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var a;this.dragItemViews.forEach(function(b){b.getPlayerProp("SelectedItem")>=0&&(a=b.refs.innard)}),a&&a.reconnectDrop(this)},addMatchingDropChild:function(){this.dragItemViews.forEach(function(a){if(a.getPlayerProp("slideIndex")===this.getPlayerProp("SelectedItem")){var b=a.refs.innard;a.setPlayerProp("RawXPos",b.getDropSnapX(this.props.model)),a.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(b)}}.bind(this))},setDropChild:function(a){var b=g.getPath(a,"props.model.connectdata");this.setPlayerProp("SelectedItem",a.getPlayerProp("slideIndex")),this.setPlayerProp("DragConnectData",b),this.dropChild=a,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData",""),this.setPlayerProp("SelectedItem",-1)},isTabbable:function(){return-1===this.getPlayerProp("SelectedItem")||"matching"===this.style},getDropChild:function(){return this.dropChild}});return i}),define("views/presentation/DragitemSlideObject",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","views/helpers/dom","helpers/keyManager"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("views/presentation/mixins/dragdropSlideObject"),f=a("views/mixins/propertizable"),g=a("helpers/windowManager"),h=a("views/helpers/dragAndDropHelper"),i=h.DraggableHelper,j=a("views/helpers/dom"),k=a("helpers/keyManager"),l=1500,m=5,n=function(a,c){var d=[a,c].map(function(a){return a.props.isInnard?a.props.parent:a}),e=a.props.model,f=c.props.model,g=f.prop("tabIndex");b.invoke(d,"setOrRemoveTabManagement",!1),f.prop("tabIndex",e.prop("tabIndex")),e.prop("tabIndex",g),b.invoke(d,"setOrRemoveTabManagement",!0),k.onBuildComplete()},o={performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:"green"})},dropComplete:function(a){var b=j.closest(a.el,function(a){return j.hasClass(a,"slide-layer")});b&&b.appendChild(this.slideObjectParent),this.setState({backgroundVisible:!1})},getDropSnapX:function(a){return a.prop("RawXPos")},onDragEnd:function(a,b){this.state.dropped||this.unDrop(),b&&b.params.data.setState({hoverStroke:!1})},setSelectedItem:function(){this.setPlayerProp("SelectedItem",1)},unDrop:function(){var a=this.getPlayerProp("ShuffleXPos"),b=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(a,b),this.putBackInParent(),this.setState({backgroundVisible:!0}),this.setPlayerProp("SelectedItem",-1)},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0)},onDragOut:function(a,b){b.params.data.setState({hoverStroke:!1})},onDraggingOver:function(a,b){b.params.data.setState({hoverStroke:!0})},reconnectDrop:function(a){this.setPlayerProp({depth:++l,OnStage:!0}),this.onDrop(this,{params:{data:a}})},savePrevLoc:b.noop,dragStarted:b.noop},p={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(a){return a.prop("RawXPos")+a.width()-this.props.notchWidth},dropComplete:function(a){this.dropView=a,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(a,b){b.params.data.setState({collision:!1})},onDraggingOver:function(a,b){b.params.data.setState({collision:!0})},onDragEnd:function(a,b){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},setSelectedItem:function(a){this.setPlayerProp("SelectedItem",a.prop("slideIndex"))},swapDisconnectedItems:function(a){var c,d,e,f,g,i=[];return this.dragItemViews.forEach(function(a){var b,c=this.props.model.id,d=a.props.model.id;c===d||a.refs.innard.state.dropped||(b=h.util.unionArea(this.el.getBoundingClientRect(),a.el.getBoundingClientRect()),0!==b&&i.push({area:b,view:a}))}.bind(this)),c=b(i).sortBy("area").last(),c?(d=c.view,f=d.getPlayerProp("RawXPos"),g=d.getPlayerProp("RawYPos"),e=d.refs.innard,e.setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),a||(this.setDragPosition(f,g),this.putBackInParent()),n(this,d),!0):void 0},unDrop:function(a){a&&this.dropView!==a||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX,this.oldY),this.setPlayerProp("SelectedItem",-1))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){var a=this.slideObjectParent.getBoundingClientRect(),b=this.scrollArea.getBoundingClientRect();a.top<b.top?this.scrollArea.scrollTop-=m:a.bottom>b.bottom&&(this.scrollArea.scrollTop+=m),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)}},q=c.createClass({displayName:"DragitemSlideObject",mixins:[d,f,e],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(a){a&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?b.mixin(this,o):b.mixin(this,p),b.bindAll(this)},setupDragging:function(){this.parentSlide=g.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.draggableHelper=new i(this.props.parent,this.getDraggableConfig()),this.scrollArea=j.closest(this.el,function(a){return j.hasClass(a,"scrollarea-area")}),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){this.getPlayerProp("SelectedItem")>=0&&this.container.appendChild(this.slideObjectParent)},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){var a=this.slideObjectParent.getBoundingClientRect(),b=this.parentSlide.el.getBoundingClientRect();return this.savePrevLoc(),{x:a.left-b.left,y:a.top-b.top}},onDragStart:function(){this.setPlayerProp("depth",++l),this.container.appendChild(this.slideObjectParent),this.dragStarted()},onDrop:function(a,b){this.setState({dropped:!0});var c=b.params.data,d=c.props.model,e=this.getDropSnapX(d),f=d.prop("RawYPos"),g=c.getDropChild();this.dropAndDisable(),this.setSelectedItem(d),g&&g.unDrop(c),c.setDropChild(this),this.setDragPosition(e,f),this.dropComplete(c)},setDragPosition:function(a,b){this.setPlayerProp({RawXPos:a,RawYPos:b})},putBackInParent:function(){this.parentEl.appendChild(this.slideObjectParent)}});return q}),define("views/presentation/TextInputSlideObject",["require","lodash","helpers/windowManager","views/mixins/propertizable","views/presentation/mixins/backgroundable","react","react-dom","views/mixins/baseView","helpers/resolver","helpers/actionManager","helpers/keyManager","helpers/utils","helpers/vow","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/windowManager"),a("views/mixins/propertizable")),d=a("views/presentation/mixins/backgroundable"),e=a("react"),f=a("react-dom"),g=a("views/mixins/baseView"),h=a("helpers/resolver"),i=(a("helpers/actionManager"),a("helpers/keyManager")),j=a("helpers/utils"),k=a("helpers/vow"),l=a("polyfills/detection"),m=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],n=[".","-","-."],o=e.createClass({mixins:[g,c,d],displayName:"TextInputSlideObject",shortEvents:{model:{"action:setfocus":"setFocus"}},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var a=this.getPath("props.model.bindto");return b.isEmpty(a)||(this.boundVar=h.resolvePath(a)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.ready=new k.Deferred,this.addStyleIfNeeded(this.state.placeholderClass),this.isMultiline=!!this.getPath("props.model.multiline"),this.isNumeric=this.getPath("props.model.numeric"),null!=this.boundVar&&this.listenTo(this.boundVar,"change variable:refreshView",this.onVarChange)},componentDidMount:function(){this.ready.resolve()},componentWillUnmount:function(){this.ready.reject()},bounds:function(){return this.props.model.getBounds()},getInput:function(){return f.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},setFocus:function(){this.ready.done(this.focusAndSelect)},focusAndSelect:function(){var a=this.getInput();a.focus(),a.setSelectionRange(0,a.value.length)},onKeyDown:function(a){String.fromCharCode(a.which);this.isMultiline||13!==a.which||null==this.boundVar||(this.boundVar.changeValue(this.getInputVal()),l.isMobile&&j.executeKeypressEvent(this.props.model,a)),i.keys.TAB&&a.preventDefault()},isValidNumericEntry:function(a){return 0===a.length?!0:n.indexOf(a)>-1?!0:!isNaN(a)},onInputChange:function(a){var b=a.target.value;!this.isNumeric||this.isValidNumericEntry(b)?this.setState({inputValue:b}):(a.target.value=b,isNaN(a.target.valueAsNumber)||this.setState({inputValue:b}))},onInputFocus:function(){i.focusItem(this.props.parent,!0)},onInputBlur:function(a){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(a){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(a){1===a.touches.length&&(this.getInput().focus(),a.preventDefault())},onVarChange:function(){var a=this.boundVar.value();this.setPlayerProp("Text",a),this.setState({inputValue:a})},addStyleIfNeeded:function(a){var c=this.getTextColor(),d=this.getOrCreateStylesheet(),e=function(b){return b.selectorText.indexOf(a)>-1},f=b.findWhere(d.cssRules,e);f||(d.innerHTML+="\n",d.innerHTML+=m.map(function(b){return[".",a," ",b,"{ color: ",c,"; }"].join("")}).join("\n"))},getOrCreateStylesheet:function(){var a="textInputStyles",b=document.head.querySelector("#"+a);return b||(b=document.createElement("style"),b.id=a,document.head.appendChild(b)),b},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},innardFocus:function(){this.setFocus()},innardRelease:function(){this.getInput().blur()}});return o}),define("views/presentation/VideoSlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/appState","react","views/mixins/baseView","helpers/captionsManager","helpers/assetManager"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils")),c=a("helpers/constants"),d=a("helpers/appState"),e=a("react"),f=a("views/mixins/baseView"),g=a("helpers/captionsManager"),h=a("helpers/assetManager"),i=function(a,b,c){var d=a.getPath("props.model.data.videodata."+b),e=null!=c?"getAssetUrl":"getAsset";return null!=d?h[e](d):void 0},j=e.createClass({displayName:"VideoSlideObject",mixins:[f],shortEvents:{model:{"slideLayer:pauseTimeline":"onPauseMedia","action:media_toggle":"onActionToggle","action:media_play":"onActionPlay","action:media_pause":"onActionPause","action:media_seek":"onActionSeek","action:show":"onActionShow","action:hide":"onActionHide","action:set_volume":"onActionSetVolume"}},onPauseMedia:function(){this.pauseVideo()},getInitialState:function(){return this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:0,currentVolume:d.currentVolume(),isPlaying:!1}},componentWillMount:function(){this.isValidVideo()&&(this.timelinePlayStartTime=0,this.mediaTimelineControlled=!1,this.lastTimelineSeek=0,this.bindTimelineEventListeners())},componentDidMount:function(){this.isValidVideo()&&(this.presentationVol=c.DEFAULT_VOLUME,this.setVolume(d.currentVolume()),this.listenTo(d,"change:currentVolume",this.onVolumeChanged))},onVolumeChanged:function(a,b){this.determineAudioVolume(b)},determineAudioVolume:function(a){this.setVolume(a*this.presentationVol)},isValidVideo:function(){var a=""!==this.getVideoUrl()&&"swf"!==this.type;return a},getVideoUrl:function(){var a;return null==this.videoUrl&&(a=i(this,"assetId"),this.type=a&&a.get("videoType"),this.videoUrl=null!=this.type&&"youtube"!==this.type?a.url():""),this.videoUrl},posterFrameUrl:function(){return i(this,"posterAssetId",!0)},getAssetId:function(){return this.getPath("props.model.data.videodata.assetId")},playing:function(a){this.isMounted()&&this.setState({currentTime:a})},durationLoaded:function(a){this.setState({duration:a})},playbackEnded:function(){this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete"),this.refs.videoPlayer.publishCurrentTime()},toggleVideoControls:function(){this.toggleVideo()},rangeslideVideoControls:function(a){this.seekVideo(b.toMilliseconds(a.target.valueAsNumber))},onActionShowOnce:function(a,b){this.pausedByAction||this.onActionPlay(a,b)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once("action:show",this.onActionShowOnce),this.listenTo(this.layerTimeline,"reset",function(){this.seekVideo(0),this.hasAutoPlay()||this.pauseVideo()}),this.listenTo(this.layerTimeline,"playing",function(){this.layerTimeline.hasFinished()||this.playAndRestoreState()}),this.listenTo(this.layerTimeline,"paused",function(){this.layerTimeline.hasFinished()||this.pauseAndStoreState()}),this.listenTo(this.layerTimeline,"seekStart",this.pauseAndStoreState),this.listenTo(this.layerTimeline,"afterSeekUpdate",this.onTimelineSeek),this.listenTo(this.layerTimeline,"seekEnd",this.playAndRestoreState)},loadedData:function(){if(this.state.isPlaying&&this.isMediaTimelineControlled()){var a=this.calculatePlaybackDifferential(this.layerTimeline.elapsedTime());this.seekVideo(a),this.refs.videoPlayer.play()}},hasAutoPlay:function(){var a=this.props.model.getClosestAncestorByKind("expandinglabel");return a&&!a.prop("Expanded")?!1:this.getPath("props.model.autoplay")},onActionShow:function(a,b){this.isSeekActionAndNotPlaying(b)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&!this.pausedByAction&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo()},onActionPlay:function(a,b){this.pausedByAction=!1,this.setPlayActionStartTime(b.time),this.isSeekActionAndNotPlaying(b)||(this.playVideo(),"expandinglabel"===b.context.get("kind")&&g.includeMedia(this.getAssetId()))},onActionPause:function(a,b){this.pausedByAction=!0,this.isSeekActionAndNotPlaying(b)||(this.pauseVideo(),"expandinglabel"===b.context.get("kind")&&g.excludeMedia(this.getAssetId()))},onActionSeek:function(a,b){this.isSeekActionAndNotPlaying(b)||this.seekVideo(a.position)},onActionSetVolume:function(a,b){var c=a.volume/100;this.presentationVol=c,this.determineAudioVolume(d.currentVolume())},setPlayActionStartTime:function(a){return null!=a&&(this.timelinePlayStartTime=a,this.mediaTimelineControlled=!0),this},isSeekActionAndNotPlaying:function(a){return a.isSeekAction&&!this.layerTimeline.isPlaying()},calculatePlaybackDifferential:function(a){return a-this.timelinePlayStartTime},onTimelineSeek:function(a){this.seeked=!0,this.lastTimelineSeek=a,a=this.calculatePlaybackDifferential(a),this.isMediaTimelineControlled()&&!this.pausedByAction&&this.seekVideo(a)},isMediaTimelineControlled:function(){return this.mediaTimelineControlled||this.hasAutoPlay()},pauseAndStoreState:function(){this.timelinePaused||(this.resumeOnSeek=this.state.isPlaying,this.timelinePaused=!0,this.seeked=!1),this.pauseVideo()},playAndRestoreState:function(a){var b=a?"playing"===a:!this.pausedByAction;this.isVisible()&&(!this.isMediaTimelineControlled()&&this.resumeOnSeek||this.isMediaTimelineControlled()&&b&&(this.lastTimelineSeek>=this.timelinePlayStartTime||this.resumeOnSeek&&!this.seeked))&&this.playVideo(),this.timelinePaused=!1},playVideo:function(){return this.setState({isPlaying:!0}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),this},toggleVideo:function(){return this.state.isPlaying?this.pauseVideo():this.playVideo(),this},seekVideo:function(a){return this.refs.videoPlayer.seek(Math.max(0,b.toSeconds(a))),0>a&&this.setState({isPlaying:!1}),this},setVolume:function(a){return this.setState({currentVolume:a}),this},actionKeyCallback:function(){return this.toggleVideo(),!0}});return j}),define("views/presentation/DropListSlideObject",["require","lodash","helpers/windowManager","views/mixins/baseView","views/mixins/propertizable","react","react-dom","views/helpers/dom","helpers/utils","polyfills/detection","helpers/scaler","helpers/svg/svgManager","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/windowManager"),d=a("views/mixins/baseView"),e=a("views/mixins/propertizable"),f=a("react"),g=a("react-dom"),h=a("views/helpers/dom"),i=a("helpers/utils"),j=a("polyfills/detection"),k=a("helpers/scaler"),l=(a("helpers/svg/svgManager"),a("helpers/svg/svgUtils")),m=8,n=f.createClass({mixins:[d,e],displayName:"DropListSlideObject",subscriptions:{"slideContainer:positioned":"onSlideContainerPositioned"},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(a){var b=this.getPath("props.model.reviewwidth");a&&b&&this.setState({reviewWidth:b})},getInitialState:function(){return{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr")}},componentWillMount:function(){this.itemslist=this.getPath("props.model.itemslist")},componentDidMount:function(){this.prepareForDisplay()},prepareForDisplay:function(){this.setupReparenting(),this.createRefOrder(),this.onShown(this.selectItemIfSet)},setupReparenting:function(){this.parentEl=this.el.parentNode,this.dropDown=this.el.firstElementChild,this.htmlReady(this.whenHtmlReady)},whenHtmlReady:function(){this.parentSlide=c.getCurrentWindow().getCurSlide(),
this.container=document.getElementById("app-top-container"),this.presentation=document.getElementById("presentation"),this.overlay=document.getElementById("app-top-overlay"),this.currSlide=c.getCurrentWindowSlide(),j.isMobile&&this.refs.mobileDrop.addEventListener("change",this.onMobileSelect)},onMobileSelect:function(a){var b=a.target.value;this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[b].itemdata),this.setPlayerProp("SelectedItemIndex",b),this.setState({pr:this.props.model.origItemsList[b].textdata.vectortext.pr})},selectItemIfSet:function(){var a=this.getPlayerProp("SelectedItemIndex");a>-1&&(j.isMobile?(this.onMobileSelect({target:{value:a}}),this.refs.mobileDrop.value=a):this.itemSelected(a))},itemSelected:function(a){if(-1!==a){var b=this.refs["item"+a];b.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[a].itemdata),this.setPlayerProp("SelectedItemIndex",a),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=b,this.updateText(b)}},updateText:function(a){this.setState({pr:a.props.pr})},onShowList:function(){this.isEnabled()&&(null!=this.refs.scrollBar&&this.refs.scrollBar.update(),document.body.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onHideList),document.body.addEventListener("mousedown",this.onMouseDown),document.body.addEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchstart",this.onMouseDown),document.body.removeEventListener("touchend",this.onHideList),document.body.addEventListener("touchstart",this.onMouseDown),document.body.addEventListener("touchend",this.onHideList),this.setState({display:"block"}),this.positionList())},positionList:function(){var a=this.el.getBoundingClientRect(),c=this.parentSlide.el.getBoundingClientRect(),d=this.presentation.getBoundingClientRect(),e=1/b.get(this.currSlide,"parentTransform.scale")||1,f=1/k.getScale()||1,g=function(a){return a*f},j=function(a){return a*e},m=b.flow(j,g);h.setStyles(this.el,b.mapValues({left:a.left-d.left,top:a.top-d.top},b.flow(m,i.pxify))),this.container.style[this.cssTransform]=l.transformScale(1/e),this.container.appendChild(this.el),this.htmlReady(function(){var a,e=d.bottom,f=this.dropDown.getBoundingClientRect(),j=4;f.bottom>e&&(a=m(e-f.top-j),this.dropDown.style.height=i.pxify(a),this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:a})),h.setStyles(this.overlay,b.extend({display:"block"},b.mapValues({left:c.left-d.left,top:c.top-d.top,width:c.width,height:c.height},b.flow(g,i.pxify))))}.bind(this))},contentheight:function(){var a=(this.getPath("props.model.height")+m)*this.itemslist.length;return a},onHideList:function(a){if(null==this.containerScrollTop||this.containerScrollTop===g.findDOMNode(this.refs.dropdownInner).scrollTop){var b=h.closest(a.target,function(a){return h.hasClass(a,"drop-list-top")||j.isMobile&&h.hasClass(a,"drop-list")});b||(h.setStyles(this.overlay,{display:""}),this.unpositionList(),this.setState({display:"none"}),document.body.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchstart",this.onMouseDown),document.body.removeEventListener("touchend",this.onHideList))}},unpositionList:function(){h.setStyles(this.el,{left:0,top:0}),this.parentEl.appendChild(this.el)},onMouseDown:function(){this.containerScrollTop=g.findDOMNode(this.refs.dropdownInner).scrollTop},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},innardRelease:function(){this.onHideList({target:this.find(".drop-list-item")}),this.currentIndex>-1&&this.focusItem(this.currentIndex)},actionKeyCallback:function(){this.autoOpenList()},autoOpenList:function(){var a,b="block"===this.state.display,c=b?"onHideList":"onShowList",d=this.find(b?".drop-list-item":".drop-list-top");return this[c]({target:d}),b?this.itemSelected(-1===this.currentIndex?-1:this.refOrder[this.currentIndex].props.idx):(a=this.getPlayerProp("SelectedItemIndex"),this.currentIndex=-1===a?-1:this.refs[["item",a].join("")].props.order,this.focusItem(this.currentIndex)),!0},treeKeyCallback:function(a,b){"none"===this.state.display&&this.autoOpenList();var c=b?1:-1,d=this.currentIndex,e=d+c,f=this.itemslist.length-1;return e=i.clamp(0,f,e),this.focusItem(e),!0},childScrollFocus:function(a){var b=this.scrollArea,c=h.getScrollRecommendation(b,a.el);0!==c&&(b.scrollTop=c)},createRefOrder:function(){this.refOrder=[],this.itemslist.forEach(function(a,b){var c=this.refs["item"+b];j.isMobile?this.refOrder[c.getAttribute("data-order")]=c:this.refOrder[c.props.order]=c}.bind(this))},focusItem:function(a){if(-1!==a){var b,c=this.refOrder[a],d=this.refs.dropdownInner;this.itemslist.forEach(function(a,b){var c=this.refs["item"+b];c.setState({hovered:!1})}.bind(this)),this.currentIndex=a,c.setState({hovered:!0}),this.itemSelected(c.props.idx),b=h.getScrollRecommendation(d,c.el),0!==b&&(d.scrollTop=c.props.yOff-this.props.model.height())}},onSlideContainerPositioned:function(){"block"===this.state.display&&this.htmlReady(b.flow(this.unpositionList,this.positionList))}});return n}),define("views/presentation/SequenceCtrlSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","react","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/tabFocusBox","helpers/keyManager"],function(a){"use strict";var b=a("lodash"),c=a("views/mixins/baseView"),d=a("views/mixins/propertizable"),e=a("helpers/windowManager"),f=a("views/helpers/dragAndDropHelper").DraggableHelper,g=a("react"),h=a("views/helpers/dom"),i=a("helpers/utils"),j=a("helpers/svg/svgUtils"),k=a("helpers/tabFocusBox"),l=a("helpers/keyManager"),m=5,n=g.createClass({mixins:[c,d],displayName:"SequenceCtrlSlideObject",shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(a){this.displayReview(a)},componentWillMount:function(){this.resetIndex(),this.getItemsList()},componentDidMount:function(){this.onShown(this.setupDragging)},componentDidUpdate:function(a,b){var c=b.ItemOrder,d=this.getPlayerProp("ItemOrder");c!==d&&this.getItemsList()},getItemsList:function(){var a,b,c,d=this.getPlayerProp("ItemOrder");d?(a=d.split(""),b=this.getPath("props.model.itemsListOrder"),this.itemslist=[],a.forEach(function(a){this.itemslist.push(b[a])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),c=this.itemslist.length.toString(),this.numWidth=22+10*(c.length-1),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.parentSlide=e.getCurrentWindow().getCurSlide(),this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.scrollArea.addEventListener("scroll",this.onScroll),this.checkIfViewed(),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll(),this.displayReview(this.reviewMode)},checkIfViewed:function(){var a=this.scrollArea.scrollHeight-this.scrollArea.scrollTop;a<=this.scrollArea.offsetHeight+5&&this.props.model.prop("Viewed",!0)},onScroll:function(){this.checkIfViewed()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.height=this.lastHeight,this.scrollArea.style.overflowY="scroll",this.setState({shouldScroll:!0}))},contentheight:function(){return this.lastHeight},setupItems:function(){this.items=[];var a=0,b=this.numWidth,c=16,d=c/2+3;this.itemslist.forEach(function(e,g){var h,i=this.refs["sequenceItem"+g],j=i.props.model.height;i.idx=g,i.itemdata=this.itemslist[g].itemdata,i.parent=i.el.parentNode,i.barInfo=null,i.didMouseOut(),this.items.push(i),this.setPlayerProp("_pos"+g,i.itemdata),a=d,d=a+j+c,i.loc={x:b,y:a},this.lastHeight=d,this.setItemPosition(i.parent,i.loc),i.draggableHelper&&i.draggableHelper.disable(),i.draggableHelper=new f(i,this.getDraggableConfig(i.parent),i.parent),i.onDragItemDown=function(){this.idx=i.idx}.bind(this),i.el.addEventListener("mousedown",i.onDragItemDown),h=i.draggableHelper.getDropTarget("drag"),h.params.data.setDropChild(i)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach(function(a){a.draggableHelper.disable()})},displayReview:function(a){this.reviewMode=a,a&&null!=this.items&&this.items.forEach(function(a,b){var c=this.props.model.getIndexByData(a.itemdata),d=c===b?"green":"red";a.drop.setState({reviewColor:d,reviewIdx:c})}.bind(this))},getDraggableConfig:function(a){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:b.partial(this.getDragPosition,a)}},setItemPosition:function(a,b){a.style[this.cssTransform]=j.transformTranslate(i.pxify(b.x),i.pxify(b.y))},resetPositionItem:function(a){this.scrollArea.appendChild(a.draggableHelper.el),this.setItemPosition(a.draggableHelper.el,a.loc)},onDrag:function(a){var c=b.toArray(document.querySelectorAll(".sequence-ctrl-bar"));c.every(function(b,c){var d="block"===b.style.display;return d&&(a.view.currY=b.getBoundingClientRect().top),!d})},resetIndex:function(){this.idx=-1},exitStealTab:function(a,b){return 0===this.idx&&b?(l.setCurrentItemAndFocus(a),!0):void 0},stealTab:function(a,b){var c=this.idx>=this.itemslist.length-1;c&&!b&&this.resetIndex(),b&&this.idx<0||(b?this.idx--:this.idx++,this.lastItem&&this.lastItem.el.classList.remove("focused"),this.idx<0?(l.setCurrentItem(a),l.changeFocus(b),l.focusNextItem(),this.resetIndex()):c?(k.hide(),l.focusNextItem()):(a.el.classList.remove("focused"),this.focusOnChild(this.refs["item"+this.idx])))},focusOnChild:function(a){this.lastItem=a,this.lastItem.el.focus(),this.lastItem.el.classList.add("focused"),this.childScrollFocus(this.lastItem),k.show(this.lastItem)},innardFocus:function(){l.lastShift&&this.htmlReady(function(){this.idx=this.itemslist.length-1,this.focusOnChild(this.refs["item"+this.idx])}.bind(this))},releaseFocus:function(){this.resetIndex()},childScrollFocus:function(a){var b=this.scrollArea,c=h.getScrollRecommendation(b,a.el);0!==c&&(b.scrollTop=c)},insertItem:function(a){var c=[];this.scrollArea.appendChild(a.draggableHelper.el),this.items=b.sortBy(this.items,function(a){return a.currY}),c=this.items.reduce(function(a,b,c){return a+this.props.model.getIndexByData(b.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",c)},checkForAutoScroll:function(){var a=this.currDraggable.getBoundingClientRect(),b=this.scrollArea.getBoundingClientRect();a.top<b.top?(this.scrollArea.scrollTop-=m,this.updateItemYs()):a.bottom>b.bottom&&(this.scrollArea.scrollTop+=m,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(a){var b=a.getBoundingClientRect(),c=this.parentSlide.el.getBoundingClientRect();return{x:b.left-c.left,y:b.top-c.top}},updateItemYs:function(){this.items.forEach(function(a){a.currY=a.parent.getBoundingClientRect().top})},onDragEnd:function(a,b){var c=a.view;a.el.style.opacity=1,this.resetPositionItem(c),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null),null!=this.lastOver&&this.lastOver.hideBar()},onDragStart:function(a,b){a.el.style.opacity=.5,this.container.appendChild(a.el),this.currDraggable=a.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(a,b){var c=a.view,d=b.params.data,e=d.getDropChild();this.insertItem(c),e&&(c.drop.setDropChild(e),d.setDropChild(c)),this.lastOver=null,d.hideBar(),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(a,b){this.lastOver=null,b.params.data.hideBar()},onDraggingOver:function(a,b){this.lastOver=b.params.data,this.lastOver.showHideBar(a)},componentWillUnmount:function(){this.itemslist.forEach(function(a,b){var c=this.refs["sequenceItem"+b];c.el.removeEventListener("mousedown",c.onDragItemDown)}.bind(this))}});return n}),define("views/presentation/SlideFrameSlideObject",["require","react","views/mixins/baseView","polyfills/detection","helpers/windowManager","helpers/resolver","views/presentation/mixins/backgroundable","helpers/pubSub","helpers/utils","helpers/vow","helpers/animationClock"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("polyfills/detection"),e=a("helpers/windowManager"),f=a("helpers/resolver"),g=a("views/presentation/mixins/backgroundable"),h=a("helpers/pubSub"),i=a("helpers/utils"),j=a("helpers/vow"),k=a("helpers/animationClock"),l=d.isMobile?500:0,m=b.createClass({displayName:"SlideFrameSlideObject",mixins:[c,g],shortEvents:{model:{"show showcustom":"onShow","hide hidecustom":"onHide"}},getInitialState:function(){return{slideModel:null}},componentWillMount:function(){var a=this.props.model.get("scalecontents");a===!1&&(this.props.parent.animationOverride={scale:this.applyScale,adjustProps:this.adjustProps,update:this.animationUpdate})},animationUpdate:function(a){this.applyScale(a)},adjustProps:function(a){return a.ScaleX=100,a.ScaleY=100,a},applyScale:function(a){this.el.style.width=i.pxify(this.props.playerProps.width*i.pctToDec(a.ScaleX)),this.el.style.height=i.pxify(this.props.playerProps.height*i.pctToDec(a.ScaleY))},onShow:function(){var a,b,c,d;null==this.readyPromise&&(a=this.props.model,b=a.get("startingslide"),c=f.resolvePath(b),d=new j.Deferred,this.startedDfd=new j.Deferred,this.readyPromise=j.when(this.startedDfd,d),c.on("slide:currentTimeline",d.resolve),null==this.lockId&&(this.lockId=k.lock()),h.trigger("loader:silence"),this.loadChildSlide(),h.trigger("loader:show",l)),this.readyPromise.done(function(){var a=this.state.slideModel;a.resetBeforeView().restart().setAsViewed(),h.trigger("timeline:currentTimeline",a.currentTimeline())}.bind(this))},onHide:function(){null!=this.readyPromise&&this.readyPromise.done(function(){var a=this.state.slideModel.currentTimeline();null!=a&&a.pause()}.bind(this))},loadChildSlide:function(){var a=this.props.model.get("startingslide");e.loadSlide(a,function(a){this.setState({slideModel:a})}.bind(this),!0)},onSlideStarted:function(){var a=this.lockId;this.lockId=null,k.unlock(a),this.startedDfd.resolve()}});return m}),define("views/presentation/mixins/annotation",["require","lodash","tween-lite"],function(a){var b=(a("lodash"),a("tween-lite")),c=25,d=.6,e={none:"getNoTweens",appear:"getNoTweens",draw:"getDrawTweens",bounce:"getBounceTweens",fade:"getFadeTweens",stretch:"getStretchTweens"},f={getInitialState:function(){return{gradientId:this.getUniqueNodeId("gradient"),filterId:this.getUniqueNodeId("filter"),maskId:this.getUniqueNodeId("mask"),bgId:this.getUniqueNodeId("bg"),fillColorId:this.getUniqueNodeId("fill"),borderColorId:this.getUniqueNodeId("border"),animationMaskId:this.getUniqueNodeId("animation-mask")}},getUniqueNodeId:function(a){return["annotation",this.props.model.id,a].join("-")},renderColors:function(){return this.getTemplateManager().getTemplate("AnnotationColors").call(this)},getTweens:function(){return this[e[this.props.model.get("animationtype")]]()},getNoTweens:function(){return[]},getBounceTweens:function(){return[b.fromTo(this.el,this.getAnimationDuration(),{left:-c},{ease:"Power1.easeOut",left:0})]},getFadeTweens:function(){return[b.fromTo(this.el,this.getAnimationDuration(),{opacity:0},{ease:"Linear.easeNone",opacity:1})]},getStretchTweens:function(){return[b.fromTo(this.el,this.getAnimationDuration(),{scale:d},{ease:"Power1.easeOut",scale:1})]}};return f}),define("views/presentation/mixins/annotationArrow",["require","lodash","react","helpers/svg/svgUtils","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/svg/svgUtils"),e=a("helpers/utils"),f={x:0,y:1},g=.4,h={arrowsquare:"ArrowSquare",arrowround:"ArrowRound",arrowtriangle:"ArrowTriangle",arrowv:"ArrowV",check:"Check",cross:"Cross"},i=function(a){return[h[a],"Annotation"].join("")},j={componentWillMount:function(){var a=this.props.model.getLayer().timeline();this.listenTo(a,"afterSeekUpdate",this.onTimelineSeek),this.listenTo(this,{"animation:created":this.onAnimationCreated,"animation:destroyed":this.onAnimationDestroyed})},renderDefs:function(){return this.getTemplateManager().getTemplate("AnnotationDefs").call(this)},renderBg:function(){var a=this.state.bgId,b=this.props.model.get("rotation");return c.createElement("use",{xlinkHref:["#",a].join(""),transform:d.transformRotate(-b)})},getShadowTransform:function(){var a=this.props.model.get("rotation"),b=e.rotatePoint(f.x,f.y,0,0,-a);return d.transformTranslate(b.x,b.y)},getAnimationDuration:function(){return g},setMaskFill:function(a){null!=this.getMasks&&this.getMasks().forEach(function(b){null!=b&&b.setAttribute("fill",a)})},onAnimationCreated:function(){this.hideMask()},onAnimationDestroyed:function(){this.showMask()},onTimelineSeek:function(){this.showMask()},template:function(){var a=this.props.model.get("arrowstyle");return this.getTemplateManager().getTemplate(i(a)).call(this)}};return b.extend(j,{showMask:b.partial(j.setMaskFill,"#fff"),hideMask:b.partial(j.setMaskFill,"#000")}),j}),define("views/presentation/AnnotationArrow",["require","react","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("views/presentation/mixins/annotation"),e=a("views/presentation/mixins/annotationArrow"),f=b.createClass({displayName:"AnnotationArrow",mixins:[c,d,e]});return f}),define("views/presentation/AnnotationCheck",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","views/mixins/baseView","helpers/svg/svgUtils","helpers/TransMatrix","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("tween-lite"),e=a("views/presentation/mixins/annotation"),f=a("views/presentation/mixins/annotationArrow"),g=a("views/mixins/baseView"),h=(a("helpers/svg/svgUtils"),a("helpers/TransMatrix")),i=a("helpers/utils"),j=.54,k=.24,l=21,m=-14.25,n=Quad.easeOut,o=b.memoize(function(){return Math.abs(l)+Math.abs(m)}),p=b.memoize(function(){return Math.abs(l)/o()*j}),q=b.memoize(function(){return Math.abs(m)/o()*j}),r=c.createClass({displayName:"AnnotationCheck",mixins:[g,e,f],getDrawTweens:function(){var a=this.refs.mask,b=d.to(a,j+k,{onStart:this.showMask,onUpdate:function(){var c=new h,d=b.time(),e=n.getRatio(Math.min(d/j,1)),f=Math.min(d/p()*e,1)*l,g=i.clamp(0,1,(d-p())/q()*e)*m;c.translate(f,g),a.setAttribute("transform",c.toCssTransform())}});return[b]},getMasks:function(){return[this.refs.mask]}});return r}),define("views/presentation/AnnotationCross",["require","react","tween-lite","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","helpers/TransMatrix","helpers/utils"],function(a){"use strict";var b=a("react"),c=a("tween-lite"),d=a("views/mixins/baseView"),e=a("views/presentation/mixins/annotation"),f=a("views/presentation/mixins/annotationArrow"),g=a("helpers/TransMatrix"),h=a("helpers/utils"),i=.54,j=.24,k=23,l=24,m=6,n=6,o=b.createClass({displayName:"AnnotationCross",mixins:[d,e,f],getInitialState:function(){return{legMaskId:this.getUniqueNodeId("leg-mask"),animationXMaskId:this.getUniqueNodeId("animation-x-mask"),animationLegMaskId:this.getUniqueNodeId("animation-leg-mask")}},getDrawTweens:function(){var a=this.refs.leg,b=this.refs.xMask,d=this.refs.legMask,e=i/2,f=c.to(this.el,i+j,{onStart:this.showMask,onUpdate:function(){var c,i=new g,j=new g,o=f.time(),p=Math.min(o/e,1),q=(1-p)*k,r=h.clamp(0,1,(o-e)/(e/2)),s=h.clamp(0,1,(o-1.5*e)/(e/2)),t=s>0;c=t?m-n*s:l-n*r,i.translate(-q,-q).translate(9,-2).rotate(45,0,0),j.translate(-c,c).translate(39,16).rotate(135,0,0),a.style.display=t?"none":"block",d.setAttribute("transform",i.toCssTransform()),b.setAttribute("transform",j.toCssTransform())}.bind(this)});return[f]},getMasks:function(){return[this.refs.legMask,this.refs.xMask]}});return o}),define("views/presentation/AnnotationRectangle",["require","lodash","react","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/presentation/mixins/annotation"),e=a("views/mixins/baseView"),f=a("helpers/utils"),g=.333,h=c.createClass({displayName:"AnnotationRectangle",mixins:[e,d],getStyle:function(){var a=this.props.model;return{borderColor:this.getBorderColor(),borderWidth:a.get("borderwidth"),borderRadius:a.get("boxradius"),height:a.get("height"),width:a.get("width")}},getBorderColor:function(){var a,c=b.find(this.props.model.get("colors"),{name:"bordercolor"});return null!=c?(a=c.fill.colors[0],f.toRgba(a.rgb,a.alpha)):void 0},getAnimationDuration:function(){return g}});return h}),define("views/presentation/AnnotationSpotlight",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("tween-lite"),e=a("views/presentation/mixins/annotation"),f=a("views/mixins/baseView"),g=a("helpers/utils"),h=1,i=.5,j=c.createClass({displayName:"AnnotationSpotlight",mixins:[f,e],shortEvents:{model:{"action:show":"onActionShow"}},onActionShow:function(){"draw"===this.props.model.get("animationtype")&&(this.refs.border.style.strokeDasharray=g.pxify(this.getLength()))},getDrawTweens:function(){var a=(this.props.model,this.getLength());return[d.fromTo(this.refs.border,h,{"stroke-dashoffset":a},{ease:"Linear.easeNone","stroke-dashoffset":0,onComplete:function(){this.refs.border.style.strokeDashoffset=this.refs.border.style.strokeDasharray=""}.bind(this)}),d.fromTo(this.refs.overlay,i,{opacity:0},{delay:h,ease:"Linear.easeNone",opacity:1})]}});return j.prototype.getLength=b.memoize(function(){var a=this.props.model;return 2*(a.get("width")+a.get("height"))},function(){var a=this.props.model;return[a.get("width"),a.get("height")].join("x")}),j}),define("views/presentation/AnnotationSlideObject",["require","react","timeline-lite","views/presentation/AnnotationArrow","views/presentation/AnnotationCheck","views/presentation/AnnotationCross","views/presentation/AnnotationRectangle","views/presentation/AnnotationSpotlight","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("timeline-lite"),d=a("views/presentation/AnnotationArrow"),e=a("views/presentation/AnnotationCheck"),f=a("views/presentation/AnnotationCross"),g=a("views/presentation/AnnotationRectangle"),h=a("views/presentation/AnnotationSpotlight"),i=a("views/mixins/baseView"),j={rectangle:g,spotlight:h},k={arrowsquare:d,arrowround:d,arrowtriangle:d,arrowv:d,check:e,cross:f},l=b.createClass({displayName:"AnnotationSlideObject",mixins:[i],shortEvents:{model:{"action:show":"onActionShow","action:hide":"onActionHide"}},getInitialState:function(){return{Innard:this.getInnardType()}},componentWillMount:function(){this.timeline=this.props.model.getLayer().timeline(),this.listenTo(this.timeline,{playing:this.onTimelinePlaying,paused:this.onTimelinePaused,afterSeekUpdate:this.onTimelineAfterSeekUpdate})},componentWillUnmount:function(){this.teardownAnimation()},getInnardType:function(){var a=this.props.model,b=a.get("style");return"arrow"===b?k[a.get("arrowstyle")]:j[b]},onActionShow:function(a,b){var d,e=this.animation;if(null==e){if(d=this.refs.innard.getTweens(),0===d.length)return;e=this.animation=new c({tweens:d,onComplete:this.onAnimationComplete,onReverseComplete:this.onAnimationReverseComplete}),this.refs.innard.trigger("animation:created")}this.seekOffset=b.time,this.numLoops=0,e.play()},onActionHide:function(){this.teardownAnimation()},onAnimationComplete:function(){this.numLoops++,this.shouldLoop()&&this.animation[this.shouldReverse()?"reverse":"restart"]()},onAnimationReverseComplete:function(){this.animation.restart()},onTimelinePlaying:function(){var a=this.animation;null==a||a.isActive()||a.play()},onTimelinePaused:function(){var a=this.animation;null!=a&&a.isActive()&&a.pause()},onTimelineAfterSeekUpdate:function(a){var b,c,d,e,f=this.animation,g=(a-this.seekOffset)/1e3;null!=f&&(0>g?this.teardownAnimation():(b=f.duration(),c=Math.floor(g/b),this.numLoops=this.shouldReverse()?Math.floor((c+1)/2):c,this.shouldLoop()?(d=g%b,e=this.shouldReverse()&&c%2===1,f.reversed(e),e&&(d=b-d)):(f.reversed(!1),d=b),f.seek(d,!1)))},teardownAnimation:function(){return null!=this.animation&&(this.animation.kill(),delete this.animation,this.refs.innard.trigger("animation:destroyed")),this},shouldLoop:function(){var a=this.props.model.get("loopcount");return-1===a||this.numLoops<a},shouldReverse:function(){var a=this.props.model.get("animationtype");return"fade"===a||"bounce"===a||"stretch"===a}});return l}),define("views/presentation/SlideObject",["require","lodash","helpers/windowManager","views/helpers/dom","views/mixins/propertizable","views/mixins/decorateable","views/events/mouseEvents","views/mixins/mouseable","views/mixins/baseView","react","react-dom","helpers/constants","helpers/utils","helpers/svg/svgUtils","views/helpers/collisionHelper","helpers/boundsHelper","views/helpers/variableTextHelper","helpers/TransMatrix","polyfills/detection","polyfills/vendorOverrides","helpers/GsapTweenLite","helpers/keyManager","views/presentation/VectorSlideObject","views/presentation/ButtonSlideObject","views/presentation/PlaceHolderSlideObject","views/presentation/GroupingSlideObject","views/presentation/StateGroupSlideObject","views/presentation/ImageSlideObject","views/presentation/WebObjectSlideObject","views/presentation/ScrollAreaSlideObject","views/presentation/ExpandingLabelSlideObject","views/presentation/DropareaSlideObject","views/presentation/DragitemSlideObject","views/presentation/TextInputSlideObject","views/presentation/VideoSlideObject","views/presentation/DropListSlideObject","views/presentation/SequenceCtrlSlideObject","views/presentation/SlideFrameSlideObject","views/presentation/AnnotationSlideObject"],function(a){"use strict";var b=a("lodash"),c=a("helpers/windowManager"),d=a("views/helpers/dom"),e=a("views/mixins/propertizable"),f=a("views/mixins/decorateable"),g=a("views/events/mouseEvents"),h=a("views/mixins/mouseable"),i=a("views/mixins/baseView"),j=a("react"),k=(a("react-dom"),a("helpers/constants"),a("helpers/utils")),l=a("helpers/svg/svgUtils"),m=a("views/helpers/collisionHelper"),n=a("helpers/boundsHelper"),o=a("views/helpers/variableTextHelper"),p=a("helpers/TransMatrix"),q=(a("polyfills/detection"),a("polyfills/vendorOverrides")),r=a("helpers/GsapTweenLite"),s=a("helpers/keyManager"),t={VectorSlideObject:a("views/presentation/VectorSlideObject"),ButtonSlideObject:a("views/presentation/ButtonSlideObject"),PlaceHolderSlideObject:a("views/presentation/PlaceHolderSlideObject"),GroupingSlideObject:a("views/presentation/GroupingSlideObject"),StateGroupSlideObject:a("views/presentation/StateGroupSlideObject"),ImageSlideObject:a("views/presentation/ImageSlideObject"),WebObjectSlideObject:a("views/presentation/WebObjectSlideObject"),ScrollAreaSlideObject:a("views/presentation/ScrollAreaSlideObject"),ExpandingLabelSlideObject:a("views/presentation/ExpandingLabelSlideObject"),DropareaSlideObject:a("views/presentation/DropareaSlideObject"),DragitemSlideObject:a("views/presentation/DragitemSlideObject"),TextInputSlideObject:a("views/presentation/TextInputSlideObject"),VideoSlideObject:a("views/presentation/VideoSlideObject"),DropListSlideObject:a("views/presentation/DropListSlideObject"),SequenceCtrlSlideObject:a("views/presentation/SequenceCtrlSlideObject"),SlideFrameSlideObject:a("views/presentation/SlideFrameSlideObject"),AnnotationSlideObject:a("views/presentation/AnnotationSlideObject")},u=/\n/g,v={vectorshape:"Vector",button:"Button",objgroup:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl",slideframe:"SlideFrame",annotation:"Annotation"},w={vectorshape:"props.model.data.vectorData.altText",scrollarea:"props.model.data.vectorData.altText",video:"props.model.data.videodata.altText",droplist:"props.model.data.textdata.altText",button:"props.model.data.textdata.altText",expandinglabel:"props.model.data.vectorData.altText"},x=["release","press","doubleclick","rightrelease","rightpress"],y=["releaseoutside","rollover","rollout"],z=q.handleWillChange||b.noop,A={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},B={button:"button"},C=function(a){var b=v[a.kind()]||"PlaceHolder";return b+"SlideObject"},D=function(a){return b.pluck(a.events(),"kind").map(E)},E=function(a){return a.replace(/^on/,"")},F=function(a){var b=a.getPlayerPropsRaw();return b.ScaleX/=100,b.ScaleY/=100,(new p).adjustByViewProps(b)},G=function(a,b){var c=a.currView,d=null==c||null==c.tweenedConfig?F(a):b?c.tweenedConfig.matrix.copy():c.tweenedConfig.matrix;return d},H=j.createClass({displayName:"SlideObject",initialVisibility:!1,mixins:[i,e,f,h],shortEvents:{model:{show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",shown:"updateDecorators","action:setfocus":"onSetFocusAction"}},componentWillMount:function(){var a;this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:this.textHit}},a=t[C(this.props.model)],this.slideObjectInnard=a,this.setupVariableRefs(),this.setupShapeMask()},componentDidMount:function(){this.getAllRefs().registerEvents(),this.getPlayerProp("MouseOver")&&!this.isMousedOver()&&(this.triggerEvent({type:"rollout"}),this.setPlayerProp("MouseOver",!1)),this.renderShapeMask(),"swirl"===this.props.model.get("markerType")&&(this.markerAnimationTween=r.to(this.refs.markerAnimation,.6,{rotation:360,ease:"linear",onComplete:function(){this.markerAnimationTween.restart()}.bind(this)}))},componentDidUpdate:function(){this.renderShapeMask()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),this.allRefs=null,null!=this.shapeMask&&(this.shapeMask.off("tween:update",this.renderShapeMask),this.props.model.off("tween:update",this.renderShapeMask)),null!=this.markerAnimationTween&&this.markerAnimationTween.kill()},getInnardConfigs:function(){return b.extend({ref:"innard",model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,isInnard:!0,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,slideVisible:!!this.props.slideVisible,onElsoAction:this.props.onElsoAction},this.innardConfigs[this.props.model.kind()]||{},this.props.topOffset?{topOffset:this.props.topOffset}:{})},getAllRefs:function(){var a=this.findAllComponents("SlideObject");return this.allRefs=b.reject(a,function(a){return a.props.model.isGroupingSlideObject}).map(function(a){return a.props.model}),this},registerEvents:function(){var a=this.getRegisterableEvents();return b.forEach(a,function(a){this.registerEvent(a,this.triggerEvent)}.bind(this)),m.registerCollisions(this),this},setupVariableRefs:function(){var a,b=w[this.props.model.kind()];this.accessibleTextTemplate=null!=b?this.getPath(b):this.props.model.get("altText"),a=o.parseTemplate(this.accessibleTextTemplate),this.updateVarText=a.updateString,this.updateAccessibleText(),this.stopListeningToVarChanges=a.addListeners(this.props.model,this.updateAccessibleText)},setupShapeMask:function(){var a=this.shapeMask=this.props.model.getShapeMask();return null!=a&&(a.isShapeMask=!0,this.props.model.isShapeMasked=!0,a.on("tween:update",this.renderShapeMask),this.props.model.on("tween:update",this.renderShapeMask)),this},renderShapeMask:function(){var a=this.shapeMask;
if(null!=a){var b=G(this.shapeMask),c=G(this.props.model,!0);this.applyShapeMask(b,c)}return this},applyShapeMask:function(a,b){var c=b.invert().append(a),d=this.shapeMask,e=d.prop("width"),f=d.prop("height"),g=c.transform(0,0),h=c.transform(e,f),i=[g.y,h.x,h.y,g.x].map(k.pxify);return this.el.style.clip=["rect(",i.join(","),")"].join(""),this},updateDecorators:function(){this.callLifeCycleEvent("onAfterShow")},moveTo:function(a,b){this.setPlayerProp({RawXPos:a,RawYPos:b})},updateMousePosition:function(a){var b=c.getCurrentWindow().getCurSlide(),d=b.props.model.calculateTotalScale();this.props.model.adjustVariables({name:a.xvar.value,value:b.mouseX*d},{name:a.yvar.value,value:b.mouseY*d})},updateFromTween:function(){var a;return null!=this.tweenedConfig&&(a=null!=this.animationOverride?this.animationOverride.adjustProps(b.clone(this.tweenedConfig.props)):this.tweenedConfig.props,this.setPlayerProp(a)),this},applyStylesDirectly:function(){b.extend(this.el.style,this.getStyles())},getAnimationResumeState:function(){var a=["RawXPos","RawYPos","ScaleX","ScaleY","Rotation","Alpha"];return b.reduce(a,function(a,b){return a[b]=this.getPlayerProp(b),a}.bind(this),{})},showObject:function(){this.trigger("visibilityChanged",!0),this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&this.props.model.isCollideable&&m.performCollisionDetect(this,{RawXPos:this.state.RawXPos,RawYPos:this.state.RawYPos},!0)}.bind(this))},hideObject:function(){this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&this.props.model.isCollideable&&m.performCollisionDetect(this,{RawXPos:this.state.RawXPos,RawYPos:this.state.RawYPos},!0)}.bind(this)),this.trigger("visibilityChanged",!1)},getRegisterableEvents:function(){var a=b.intersection(b.keys(g),D(this.props.model)),c=b.contains(a,"rollover");return c!==b.contains(a,"rollout")&&(c?a.push("rollout"):(a.push("rollover"),c=!0)),c&&(a=b(a).without("rollover").unshift("rollover").value()),a},shouldFireEvent:function(a,c){var d=!0,e=this.refs.innard;return null!=e&&b.isFunction(e.isClickDefAllowed)&&(d=e.isClickDefAllowed(c.target)),d&&(!b.contains(y,a)||this.latestEvent!==a)},triggerEvent:function(a){var b,c=a.type;this.state.Enabled&&(b=a.origEvent,b||(b=a),this.shouldFireEvent(c,b)&&("rollover"===c&&this.setPlayerProp("MouseOver",!0),this.latestEvent=c,this.props.model.executePlayerEvent("on"+c),"rollout"===c&&this.setPlayerProp("MouseOver",!1)))},cursorByType:function(){var a=this.props.model;return a.isDraggable()||a.isZoomable()||a.isWebObject()||a.isSlideable()},showCursor:function(){return this.props.model.isCorrectIncorrectReview()||this.props.model.get("useHandCursor")===!1?!1:!b(x).intersection(D(this.props.model)).isEmpty()||this.cursorByType()},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textHit:function(a){this.props.model.executeFilteredPlayerEvent(function(b){return b.triggerid===a},"onlinkrelease")},getDepth:function(){var a=this.props.model;return a.isKind("shufflegroup")?null:a.isKind("annotation")&&"spotlight"===a.get("style")?1e4:a.prop("depth")},getRotation:function(){return null!=this.tweenedConfig?this.tweenedConfig.props.Rotation:this.props.model.get("rotation")},getPosition:function(){return null!=this.tweenedConfig?{x:this.tweenedConfig.props.RawXPos,y:this.tweenedConfig.props.RawYPos}:{x:this.props.model.playerProps.get("RawXPos"),y:this.props.model.playerProps.get("RawYPos")}},getRotatedPixelBounds:function(a){return n.getRotatedPixelBounds(this,a)},getStyles:function(){var a,c,d=this.getGlobalRotation(),e={xPos:"xOffset",yPos:"yOffset"},f=this.props.model.getCurrentStateData(),g=null!=f&&null!=f.html5data,h=function(a){return g?f.html5data[a]:this.getPath("props.model."+(e[a]||a))}.bind(this);return a={zIndex:this.getDepth(),width:h("width"),height:h("height"),opacity:k.pctToDec(this.state.Alpha)},this.actualHeight=a.height,this.actualWidth=a.width,this.props.model.isKind("shufflegroup")||(a[this.cssTransformOrigin]=[this.state.rotateXPos,"px ",this.state.rotateYPos,"px"].join(""),c=0!==d&&this.state.ScaleX!==this.state.ScaleY,a[this.cssTransform]=b.compact([l.transformTranslate(this.state.RawXPos+"px",this.state.RawYPos+"px"),l.transformRotate(this.state.Rotation+"deg"),c?l.transformRotate(-d+"deg"):"",l.transformScale(this.state.ScaleX/100,this.state.ScaleY/100),c?l.transformRotate(d+"deg"):""]).join(" ")),this.props.model.isTweenable()&&z(a),a},getGlobalRotation:function(){for(var a=this.props.model,b=0;a;)a.isSlideObject&&(b+=a.playerProps.get("Rotation")),a=a.parent;return b},hasElsoMethod:function(){return b.isFunction(this.props.checkElso)},onSetFocusAction:function(a,b){s.focusItem(this,!a.showrect)},releaseFocus:function(a){this.hasElsoMethod()&&this.props.checkElso()&&this.props.onElsoAction(!1),this.refs.innard&&this.refs.innard.innardRelease?this.refs.innard.innardRelease(a):this.el.blur(),this.setState({tabFocused:!1})},stealFocus:function(a,c){this.props.onBeforeScrollFocus&&this.props.onBeforeScrollFocus(c),this.refs.innard&&this.refs.innard.innardFocus?this.refs.innard.innardFocus(a):this.el.focus(),c||this.setState({tabFocused:!0}),this.props.onScrollFocus&&this.props.onScrollFocus(this),b.toArray(document.querySelectorAll(".slide-layer")).forEach(function(a){a.scrollLeft=0,a.scrollTop=0})},actionKeyCallback:function(a){var c,d=!1;if(this.hasElsoMethod()&&this.props.checkElso())return this.props.onElsoAction(!0,a),!0;if(this.refs.innard&&this.refs.innard.actionKeyCallback)return this.refs.innard.actionKeyCallback(a);c=this.props.model;do c.isEventable&&b.some(c.events(),{kind:"onrelease"})&&(d=!0,c.executePlayerEvent("onrelease")),c=c.parent;while(null!=c&&!c.isKind("expandinglabel"));return d},treeKeyCallback:function(a,b){var c=this.refs.innard&&this.refs.innard.treeKeyCallback;return c?c(a,b):!1},getAccessibleText:function(){return(this.state.accessibleText||"").replace(u," ")},updateAccessibleText:function(){this.setState({accessibleText:this.updateVarText(this.props.model)})},getAriaRole:function(){var a=this.props.model.get("accType"),b=A[a];return null!=b?b:B[this.props.model.kind()]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},isFocusable:function(){var a=this.props.model,b=a.get("tabEnabled"),c=a.prop("tabIndex"),d=a.isKind("slideframe");return b&&c>=0&&!d},getFocusTarget:function(){var a=this.refs.innard;return this.isFocusable()?this:null!=a.getFocusTarget?a.getFocusTarget():void 0},getLayer:function(){return this.parentLayer=this.parentLayer||d.closest(this.el,function(a){return a.classList.contains("slide-layer")}),this.parentLayer},isMousedOver:function(){var a=this.el.getBoundingClientRect();return k.pointInRect(d.mouseX,d.mouseY,[[a.left,a.top],[a.width,a.height]])}});return H}),define("views/mixins/accTree",["require","lodash","polyfills/detection","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/detection"),d=a("helpers/utils"),e={componentWillMount:function(){null==this.toggleCarrot&&(this.toggleCarrot=b.noop)},stealFocus:function(a,d){c.isMobile||(d||this.setState({tabFocused:!0}),this.treeItems=this.findAll(".list-item"),this.treeItems.length&&(this.currentFocus=this.currentFocus||b.find(this.treeItems,function(a){return a.classList.contains("cs-selected")})||b.first(this.treeItems),this.currentFocus.focus(),this.focusIndex=this.treeItems.indexOf(this.currentFocus)))},releaseFocus:function(a){this.currentFocus&&this.currentFocus.blur(),this.setState({tabFocused:!1})},getNextTreeItemIndex:function(a){var b=this.focusIndex,c=this.treeItems.length;return c>0&&(b+=a?1:-1,b=d.clamp(0,c-1,b)),b},treeKeyCallback:function(a,b,c){return c.LEFT||c.RIGHT?(this.toggleCarrot(c),!0):(this.focusIndex=this.getNextTreeItemIndex(b),this.currentFocus=this.treeItems[this.focusIndex],null!=this.currentFocus&&this.currentFocus.focus(),!0)},actionKeyCallback:function(a,b){b||null==this.currentFocus||this.currentFocus.click()}};return e}),define("views/player/GlossaryTerms",["require","react","lodash","views/mixins/baseView","views/mixins/accTree"],function(a){"use strict";var b=a("react"),c=(a("lodash"),a("views/mixins/baseView")),d=a("views/mixins/accTree"),e=b.createClass({displayName:"GlossaryTerms",mixins:[c,d],getFocusTarget:function(){return this},termChosen:function(a,b){this.props.onTermChosen(a)}});return e}),define("views/player/GlossaryDefinition",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"GlossaryDefinition",mixins:[c],getFocusTarget:function(){return this}});return d}),define("views/player/Bottombar",["require","react","views/player/mixins/appStateable","helpers/pubSub","lodash","helpers/windowManager","views/mixins/baseView","views/player/mixins/fullScreenable"],function(a){"use strict";var b,c=a("react"),d=a("views/player/mixins/appStateable"),e=a("helpers/pubSub"),f=a("lodash"),g=a("helpers/windowManager"),h=a("views/mixins/baseView"),i=a("views/player/mixins/fullScreenable"),j=c.createClass({displayName:"Bottombar",mixins:[h,d,i],stateableValues:{seekbar:void 0,volume:void 0},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(a){g.isLightBoxActive()||this.setState({caption:a})},componentWillMount:function(){b=this.getPath("props.player.controlOptions.controls");var a=b.get("closed_captions");null!=a&&a===!1?this.setState({caption:!1}):(this.showCaptionButton=f.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=f.partial(this.toggleCaptionButton,!1),e.on("show:caption-button",this.showCaptionButton),e.on("hide:caption-button",this.hideCaptionButton))},componentWillUnmount:function(){e.off("show:caption-button",this.showCaptionButton),e.off("hide:caption-button",this.hideCaptionButton)},isReadOnly:function(){return!!b.get("readonly")},hasVolume:function(){return!!this.state.stateable_volume},hasSeekbar:function(){return!!this.state.stateable_seekbar},hasCaption:function(){return!!this.state.caption}});return j}),define("views/presentation/VectorBackground",["require","react","views/mixins/baseView","helpers/svg/svgManager"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/svg/svgManager"),e=b.createClass({displayName:"VectorBackground",mixins:[c],template:function(){var a=this.props.vectorData,b=a.left,c=a.top,e=a.right-a.left,f=a.bottom-a.top;return d.getSvgNode({commandsetId:a.pr.i,libId:a.pr.l,bounds:{xPos:b,yPos:c,fullX:b,fullY:c,height:f,width:e,fullHeight:f,fullWidth:e}},this)}});return e}),define("views/presentation/SlideWindowBackground",["require","react","helpers/assetManager","views/mixins/baseView","helpers/utils","views/presentation/VectorBackground"],function(a){"use strict";var b=a("react"),c=a("helpers/assetManager"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("views/presentation/VectorBackground"),g={swf:"renderAsset",vector:"renderVector"},h=b.createClass({displayName:"SlideWindowBackground",mixins:[d],renderBackground:function(){return this[g[this.props.bg.type]]()},renderVector:function(){return b.createElement(f,{vectorData:this.props.bg.vectorData})},renderAsset:function(){return b.DOM.div({className:"slide-window-background-asset",style:{backgroundImage:e.toCssUrl(c.getAssetUrl(this.props.bg.imagedata.assetId))}})}});return h}),define("views/player/Captions",["require","react","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides","lodash","helpers/captionsManager","helpers/windowManager","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("helpers/pubSub"),d=a("polyfills/detection"),e=a("polyfills/vendorOverrides"),f=a("lodash"),g=a("helpers/captionsManager"),h=a("helpers/windowManager"),i=a("views/mixins/baseView"),j=e.positionCaptions||f.noop,k=b.createClass({displayName:"Captions",mixins:[i],getInitialState:function(){return{captions:[],font:g.getCaptionFont()}},componentWillMount:function(){c.on("render:captions",this.onData)},componentWillUnmount:function(){c.off("render:captions",this.onData)},onData:function(a){d.isMobile&&h.isLightBoxActive()?this.el.style.zIndex=999:this.el.style.zIndex=1,!d.isMobile&&a.length>0&&h.isLightBoxActive()&&this.props.lightboxed!==!0||this.setState({captions:a},f.partial(j,this.el))},toHtml:function(a){var b,c,d,e,f=document.createElement("div");for(f.appendChild(a.cloneNode(!0)),c=f.querySelectorAll("q[data-voice]"),e=0;e<c.length;e++)d=c[e],b=d.getAttribute("data-voice"),d.innerText=[b,":"," ",d.textContent].join("");return f.innerHTML.replace(/&amp;/g,"&")}});return k}),define("views/player/UiMobile",["require","lodash","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","helpers/pubSub","views/mixins/mouseable"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("react-dom"),d=a("views/player/mixins/appStateable"),e=a("views/mixins/baseView"),f=a("polyfills/detection"),g=a("helpers/pubSub"),h=a("views/mixins/mouseable"),i=b.createClass({displayName:"UiMobile",mixins:[e,d,h],subscriptions:{"nextSlide:requesting":"onRequestingNextSlide","detection:orientationChange":"onOrientationChange","popup:show":"onPresenterPanelShow","customlink:event":"onCustomLink"},getIntialState:function(){return{orientation:null,isActive:!1,showMenu:!1,showTab:!1,showSearch:!1}},componentDidMount:function(){this.setupUi()},setupUi:function(){this.updateOrientation(),this.registerEvent("clickoutside",this.onClickOffMenu,this.find(".content-menu"))},onClickOffMenu:function(a){var b=c.findDOMNode(this.refs["menu-handle"]),d=b===a.target||b.contains(a.target);!this.state.showMenu||this.isLandscape()||d||this.toggleMenu()},onOrientationChange:function(){this.updateOrientation()},onRequestingNextSlide:function(){this.deactivateUi()},onPresenterPanelShow:function(){this.deactivateUi()},onTabChange:function(){this.setState({showTab:!0,showMenu:this.isLandscape()})},shouldShowLandscapeMenu:function(){return"landscape"===f.orientation&&this.state.showTab&&!this.state.showMenu},shouldHidePortraitMenu:function(){return"portrait"===f.orientation&&this.state.showMenu},updateOrientation:function(){this.shouldShowLandscapeMenu()?this.toggleMenu():this.shouldHidePortraitMenu()&&this.setState({showMenu:!1}),this.setState({orientation:f.orientation})},isLandscape:function(){return"landscape"===this.state.orientation},onHamburgerTouchEnd:function(a){this.toggleMenu(),a.preventDefault()},toggleMenu:function(){var a=!this.state.showMenu,b=this.isLandscape()?a:this.state.showTab,c=a||b;this.isLandscape()||b||this.refs.sidebar.setState({activeTab:null}),this.refs.sidebar.checkEmptyTabs(),c&&b&&g.trigger("uiMobile:menuOpen"),this.setState({isActive:c,showMenu:a,showTab:b})},onToggleSearchUi:function(){var a=!this.state.showSearch;a||this.clearSearch(),this.setState({showSearch:a})},clearSearch:function(){var a=this.findComponent("Menu");a.onClearSearch()},closeTab:function(){this.setState({showTab:!1})},onCustomLink:function(){this.toggleMenu()},deactivateUi:function(){this.setState({isActive:!1,showMenu:!1,showTab:!1})}});return i}),define("collections/player/Links",["require","collections/BaseCollection","helpers/pubSub","helpers/utils","helpers/resolver"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("helpers/pubSub"),d=a("helpers/utils"),e=a("helpers/resolver"),f=b.extend({initialize:function(a,b){this.origModels=a},findDeep:function(a){var b;return this.forEach(function(c){return b=c.findDeep(a),!b}),b},hasChildSlide:function(a){return!!this.findWhere({slideid:a})},prepareDrawSlides:function(a,b){c.once("data:initialized",this.setDrawSlides.bind(this,a,b))},setDrawSlides:function(a,b){var c=e.resolvePath(d.prefixWithPlayer(b),this),f=this.setDrawLinks.bind(this,a);this.listenTo(c,"change:slides",f),null!=c.slides()&&f(c,c.slides())},setDrawLinks:function(a,b,c){var d=this.slice(),e=a.spliceNum||1;a.linkIndex=null!=a.linkIndex?a.linkIndex:this.indexOf(a),d.splice.apply(d,[a.linkIndex,e].concat(c.map(this.createNewLink))),a.spliceNum=c.length,this.reset(d)},createNewLink:function(a){var b={kind:"slidelink",expand:!1,type:"slide"};return b.slideid=a.absoluteId,b.slidetitle=b.displaytext=a.get("title"),b}});return f}),define("views/player/SearchOptions",["require","lodash","react","views/mixins/baseView","helpers/utils","collections/player/Links","helpers/constants","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("collections/player/Links"),g=a("helpers/constants"),h=a("views/helpers/dom"),i=function(a){return e.prefixWithPlayer(a)},j=function(a,b){return a.chain().filter(function(a){return b.test(e.stripTags(a.get("content")))}).invoke("get","slideId").map(i).value()},k=function(a,c){return b(a).filter(function(a){return c.test(a.Text)}).pluck("slideid").map(i).value()},l={cbNotes:"notes",cbText:"text"},m=c.createClass({displayName:"SearchOptions",mixins:[d],stringTitles:{filter:"filter",search_clear:"clear",search_in:"search_in",search_results:"search_results",slide_notes:"transcript_chk",slide_text:"slide_text_chk"},getInitialState:function(){return{notes:!0,text:!0,searchOptionsVisible:!1}},handleChangeNotes:function(a){this.setState({notes:a.target.checked})},handleChangeText:function(a){this.setState({text:a.target.checked})},toggleSearchOptions:function(a){this.setState({searchOptionsVisible:!this.state.searchOptionsVisible}),null!=a&&a.preventDefault()},toggleCheckbox:function(a){var c={};b.forOwn(l,function(b,d){a===this.refs[d]&&(c[b]=!this.state[b])}.bind(this)),this.setState(c)},performSearch:function(a){var c,d,e=[],g=[],h=new RegExp(a,"i");return this.state.notes&&(e=j(this.props.notesData,h)),this.state.text&&(g=k(this.props.searchData,h)),c=b(e).union(g),d=this.props.links.chain().map(function i(a){var b=[],d=a.get("links"),e=a.get("slideid"),f=e.split(".").length<=2,g=!1;return h.test(a.get("displaytext"))&&(g=!0),c.contains(e)&&(g=!0),g&&!f&&b.push(a),d&&d.length&&b.push(d.map(i)),b}).flattenDeep().value(),new f(d)},getTabbableItems:function(){b.forOwn(this.refs,function(a){a.dsFocusController=this}.bind(this)),this.props.addFocusObjects([b.assign(this.refs.btnFilter,{idx:g.tabIndices.SEARCH_FILTER}),b.assign(this.refs.cbNotes,{idx:g.tabIndices.SEARCH_NOTES}),b.assign(this.refs.cbText,{idx:g.tabIndices.SEARCH_TEXT})])},getFocusTarget:function(a){return b.find(this.refs,function(b){return!!h.closest(a.target,function(a){return a===b})})},stealFocus:function(a,b){b||this.setState({btnFilterFocus:a===this.refs.btnFilter,cbNotesFocus:a===this.refs.cbNotes,cbTextFocus:a===this.refs.cbText}),a.focus()},releaseFocus:function(a){this.setState({btnFilterFocus:!1,cbNotesFocus:!1,cbTextFocus:!1}),a.blur()},actionKeyCallback:function(a){a===this.refs.btnFilter?this.toggleSearchOptions():this.toggleCheckbox(a)}});return m}),define("views/player/SearchResults",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/utils","helpers/keyManager","tween-lite","views/helpers/dom","helpers/constants","helpers/pubSub","helpers/windowManager","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("views/mixins/accTree"),f=(a("helpers/utils"),a("helpers/keyManager")),g=(a("tween-lite"),a("views/helpers/dom")),h=a("helpers/constants"),i=(a("helpers/pubSub"),a("helpers/windowManager"),a("polyfills/detection"),c.createClass({displayName:"SearchResults",mixins:[d,e],reset:function(){this.currentFocus=void 0},componentWillReceiveProps:function(a){this.props.showChildren!==a.showChildren&&(f.moveFocusObject(this,a.showChildren?h.tabIndices.SEARCH_INPUT:h.tabIndices.SEARCH_CLEAR),this.reset())},getTabbableItems:function(){this.props.addFocusObjects([b.assign(this,{idx:h.tabIndices.SEARCH_RESULTS_TREE_MODE})])},onClickMenuItem:function(a){this.currentFocus=a.currentTarget,this.stealFocus(this)},getFocusTarget:function(){return this},toggleCarrot:function(a){var b,c,d=this.currentFocus.querySelector(".icon-carrot");null!=d&&(b=g.closest(this.currentFocus,function(a){return g.hasClass(a,"item-collapsible")}),c=g.hasClass(b,"outline-links-collapse"),(c&&a.RIGHT||!c&&a.LEFT)&&d.click())}}));return i}),define("views/player/SearchFooter",["require","react","react-dom","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","views/helpers/dom","helpers/keyManager"],function(a){"use strict";var b=a("react"),c=a("react-dom"),d=a("helpers/constants"),e=a("views/mixins/baseView"),f=a("lodash"),g=a("views/player/mixins/appStateable"),h=a("views/helpers/dom"),i=a("helpers/keyManager"),j=b.createClass({displayName:"SearchFooter",mixins:[e,g],stringTitles:{acc_search_input:"acc_search_input",search_clear:"clear",search:"search"},stateableValues:{"outline.search":void 0},getTabbableItems:function(){f.forOwn(this.refs,function(a,b){a.dsFocusController=this}.bind(this)),this.props.addFocusObjects([f.assign(this.refs.searchInput,{idx:d.tabIndices.SEARCH_INPUT}),f.assign(this.refs.searchSubmit,{idx:d.tabIndices.SEARCH_SUBMIT}),f.assign(this.refs.searchClear,{idx:d.tabIndices.SEARCH_CLEAR})])},getFocusTarget:function(a){return f.find(this.refs,function(b){return!!h.closest(a.target,function(a){return a===b})})},getInitialState:function(){return{searchInput:""}},search:function(a){null!=a&&a.preventDefault(),this.props.onSearch(this.state.searchInput)},handleChange:function(a){this.setState({searchInput:a.target.value})},clearSearch:function(a){null!=a&&a.preventDefault(),this.setState({searchInput:""}),this.props.onClearSearch()},stealFocus:function(a,b){b||this.setState({clearFocus:a===this.refs.searchClear,inputFocus:a===this.refs.searchInput,submitFocus:a===this.refs.searchSubmit}),c.findDOMNode(a).focus()},releaseFocus:function(a){this.setState({clearFocus:!1,inputFocus:!1,submitFocus:!1}),c.findDOMNode(a).blur()},onInputKeyDown:function(a){i.keys.ENTER&&this.search(a)},actionKeyCallback:function(a,b){(a===this.refs.searchInput&&b||a===this.refs.searchSubmit)&&this.search(),a===this.refs.searchClear&&this.clearSearch()}});return j}),define("views/player/MenuLinksListItem",["require","lodash","react","views/mixins/baseView","helpers/utils","polyfills/detection","helpers/constants","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=(a("helpers/utils"),a("polyfills/detection")),f=a("helpers/constants"),g=a("helpers/resolver"),h=c.createClass({displayName:"MenuLinksListItem",mixins:[d],getInitialState:function(){return{showChildren:!0,expanded:this.getPath("props.link.expand")}},componentDidMount:function(){this.visuallyRestrictMenu()},componentDidUpdate:function(a){var c=this.props.link.get("slideid"),d=this.isSlideSelected(c),e=b.last(a.visitedSlides)===c;d&&!e&&this.onSelectMenuItem(),this.visuallyRestrictMenu()},linkSlide:function(a){return"#"+a},isActionLink:function(){return this.props.link.isActionLink},isSlideSelected:function(a){return b.last(this.props.visitedSlides)===a},hasSlideBeenViewed:function(a){return!this.isSlideSelected(a)&&b.contains(this.props.visitedSlides,a)},isSlideCorrect:function(a){if(!this.props.link.isActionLink&&!b.isEmpty(a)){var c,d=g.resolvePath(a),e=d&&d.isSlide;if(e&&d.getInteractionAttempted()&&(c=d.get("showMenuResultIcon"),this.props.enableResultsIcons===!0||c===!0))return d.getInteractionStatus()}},isSlideViewedOrCurrentParent:function(a){return this.props.link.isImmediateParent&&!this.isSlideSelected(a)||this.hasSlideBeenViewed(a)},hasChildren:function(){return this.props.link.links().length>0},subscriptions:{"mainWindow:slideChanged":"onSlideChanged","player:reset":"onPlayerReset"},visuallyRestrictMenu:function(){if(e.isMobile){var a=this.props.link.get("slideid"),b=this.linkSlide(a),c=this.hasChildren()&&this.props.shouldKillLink(b,!0);this.setState({itemRestricted:c})}},onSlideChanged:function(a){var b,c=this.props.collapsible,d=this.props.visitedSlides,f=d.slice(0,d.length-1),g=a.absoluteId,h=this.props.link.hasChild(g);if(h)for(this.setImmediateParent(!0),this.toggle(!0),b=this.props.parentItem;null!=b;)b.toggle&&b.toggle(!0),b=b.props&&b.props.parentItem;if(f.length>0&&this.props.hasAnyLink(g)){e.isMobile&&(c=!1);var i=this.props.link.isOrHasChild(g),j=f.some(this.props.link.isOrHasChild.bind(this.props.link));c&&j&&!i?this.toggle(!1):i&&this.toggle(!0)}this.resetTouched()},resetTouched:function(){setTimeout(function(){this.setState({touched:!1})}.bind(this),f.MOBILE_ANIMATION_DURATION)},onSelectMenuItem:function(){this.props.onSelectMenuItem&&(this.props.onSelectMenuItem(this),e.isMobile&&this.setState({touched:!0}))},onTouchEnd:function(){this.resetTouched()},toggle:function(a){return this.setState({expanded:b.isBoolean(a)?a:!this.state.expanded}),this},setImmediateParent:function(a){this.props.link.isImmediateParent=a},getAutoNumber:function(){for(var a=this.props.link,b="",c=function(a){return a.index()+1+"."};a;)b=c(a)+b,a=null!=a.parent&&a.parent.isKind("slidelink")&&a.parent;return b+" "},onPlayerReset:function(){this.forceUpdate()}});return h}),define("views/player/MenuLinksList",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils"),a("react")),c=a("views/mixins/baseView"),d=b.createClass({displayName:"MenuLinksList",mixins:[c],getDefaultProps:function(){return{level:1}},getAriaRole:function(){return 1===this.props.level?"tree":"group"}});return d}),define("views/player/NotesHeader",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"NotesHeader",mixins:[c]});return d}),define("views/player/NotesList",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"NotesList",mixins:[c]});return d}),define("views/player/PlayPauseButton",["require","react","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","polyfills/detection","views/helpers/dom","helpers/keyManager"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=a("lodash"),f=a("views/player/mixins/appStateable"),g=a("polyfills/detection"),h=a("views/helpers/dom"),i=a("helpers/keyManager"),j=b.createClass({displayName:"PlayPauseButton",mixins:[d,f],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},subscriptions:{"keyManager:frameControlKey":"onFrameControlKey"},stateableValues:{pauseplay:void 0},componentDidMount:function(){g.isMobile&&(this.shouldShowCircularProgress(),window.addEventListener("resize",this.onReflow))},componentWillMount:function(){this.props.timeline&&this.watchTimelineChanges()},componentWillUnmount:function(){window.removeEventListener("resize",this.onReflow)},stateableValuesUpdated:function(a){a!==this.prevLayout&&(this.shouldShowCircularProgress(),this.prevLayout=a)},getTabbableItems:function(){return[e.assign(this,{idx:c.tabIndices.PLAYBACK_PLAY,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{isPlaying:this.props.timeline?this.props.timeline.isPlaying():!1}},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,"tick",this.onTick)},onTick:function(a){this.setState({progress:a})},watchTimelineChanges:function(){this.stopListening(this.props.timeline),this.listenTo(this.props.timeline,"playing paused ended",this.onPlaybackStateChange),g.isMobile&&this.listenToTick()},onPlaybackStateChange:function(a){var b=a&&a.override;this.setState({isPlaying:b||"playing"===this.props.timeline.playbackState()})},onTouchStart:function(a){h.tappedClass(a.currentTarget)},toggle:function(a){this.props.timeline.togglePlayback(),g.isMobile&&this.props.timeline.hasFinished()&&(this.props.timeline.reset(),this.onPlaybackStateChange())},onReflow:function(){this.shouldShowCircularProgress()},shouldShowCircularProgress:function(){this.htmlReady(this.hideShowCircularProgress)},hideShowCircularProgress:function(){var a,b=this.el.nextSibling;b&&(a="portrait"===g.orientation&&b.getBoundingClientRect().width<c.MOBILE_UI_SIZE,b.style.display=a?"none":"",this.setState({showCircleProgress:a}))},componentDidUpdate:function(a){a.timeline!==this.props.timeline&&(this.watchTimelineChanges(),this.setState({isPlaying:this.props.timeline.isPlaying()}))},onFrameControlKey:function(a){var b,c=i.getCurrentItem(),d=h.hasClass(document.body,"curr-slide-locked");c&&c.el&&(b=c.el.getAttribute("id","panel-outline")),b&&d||a.SPACE&&this.toggle()},actionKeyCallback:function(){return this.toggle(),!0}});return j}),define("views/player/PlaybackProgress",["require","react","helpers/constants","lodash","views/mixins/baseView","polyfills/detection"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("lodash"),e=a("views/mixins/baseView"),f=a("polyfills/detection"),g=5e3,h=b.createClass({displayName:"PlaybackProgress",mixins:[e],getTabbableItems:function(){return[d.assign(this,{idx:c.tabIndices.PLAYBACK_PROGRESS,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{progress:0}},componentDidMount:function(){this.inputEl=this.find("input"),f.isMobileAndNotPreview&&(this.inputEl.style.pointerEvents="none",this.el.addEventListener("touchmove",this.onSeekMobile),this.el.addEventListener("touchstart",this.onSeekMobile),this.el.addEventListener("touchend",this.onMouseUp))},componentWillMount:function(){this.listenToTick()},componentDidUpdate:function(a){a.timeline!==this.props.timeline&&(this.stopListening(a.timeline),this.listenToTick(),null!=this.props.timeline&&this.onTick(this.props.timeline.progress()))},componentWillUnmount:function(){f.isMobileAndNotPreview&&(this.el.removeEventListener("touchmove",this.onSeekMobile),this.el.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(a){var b,c;a.preventDefault(),a.stopPropagation(),a.touches&&1===a.touches.length&&("touchstart"===a.type&&this.onMouseDown(),b=this.el.getBoundingClientRect(),c=(a.touches[0].pageX-b.left)/b.width,c=Math.min(Math.max(0,c),1),this.inputEl.value=c,this.onSeek())},listenToTick:function(){null!=this.props.timeline&&(this.listenTo(this.props.timeline,"tick",this.onTick),this.onTick(this.props.timeline.progress()))},onTick:function(a){this.setState({progress:a})},onSeek:function(){var a=function(){this.props.timeline.play(),this.stopListening(this.props.timeline,"afterSeekUpdate",a)}.bind(this);this.seeking=!0,this.isUp!==!0&&this.props.timeline.isPlaying()&&(this.props.timeline.pause(!0),this.listenTo(this.props.timeline,"afterSeekUpdate",a)),this.props.timeline.progress(this.inputEl.valueAsNumber),this.isUp=!1},onMouseDown:function(a){this.isUp=!1,this.props.timeline.onSeekStart()},onMouseUp:function(a){this.isUp=!0,this.props.timeline.onSeekEnd()},stealFocus:function(){this.setState({tabFocused:!0}),this.find("input").focus()},releaseFocus:function(){this.setState({tabFocused:!1}),this.find("input").blur()},treeKeyCallback:function(a,b){var c=g/this.props.timeline.duration();return this.inputEl.valueAsNumber+=c*(b?-1:1),this.onSeek(),!0}});return h}),define("views/player/PlaybackResetButton",["require","react","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=a("lodash"),f=a("views/player/mixins/appStateable"),g=b.createClass({displayName:"PlaybackResetButton",mixins:[d,f],stringTitles:{acc_replay:"acc_replay"},stateableValues:{replay:void 0},getTabbableItems:function(){return[e.assign(this,{idx:c.tabIndices.PLAYBACK_RESET,indexGroupName:"PlayerControlButton"})]},resetPlayhead:function(a){this.props.timeline.reset()},actionKeyCallback:function(){return this.resetPlayhead(),
!0}});return g}),define("helpers/videoManager",["require","lodash"],function(a){"use strict";var b=a("lodash"),c={},d=function(a){var d,e=c[a]=document.createElement("video");return e.setAttribute("src",""),e.setAttribute("preload","auto"),e.load(),d=e.play(),null!=d&&d["catch"](b.noop),e},e={getVideoElement:function(a){var b=c[a];return null==b?d(a):b},prepare:function(a){a.assetLib().forEach(function(a){var b=a.url();"video"===a.type()&&null==c[b]&&d(b)})}};return e}),define("views/player/PresenterVideo",["require","react","helpers/pubSub","helpers/windowManager","helpers/actionator","helpers/vow","helpers/utils","helpers/assetManager","helpers/appState","helpers/videoManager","views/mixins/baseView"],function(a){"use strict";var b,c,d=a("react"),e=(a("helpers/pubSub"),a("helpers/windowManager")),f=(a("helpers/actionator"),a("helpers/vow")),g=a("helpers/utils"),h=a("helpers/assetManager"),i=a("helpers/appState"),j=a("helpers/videoManager"),k=a("views/mixins/baseView"),l="playing",m="paused",n="ended",o="afterSeekUpdate",p=function(a){this.canPlayDfd=new f.Deferred,b=h.getAsset(a.assetId),c=b.url(),this.video=j.getVideoElement(c),g.parseUrl(this.video.src).pathname!==g.parseUrl(c).pathname&&(this.video.src=c),this.video.volume=i.currentVolume(),this.video.readyState>=this.video.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():this.video.addEventListener("canplay",this.canPlayDfd.resolve),this.canPlayDfd.done(function(){window.requestAnimationFrame(function(){this.video.videoHeight>this.video.videoWidth?this.refs.videoContainer.classList.add("vertical-video"):this.refs.videoContainer.classList.contains("vertical-video")&&this.refs.videoContainer.classList.remove("vertical-video"),this.video.style.display="block"}.bind(this)),this.video.currentTime=0,this.video.play()}.bind(this)),this.video.style.display="none",this.refs.videoContainer.appendChild(this.video),this.watchTimelineChanges()},q=function(){this.canPlayDfd.reject(),this.video.removeEventListener("canplay",this.canPlayDfd.resolve),this.video.src="",this.refs.videoContainer.removeChild(this.video),this.video=null},r=d.createClass({displayName:"PresenterVideo",mixins:[k],subscriptions:{"volume:changed":"onVolumeChanged"},componentDidMount:function(){var a=this.props.video;a&&p.call(this,a)},componentDidUpdate:function(a,b){var c=this.props.video;c&&(this.video&&q.call(this),p.call(this,c))},componentWillUnmount:function(){q.call(this);var a=e.getCurrentWindowSlide().currentTimeline();this.stopListening(a)},watchTimelineChanges:function(){var a=e.getCurrentWindowSlide().currentTimeline();this.listenTo(a,l,this.onPlaybackStateChange.bind(this,l)),this.listenTo(a,m,this.onPlaybackStateChange.bind(this,m)),this.listenTo(a,n,this.onPlaybackStateChange.bind(this,n)),this.listenTo(a,o,this.onPlaybackStateChange.bind(this,o))},onPlaybackStateChange:function(a,b){switch(a){case m:case n:this.video.pause();break;case l:this.video.play();break;case o:this.video.currentTime=b}},onVolumeChanged:function(a){this.video.volume=a}});return r}),define("views/player/Timer",["require","lodash","react","views/mixins/baseView","timeline-lite","helpers/utils","polyfills/detection","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("timeline-lite"),f=a("helpers/utils"),g=a("polyfills/detection"),h=a("helpers/constants"),i={remaining:function(a,b){return f.formatSecondsAsTime(b-a)},totalelapsed:function(a,b){return[a,b].map(f.formatSecondsAsTime).join(" / ")},elapsed:function(a,b){return f.formatSecondsAsTime(a)},none:function(){return""}},j=c.createClass({displayName:"Timer",mixins:[d],subscriptions:{"nextSlide:requesting":"onNextSlide","slide:started":"onSlideReady"},shortEvents:{model:{show:"onShow",hide:"onHide",pause:"onPause",start:"onStart",reset:"onReset"}},getTabbableItems:function(){return[b.assign(this,{idx:h.tabIndices.TIME,indexGroupName:"TopTabsItem"})]},stealFocus:function(){this.refs.timerText.focus()},onNextSlide:function(){this.resumeOnSlideReady=this.started,this.timeline.pause()},onSlideReady:function(){this.resumeOnSlideReady&&this.timeline.play()},getInitialState:function(){return{timerVisible:!1,timeScale:0,timeText:g.isMobile?"00:00":""}},componentWillMount:function(){this.setupOptions(),this.started=!1,this.setupTimeline(),this.addTween()},componentDidMount:function(){this.props.model.performDeferredResume()},setupOptions:function(){var a=this.props.options;this.timeEnabled=a.get("timeEnabled"),this.timeFormat=g.isMobile?"remaining":a.get("timeFormat")},setupTimeline:function(){this.tweenTick={val:0},this.timeline=new e({paused:!0}),this.duration=this.getPath("props.model.duration")/1e3,this.tweenProps={val:1,ease:"Linear.easeNone",onUpdate:this.onUpdate,onComplete:this.onComplete}},addTween:function(){this.timeline.to(this.tweenTick,this.duration,this.tweenProps)},elapsed:function(a,b){return null==a?this.duration*this.tweenTick.val:void this.timeline.progress(a/this.duration,b)},getTimeText:function(){return i[this.timeFormat](this.elapsed(),this.duration)},onUpdate:function(){this.setState({timeText:this.getTimeText(),timeScale:this.tweenTick.val})},onComplete:function(){this.props.model.executePlayerEvent("timercomplete")},onShow:function(){this.props.onTimerShow(this),this.setState({timerVisible:!0}),document.body.classList.add("timer-shown")},onHide:function(){this.setState({timerVisible:!1}),document.body.classList.remove("timer-shown")},onPause:function(){this.timeline.pause(),this.started=!1,this.resumeOnSlideReady=!1},onStart:function(){this.started||(this.timeline.play(),this.started=!0),this.resumeOnSlideReady=!0},onReset:function(){this.started=!1,this.timeline.progress(0)}});return j}),define("views/player/SlideControlButton",["require","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","views/helpers/dom","helpers/resolver","helpers/windowManager"],function(a){"use strict";var b=a("react"),c=a("react-dom"),d=a("views/player/mixins/appStateable"),e=a("views/mixins/baseView"),f=a("polyfills/detection"),g=a("views/helpers/dom"),h=a("helpers/resolver"),i=a("helpers/windowManager"),j="_",k=b.createClass({displayName:"SlideControlButton",mixins:[e,d],subscriptions:{"navcontrols:changed":"onChangeAction"},getInitialState:function(){return{visible:!0}},stateableValues:function(){var a={};return a[this.props.kind]=null,a},beforeStateableValuesUpdated:function(){this.setState({visible:!0,disabled:!1})},componentWillMount:function(){this.updateKey()},componentWillReceiveProps:function(a){this.props.kind!==a.kind&&this.updateKey(a)},updateKey:function(a){return a=a||this.props,this.key=["stateable",a.kind].join(j),this},visible:function(){return this.state[this.key]&&this.state.visible},disabled:function(){return this.state.disabled},focus:function(){return c.findDOMNode(this.refs.btn).focus(),this.setState({focused:!0}),this},blur:function(){return c.findDOMNode(this.refs.btn).blur(),this.setState({focused:!1}),this},performChange:function(a){return a.name===this.props.kind&&(a.hasOwnProperty("visible")&&this.onSetVisibleAction(a),a.hasOwnProperty("enable")&&this.onSetEnabledAction(a)),this},getButtonEventsDesktop:function(){return{onClick:this.onButtonDown}},getButtonEventsMobile:function(){return{onTouchStart:function(){this.onTouchStart.apply(this,arguments),this.onButtonDown.apply(this,arguments)}.bind(this)}},getButtonEventsPreview:function(){return{onClick:this.onButtonDown,onMouseDown:this.onTouchStart}},onButtonDown:function(){this.state.disabled||this.props.onButtonDown.apply(this,arguments)},onChangeAction:function(a,b){var c,d,e,f=i.getCurrentWindow();this.props.windowId===f.slideContainer.props.windowId&&(c=f.getCurrentSlide(),d=null!=b?h.resolvePath(b.context.absoluteId):c,d.isSlide&&d===this.props.slide?this.performChange(a):d.isScene&&this.props.slide===c?this.performChange(a):(e=h.resolveAbsolutePathWithFilter(b.context.absoluteId,function(a){return a.isSlide===!0}),this.props.slide===e&&this.performChange(a)))},onSetVisibleAction:function(a){this.setState({visible:a.visible})},onSetEnabledAction:function(a){var b=!a.enable,c=this.setState.bind(this,{disabled:b}),d=c;null!=this.frame&&window.cancelAnimationFrame(this.frame),b&&document.activeElement===this.refs.btn&&(d=window.requestAnimationFrame.bind(window,function(){c()})),this.frame=d()},onTouchStart:function(){g.tappedClass(this.refs.btn)}}),l=k.prototype;return f.isMobilePreview?l.getButtonEvents=l.getButtonEventsPreview:f.isMobile?l.getButtonEvents=l.getButtonEventsMobile:l.getButtonEvents=l.getButtonEventsDesktop,k}),define("views/player/ResourcesHeader",["require","react","views/mixins/baseView","helpers/constants"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=(a("helpers/constants"),b.createClass({displayName:"ResourcesHeader",mixins:[c]}));return d}),define("views/player/ResourcesList",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/windowOpen"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("views/mixins/accTree"),e=a("helpers/windowOpen"),f=b.createClass({displayName:"ResourcesList",mixins:[c,d],getFocusTarget:function(){return this},onClickResource:function(a,b){b.preventDefault(),e.open({url:a.get("url")})}});return f}),define("views/presentation/SequenceCtrlDrop",["require","lodash","views/mixins/baseView","react","views/helpers/dragAndDropHelper"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=a("views/helpers/dragAndDropHelper").DroppableHelper,e=c.createClass({mixins:[b],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentWillReceiveProps:function(a){this.props.parent.isEnabled()&&this.setState({reviewIdx:a.idx})},componentWillUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new d(this.el,{data:this})},setDropChild:function(a){this.dropChild=a,a.drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(a){if(a.el){var b=this.el.getBoundingClientRect(),c=a.el.getBoundingClientRect(),d=c.top,e=b.top+b.height/3;d>e?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}});return e}),define("views/presentation/SequenceCtrlDragItem",["require","lodash","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("views/presentation/mixins/dragdropSlideObject"),d=a("react"),e=d.createClass({mixins:[b,c],displayName:"SequenceCtrlDragItem",getInitialState:function(){return this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}});return e}),define("views/player/TabPanel",["require","lodash","react","helpers/constants","views/helpers/dom","views/mixins/baseView","views/player/mixins/appStateable","polyfills/detection","helpers/scaler"],function(a){"use strict";var b=(a("lodash"),a("react")),c=(a("helpers/constants"),a("views/helpers/dom"),a("views/mixins/baseView")),d=a("views/player/mixins/appStateable"),e=a("polyfills/detection"),f=a("helpers/scaler"),g=function(a){this.props.config.isLive=a,this.setState({isVisible:a})},h=function(a,b){return a.idx-b.idx},i=b.createClass({displayName:"TabPanel",mixins:[c,d],stateableValues:function(){var a={};return a[this.props.config.name]=g.bind(this),a},addFocusObjects:function(a){this.focusObjects||(this.focusObjects=[]),this.focusObjects=this.focusObjects.concat(a),this.focusObjects.sort(h)},componentDidMount:function(){this.el.addEventListener("touchmove",this.onTouchMove),this.isTranscript="transcript"===this.props.config.name},componentDidUpdate:function(){this.checkAutoScrollMenuTab()},componentWillUnmount:function(){this.el.removeEventListener("touchmove",this.onTouchMove)},setScrollListener:function(){var a=this.find(".panel-content");a.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(a){this.find(".panel-content").style.overflowY="auto"},checkAutoScrollMenuTab:function(){var a;null!=this.props.activeTab&&"outline"===this.props.config.name&&this.props.config.name===this.props.activeTab.name&&(a=this.find(".menu-item-selected"),this.autoScrollMenu(a))},autoScrollMenu:function(a){if(null!=a){var b,c,d,g,h,i=this.el.getBoundingClientRect(),j=a.getBoundingClientRect(),k=this.find(".panel-footer"),l=null!=k?k.getBoundingClientRect().height:0,m=j.bottom-i.top+l,n=j.top-i.top;(m>i.height||0>n)&&(b=e.isMobile&&"landscape"===e.orientation?1:.25,h=j.height*b,g=i.top>j.top?n-h:m-i.height+h,d=e.isMobile?document.querySelector("#panel-outline"):this.find(".panel-content-menu"),c=f.getScale(),c=1>c?1/c:1,d.scrollTop+=g*c)}}});return i}),define("views/player/SidebarTab",["require","lodash","react","react-dom","views/mixins/baseView","views/player/mixins/appStateable","helpers/pubSub"],function(a){"use strict";var b=(a("lodash"),a("react")),c=(a("react-dom"),a("views/mixins/baseView")),d=a("views/player/mixins/appStateable"),e=a("helpers/pubSub"),f=function(a){this.props.config.isLive=a,this.setState({isVisible:a})},g={outline:"O",glossary:"G",transcript:"N"},h=b.createClass({displayName:"SidebarTab",mixins:[c,d],subscriptions:{"keyManager:frameControlKey":"onFrameControlKey"},stateableValues:function(){var a={};return a[this.props.config.name]=f.bind(this),a},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1}},activate:function(){var a=this.props.config.properties.data;a?e.trigger("customlink:event",a):(this.props.setActiveTab(this.props.config),this.props.tabChanged&&this.props.tabChanged(this.props.config))},actionKeyCallback:function(){return this.activate(),!0},onFrameControlKey:function(a){var b=this.props.config.name;null!=g[b]&&a[g[b]]&&this.activate()}});return h}),define("views/player/Presenter",["require","react","helpers/pubSub","lodash","helpers/windowManager","helpers/actionator","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("helpers/pubSub"),d=a("lodash"),e=a("helpers/windowManager"),f=a("helpers/actionator"),g=a("views/mixins/baseView"),h=b.createClass({displayName:"Presenter",subscriptions:{"popup:hide":"onPopupHide","popup:email":"onPopupEmail"},mixins:[g],getTabbableItems:function(){return null!=this.refs.name?(d.forOwn(this.refs,function(a,b){a.dsFocusController=this}.bind(this)),[d.assign(this.refs.name,{idx:0,indexGroupName:"Presenter"}),d.assign(this.refs.title,{idx:1,indexGroupName:"Presenter"}),d.assign(this.refs.link,{idx:2,indexGroupName:"Presenter"})]):void 0},stealFocus:function(a){a.focus()},releaseFocus:function(a){a.blur()},actionKeyCallback:function(a){return a===this.refs.link&&(this.hasOnlyEmail()?this.onEmailLinkClicked(this.props.presenter.email):this.moreInfo()),!0},moreInfo:function(a){var b=e.getCurrentWindowSlide().currentTimeline();null!=a&&a.preventDefault(),b.isPlaying()?(b.pause(),this.wasPlaying=!0):this.wasPlaying=!1,c.trigger("popup:show",this.props.presenter.id)},onPopupHide:function(){this.wasPlaying&&e.getCurrentWindowSlide().currentTimeline().play()},onPopupEmail:function(a){f.mailTo({kind:"emailto",address:a})},onEmailLinkClicked:function(a,b){null!=b&&b.preventDefault(),this.onPopupEmail(a)},hasOnlyBioText:function(){return!this.props.presenter.email&&this.props.presenter.biotext},hasOnlyEmail:function(){return this.props.presenter.email&&!this.props.presenter.biotext},hasBothEmailAndBioText:function(){return this.props.presenter.email&&this.props.presenter.biotext}});return h}),define("views/mixins/transitionableLayer",["require","lodash","views/helpers/TweenHelper","helpers/AnimationTimeline","helpers/vow","polyfills/vendorOverrides"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/TweenHelper")),c=a("helpers/AnimationTimeline"),d=a("helpers/vow"),e=(a("polyfills/vendorOverrides"),{componentWillMount:function(){this.elDfd=new d.Deferred},componentDidMount:function(){this.elDfd.resolve()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(a,d){this.getElPromise().done(function(){this.aniTimeline=new c({tweens:[new b(this,!1,a.getConfig())],onComplete:function(){d(),this.cancelTransition()}.bind(this)}),this.aniTimeline.seek(0),this.aniTimeline.play()}.bind(this))},cancelTransition:function(){null!=this.aniTimeline&&(this.aniTimeline.kill(),this.aniTimeline=null)}});return e}),define("views/presentation/SlideLayer",["require","lodash","react","views/presentation/SlideObject","views/mixins/baseView","views/mixins/transitionableLayer","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=(a("views/presentation/SlideObject"),a("views/mixins/baseView")),e=a("views/mixins/transitionableLayer"),f=a("helpers/utils"),g=c.createClass({displayName:"SlideLayer",mixins:[d,e],subscriptions:{"slide:willChange":"onSlideWillChange"},shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition"}},componentDidMount:function(){this.toggleVisibility(this.isBaseLayer()),this.listenToDepth().setInitModelProps()},componentWillUnmount:function(){this.props.model.isShowable=!1,this.props.model.shownInCurrentView=!1,this.props.model.isOpen=!1},getInitialState:function(){return{depth:0,audio:!0}},onSlideWillChange:function(a,c,d){var e=f.stripPlayer(this.props.model.getClosestAncestorByKind("slide").absoluteId),g=f.stripPlayer(a.absoluteId),h=f.stripPlayer(c.absoluteId);d?b(this.refs).filter(function(a,c){return b.startsWith(c,"audio")}).invoke("pause").commit():e===g&&e!==h&&this.setState({audio:!1})},isBaseLayer:function(){return this.props.model.isBaseLayer()},onShow:function(){this.props.model.get("timeline").play(),this.show(),this.props.model.executePlayerEvent("ontransitionin"),this.execSlideStart()},onShowCustom:function(a,b,c,d){var e=(this.props.model,function(){d(),this.props.model.get("timeline").play(),this.execSlideStart()}.bind(this));this.transitionIn(c,e),this.show(),this.props.model.executePlayerEvent("ontransitionin")},onCancelTransition:function(){this.cancelTransition()},onHide:function(){this.props.model.get("timeline").pause(!0),this.hide(),this.props.model.executePlayerEvent("ontransitionout")},execSlideStart:function(){this.props.model.executePlayerEvent("onslidestart")},listenToDepth:function(){return this.setState({depth:this.props.model.depth()}),this.listenTo(this.props.model,"change:depth",function(a,b){this.setState({depth:b})}.bind(this)),this},setInitModelProps:function(){return this.props.model.createObjectIndex(),this}});return g}),define("views/presentation/SlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=(a("helpers/svg/svgUtils"),a("views/presentation/LinearBackgroundGradient"),b.createClass({displayName:"SlideBackground",mixins:[c],patternFillId:function(){return"pattern-fill-"+this.props.model.id}}));return d}),define("views/presentation/VectorSlideBackground",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"VectorSlideBackground",mixins:[c]});return d}),define("mixins/captionable",["require","helpers/captionsManager","helpers/windowManager","helpers/pubSub"],function(a){"use strict";var b=a("helpers/captionsManager"),c=a("helpers/windowManager"),d=a("helpers/pubSub"),e={componentWillMount:function(){this.onObjectsVisibilityResolved=function(){b.reloadCaptions(),this.publishCurrentTime()}.bind(this),d.on("slideLayer:resolvedObjectVisibility",this.onObjectsVisibilityResolved)},componentDidMount:function(){this.slideId=c.getCurrentWindowSlide().id,b.mount(this,this.slideId)},publishCurrentTime:function(){b.isCaptionButtonToggled()&&d.trigger("media:currentTime",this.getCurrentTime(),this.getAssetId())},componentWillUnmount:function(){b.unmount(this,this.slideId),d.off("slideLayer:resolvedObjectVisibility",this.onObjectsVisibilityResolved)}};return e}),define("views/presentation/AudioPlayer",["require","lodash","react","helpers/appState","mixins/captionable","views/mixins/propertizable","helpers/constants","helpers/captionsManager","helpers/pubSub","views/mixins/baseView","helpers/audio/audioManager","helpers/vow","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/appState"),e=a("mixins/captionable"),f=a("views/mixins/propertizable"),g=a("helpers/constants"),h=a("helpers/captionsManager"),i=(a("helpers/pubSub"),a("views/mixins/baseView")),j=a("helpers/audio/audioManager"),k=a("helpers/vow"),l=a("helpers/utils"),m=c.createClass({displayName:"AudioPlayer",mixins:[i,f,e],shortEvents:{model:{"action:media_seek":"onActionSeek","action:media_play":"onActionPlay","action:media_pause":"onActionPause","action:media_toggle":"onActionToggle","action:set_volume":"onActionSetVolume"},timeline:{playing:"onTimelinePlay",paused:"onTimelinePause",afterSeekUpdate:"onTimelineSeek",reset:"onTimelineReset"}},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var a=this.props.model.getUrl(),b=j.loadUrl(a);this.slideStartedDfd=new k.Deferred,this.setState({audioClip:b}),this.listenTo(this.props.model.getSlide(),"started",this.slideStartedDfd.resolve)},componentDidMount:function(){this.presentationVol=g.DEFAULT_VOLUME,this.setVolume(d.currentVolume()),this.currActionStartTime=0,this.listenTo(d,"change:currentVolume",this.onVolumeChanged),this.listenTo(this.state.audioClip,"audioClip:ended",this.onEnded),this.listenTo(this.state.audioClip,"audioClip:timeUpdate",this.onTimeUpdate)},componentWillUpdate:function(a,c){var d=this.state.audioClip,e=[];null!=c.seekFn&&c.seekFn!==this.state.seekFn&&e.push(c.seekFn),c.isPlaying===this.state.isPlaying&&c.soundComplete===this.state.soundComplete||e.push(d[c.isPlaying?"play":"pause"].bind(d)),e.length>0&&this.slideStartedDfd.done(b.partial(b.invoke,e,Function.prototype.call))},componentWillUnmount:function(){this.state.audioClip.destroy(),this.pause()},onEnded:function(){this.setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:!1}),this.props.model.executePlayerEvent("onmediacomplete"),this.publishCurrentTime()},ended:function(){return this.state.soundComplete===!0},getAssetId:function(){return this.props.model.get("assetId")},getCurrentTime:function(){return this.currentTime},isVideo:function(){return!1},onTimeUpdate:function(a){this.currentTime=a,this.publishCurrentTime()},onVolumeChanged:function(a,b){this.determineAudioVolume(b)},determineAudioVolume:function(a){this.setVolume(a*this.presentationVol)},setTimelineControl:function(a){this.setPlayerProp({isTimelineControlled:!!a.timelineLabel})},getTimelineControl:function(){return this.props.model.prop("isTimelineControlled")},onActionPlay:function(a,b){this.setActionStartTime(b.time),this.state.soundComplete===!0&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.setTimelineControl(b),this.setPlayerProp("resumeOnTimelinePlay",!0),"expandinglabel"===b.context.get("kind")&&h.includeMedia(this.getAssetId()),this.play()},onActionPause:function(a,b){this.setActionStartTime(b.time),this.setTimelineControl(b),this.setPlayerProp("resumeOnTimelinePlay",!1),"expandinglabel"===b.context.get("kind")&&h.excludeMedia(this.getAssetId()),this.pause()},onActionToggle:function(a,b){this.state.isPlaying?this.onActionPause(a,b):this.onActionPlay(a,b)},onActionSeek:function(a,b){this.setActionStartTime(b.time),this.seek(a.position),this.currentTime=l.toSeconds(b.currentTime),this.publishCurrentTime()},onActionSetVolume:function(a,b){var c=a.volume/100;this.setActionStartTime(b.time),this.presentationVol=c,this.determineAudioVolume(d.currentVolume())},play:function(){this.setPlayerProp({isPlaying:!0})},pause:function(){this.setPlayerProp({isPlaying:!1}),this.publishCurrentTime()},seek:function(a){var c=this.state.audioClip;this.setState({seekFn:b.partial(c.seek.bind(c),l.toSeconds(a))})},setVolume:function(a){this.state.audioClip.setVolume(a)},setActionStartTime:function(a){null==a&&this.state.soundComplete&&(a=0),null!=a&&(this.currActionStartTime=a)},calculatePlaybackDifference:function(a){return a-(this.currActionStartTime||0)},onTimelinePlay:function(){this.props.model.prop("resumeOnTimelinePlay")&&this.play()},onTimelinePause:function(){this.pause()},onTimelineSeek:function(a){this.getTimelineControl()&&(a=this.calculatePlaybackDifference(a),this.seek(a))},onTimelineReset:function(){this.setState({soundComplete:!1})},template:function(){return null}});return m}),define("views/player/SlideLoaderIndicator",["require","react","views/mixins/baseView","views/helpers/dom"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("views/helpers/dom"),e=b.createClass({displayName:"SlideLoaderIndicator",mixins:[c],getInitialState:function(){return this.getCursorPos()},componentWillMount:function(){document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){document.body.removeEventListener("mousemove",this.onMouseMove)},onMouseMove:function(){this.setState(this.getCursorPos())},getCursorPos:function(){return{cursorX:d.mouseX,cursorY:d.mouseY}}});return e}),define("views/player/RelativeNavControls",["require","lodash","react","react-dom","helpers/constants","helpers/keyManager","views/mixins/baseView","views/player/mixins/appStateable","helpers/utils","polyfills/detection","helpers/windowManager","helpers/resolver","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=(a("react-dom"),a("helpers/constants")),e=a("helpers/keyManager"),f=a("views/mixins/baseView"),g=a("views/player/mixins/appStateable"),h=a("helpers/utils"),i=a("polyfills/detection"),j=a("helpers/windowManager"),k=(a("helpers/resolver"),a("helpers/pubSub")),l=c.createClass({displayName:"RelativeNavControls",mixins:[f,g],subscriptions:{"navcontrols:changed":"onChangeAction","keyManager:frameControlKey":"onFrameControlKey"},getInitialState:function(){return{showPrev:!0,showNext:!0}},getTabbableItems:function(){var a;return b.forOwn(this.refs,function(a,b){a.dsFocusController=this}.bind(this)),a=[b.assign(this.refs.prev,{idx:d.tabIndices.PREV,indexGroupName:"SlideControlButton"}),b.assign(this.refs.next,{idx:d.tabIndices.NEXT,indexGroupName:"SlideControlButton"}),b.assign(this.refs.submit,{idx:d.tabIndices.SUBMIT,indexGroupName:"SlideControlButton"})],this.props.lightboxed||a.unshift(b.assign(this.refs.skipNav,{idx:d.tabIndices.SKIP,indexGroupName:"SlideControlButton"})),a},stringTitles:{prev:"prev",acc_previous:"acc_prev",next:"next",acc_next:"acc_next",submit:"submit",acc_skipnavigation:"acc_skipnavigation",finish:"finish"},stateableValues:{previous:void 0,next:void 0,submit:void 0,submitall:void 0},componentDidMount:function(){window.addEventListener("resize",this.calcHideShowPrevNext)},componentWillUnmount:function(){window.removeEventListener("resize",this.calcHideShowPrevNext)},stateableValuesUpdated:function(a){this.layout=a,this.calcHideShowPrevNext()},triggerNavEvent:function(a,b){var c=j.getCurrentWindow().getCurrentSlide();c.get("slideLock")||k.trigger("presentation:onobjectevent",a+"_pressed")},triggerSubmit:function(a){k.trigger("presentation:onobjectevent","submit_pressed")},triggerFinish:function(){k.trigger("presentation:onobjectevent","finish_pressed")},stealFocus:function(a){a.focus()},releaseFocus:function(a){a.blur()},actionKeyCallback:function(a){return a===this.refs.skipNav?this.skipNav():a.onButtonDown(),!0},onTimerShow:function(a){h.showTimer(this,a)},skipNav:function(){e.clearCurrentItem(),e.currentIndex=-1},onOrientationChange:function(){console.log("orientation"),this.calcHideShowPrevNext()},onChangeAction:function(a,b){this.calcHideShowPrevNext()},calcHideShowPrevNext:function(){if(null!=this.layout){var a=b.compact([this.state.stateable_submit,this.state.stateable_previous,this.state.stateable_next,this.layout.seekbar]).length;this.setState({showNext:!0,showPrev:!0}),i.is360&&a>=3&&i.innerWidth<=d.MOBILE_360_PHONE_LARGE&&"portrait"===i.orientation?this.state.stateable_submit&&this.setState({showNext:!1,showPrev:!1}):i.is360&&a>3&&this.state.stateable_submit&&i.innerWidth<d.MOBILE_WIDTH_MIN?this.setState({showNext:!1,showPrev:!1}):i.is360&&a>3&&this.state.stateable_submit&&i.innerHeight<d.MOBILE_360_PHONE_MEDIUM?this.setState({showNext:!1,showPrev:!1}):4===a&&i.innerHeight<d.MOBILE_MIN_LANDSCAPE_FULL&&"landscape"===i.orientation?this.setState({showNext:!1,showPrev:!1}):this.state.stateable_previous&&this.state.stateable_next&&this.setState({showNext:!0,showPrev:!0,shrinkButtons:!!this.getPath("props.timers")&&i.innerHeight<d.MOBILE_MIN_LANDSCAPE})}},onFrameControlKey:function(a){(a.LEFT||a.UP||a.PAGE_UP)&&this.state.showPrev?this.triggerNavEvent("prev"):(a.RIGHT||a.DOWN||a.PAGE_DOWN)&&this.state.showNext&&this.triggerNavEvent("next")}});return l}),define("views/player/Menu",["require","lodash","react","views/mixins/baseView","helpers/utils","tween-lite","views/helpers/dom","helpers/pubSub","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("tween-lite"),g=a("views/helpers/dom"),h=a("helpers/pubSub"),i=a("helpers/windowManager"),j=function(a){return a.replace(/#|\//g,"")},k=function(a){return a.isLink},l=c.createClass({displayName:"Menu",mixins:[d],subscriptions:{"mainWindow:slideChanged":"onSlideChanged","actionlink:event":"onActionLink","actionlink:viewed":"onActionLink"},stringTitles:{acc_search:"acc_search"},getInitialState:function(){return{visitedSlides:[],isSearchActive:!1,links:[]}},componentWillMount:function(){h.once("resume:setdata",this.updateVisitedSlides),this.setState({links:this.getInitialLinks()})},setScrollListener:function(){var a=this.el;a.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(a){this.el.style.overflowY="auto"},updateVisitedSlides:function(a,b){null!=a&&a.forEach(this.addSlideToVisited),null!=b&&b.forEach(this.addActionLinkToVisited)},onSearch:function(a){var b=this.findComponent("SearchOptions").performSearch(a);this.updateLinks(b)},onClearSearch:function(){this.setLinks(this.getInitialLinks(),!1)},updateLinks:function(a){this.setLinks(a,!0)},checkFlow:function(a){var b,c=i.getCurrentWindow().getCurrentSlide(),d=g.closest(a.target,g.isLink),e=g.closest(a.target,g.isIconNode),f=d&&d.getAttribute("href"),j=d&&d.hasAttribute("data-actionlink");if(f&&(a.preventDefault(),b=f.slice(1),!c.get("slideLock")))return this.isRestrictedFlow()&&!this.hasSlideBeenVisited(b,j)?void h.trigger("presentation:onobjectevent","nav_restricted_mode"):void(this.shouldKillLink(f,j)||e||h.trigger(j?"actionlink:event":"nextSlide:requesting",b))},setLinks:function(a,b){var c=this.find(".outline");f.to(c,.25,{opacity:0,onComplete:function(){this.setState({isSearchActive:b,links:a}),f.to(c,.25,{opacity:1})}.bind(this)})},getInitialLinks:function(){return this.props.model.outline().links()},isFlowType:function(a){return this.props.options.get("flow")===a},shouldKillLink:function(a,b,c){var d=j(a);return b&&-1===d.indexOf(".")&&this.hasSceneBeenVisited(d)?!1:!b&&this.isLockedFlow()?!0:this.isFreeFlow()?!1:!this.hasSlideBeenVisited(d,c)},hasSceneBeenVisited:function(a){var c=b.findLast(this.state.visitedSlides,function(b){return-1!==b.indexOf(a)});return!!c},hasSlideBeenVisited:function(a,c){return b.contains(this.state.visitedSlides,c?a:e.prefixWithPlayer(a))},addSlideToVisited:function(a){var c=a.absoluteId,d=a.getScene().absoluteId,e=b(this.state.visitedSlides.slice()||[]).without(d,c).push(d,c).value();
return this.setState({visitedSlides:e}),this},addActionLinkToVisited:function(a){for(var c=this.state.links.findDeep(a),d=[],e=c;null!=e;)d.unshift(e.get("slideid")),e=e.getClosestAncestor(k);var f=b.without.apply(b,[this.state.visitedSlides.slice()||[]].concat(d));return f.push.apply(f,d),this.setState({visitedSlides:f}),this},onSlideChanged:function(a){this.addSlideToVisited(a)},onActionLink:function(a){this.addActionLinkToVisited(a)},hasAnyLink:function(a){return!!this.state.links.findDeep(a)}}),m=l.prototype;return m.isFreeFlow=b.partial(m.isFlowType,"free"),m.isRestrictedFlow=b.partial(m.isFlowType,"restricted"),m.isLockedFlow=b.partial(m.isFlowType,"locked"),l}),define("views/player/Glossary",["require","react","views/mixins/baseView","lodash","helpers/slideObjectUtils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("lodash"),e=a("helpers/slideObjectUtils"),f=0,g=b.createClass({displayName:"Glossary",mixins:[c],stringTitles:{terms:"terms",definition:"definition",acc_definition:"acc_definition"},getTabbableItems:function(){this.props.addFocusObjects([d.assign(this.refs.glossaryTerms,{idx:++f}),d.assign(this.refs.glossaryDefinition,{idx:++f})])},componentWillMount:function(){e.activeMobileMenuItem(this.props.collection,"no-glossary")},getInitialState:function(){return{curTitle:"",curDefinition:""}},revealTerm:function(a){var b=this.props.collection.at(a);return this.setState({curTitle:b.get("title"),curDefinition:b.get("content")}),this}});return g}),define("views/player/Notes",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/slideObjectUtils","polyfills/detection","helpers/svg/svgUtils","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("helpers/slideObjectUtils"),g=a("polyfills/detection"),h=a("helpers/svg/svgUtils"),i=a("helpers/pubSub"),j=16/12,k=.1,l=4*k,m=3,n=/color:#ffffff/gi,o=function(a,b){var c;a.style[b]&&(c=parseFloat(a.style[b]),a.style[b]=e.pxify(Math.ceil(c*j)))},p=0,q=c.createClass({displayName:"Notes",mixins:[d],subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},getInitialState:function(){return{currentSlideNote:{},currentSlideTitle:""}},getTabbableItems:function(){this.props.addFocusObjects([b.assign(this.refs.notesHeader,{idx:++p}),b.assign(this.refs.notesList,{idx:++p})])},onSlideChanged:function(a){var b,c,d=this.props.collection.findWhere({slideId:a.fullId()});null!=d&&(b=d.get("pathIndex"),c=d.get("pathLib")),f.activeMobileMenuItem(c,"no-transcript"),this.refs.panelContent.scrollTop=0,this.setState({currentSlideNote:d||{},currentSlideTitle:a.get("title"),commandsetId:b,pathLib:c})},componentDidMount:function(){g.isMobile&&i.on("uiMobile:menuOpen",this.mobileLandscapeToggle)},mobileLandscapeToggle:function(){"landscape"===g.orientation&&this.prepareToSizeSvg()},prepareToSizeSvg:function(){this.svgNotes=this.refs.notesList.refs.svgNotes,null!=this.svgNotes&&this.htmlReady(this.setSvgNoteSizing)},componentDidUpdate:function(){this.prepareToSizeSvg()},setSvgNoteSizing:function(){if("transcript"===b.get(this,"props.active.name")){var a,c=this.svgNotes.querySelector("g"),d=c.getBBox(),e=1;0!==d.width&&(a=this.refs.panelContent.getBoundingClientRect(),g.isMobile&&(e=a.width/d.width-k,(g.isTablet||"landscape"===g.orientation)&&(e-=l),e>m&&(e=m),c.setAttribute("transform",h.transformScale(e))),this.svgNotes.setAttribute("width",a.width),this.svgNotes.setAttribute("height",(d.height+d.y)*e))}},getNotesHtml:function(){var a,c,d=this.state.currentSlideNote,e=null!=d.get?d.get("usePngNotesHtml5"):!1,h=document.createElement("div");if(e)c=document.createElement("img"),c.src=d.get("notesPng"),h.appendChild(c);else{if(a=null!=d.get?d.get("content"):"",f.activeMobileMenuItem(a,"no-transcript"),0===a.length)return;h.innerHTML=g.isMobile?a.replace(n,"color:#515557"):a,this.scaleForMobile(h),b(h.childNodes).reject("firstChild").each(function(a){a.innerHTML="&nbsp;"}).value()}return h.innerHTML},scaleForMobile:function(a){g.isMobile&&b.each(a.querySelectorAll("font, p"),function(a){"FONT"===a.tagName?o(a,"fontSize"):"P"===a.tagName&&o(a,"lineHeight")})}});return q}),define("views/player/Resources",["require","react","lodash","views/mixins/baseView","helpers/constants","helpers/slideObjectUtils"],function(a){"use strict";var b=a("react"),c=a("lodash"),d=a("views/mixins/baseView"),e=a("helpers/constants"),f=a("helpers/slideObjectUtils"),g=e.tabIndices.TOP_TAB_RIGHT,h=b.createClass({displayName:"Resources",mixins:[d],stringTitles:{acc_resources:"acc_resources"},getTabbableItems:function(){this.props.addFocusObjects([c.assign(this.refs.resourcesHeader,{idx:++g}),c.assign(this.refs.resourcesList,{idx:++g})])},componentWillMount:function(){f.activeMobileMenuItem(this.props.model.resources(),"no-resources")}});return h}),define("views/player/TopTabsItem",["require","lodash","helpers/pubSub","react","views/mixins/baseView","views/mixins/mouseable","views/player/mixins/appStateable","views/events/eventHelper","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("react"),e=a("views/mixins/baseView"),f=a("views/mixins/mouseable"),g=a("views/player/mixins/appStateable"),h=a("views/events/eventHelper"),i=a("helpers/constants"),j={resources:"R"},k=d.createClass({displayName:"TopTabsItem",mixins:[e,f,g],subscriptions:{"keyManager:frameControlKey":"onFrameControlKey"},stateableValues:{resources:void 0,glossary:void 0,outline:void 0},determineVisibilty:function(){return"resources"===this.props.name?this.state.stateable_resources:"glossary"===this.props.name?this.state.stateable_glossary:"outline"===this.props.name?this.state.stateable_outline:!0},componentDidMount:function(){this.registerEvent("clickoutside",this.onClickOutside)},componentDidUpdate:function(){var a=this.el.parentNode.querySelectorAll(".topmenu-item:not(.hidden) .topmenu-separator"),c="rtl"===window.getComputedStyle(this.el.parentNode).direction,d=b(a).forEach(function(a){a.style.display=""})[c?"first":"last"]();d&&(d.style.display="none")},getTitle:function(){return"qm"===i.player.OUTPUT_TYPE?this.state.i18nquestion_list:this.state.i18ntitle},stringTitles:function(){var a={title:this.props.config.properties.title||this.props.config.name};return"outline"===this.props.config.name&&"qm"===i.player.OUTPUT_TYPE&&(a.question_list="question_list"),a},getInitialState:function(){return{isLive:!1,title:this.props.config.properties.title}},onClickOutside:function(){this.isActive()&&this.deactivate()},onSelectMenuItem:function(){this.deactivate()},isActive:function(){return this.props.activeTab===this.props.config},activate:function(){return this.props.activateTab(this),this},deactivate:function(){return this.props.deactivateTab(this),this},toggle:function(){return this.isActive()?this.deactivate():this.activate(),this},onClick:function(a){h.isSpacebarClick(a)||this.onToggle()},onToggle:function(){var a=this.props.config.properties.data;a?c.trigger("customlink:event",a):this.toggle()},stealFocus:function(a){this.find("button").focus(),this.setState({tabFocused:!0})},releaseFocus:function(a){this.find("button").blur(),this.setState({tabFocused:!1})},actionKeyCallback:function(a){this.onToggle()},onFrameControlKey:function(a){var b=this.props.config.name;null!=j[b]&&a[j[b]]&&this.toggle()}});return k}),define("views/player/TopTabs",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/constants"),e=a("views/mixins/baseView"),f=a("helpers/utils"),g=function(a){return"getLink"+f.upperCaseFirst(a)},h={left:d.tabIndices.TOP_TAB_LEFT,right:d.tabIndices.TOP_TAB_RIGHT},i=c.createClass({displayName:"TopTabs",mixins:[e],subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},getInitialState:function(){return{activeTab:null,tabs:[]}},getTabbableItems:function(){var a,c,d=[],e=h[this.props.align],f=0;for(a=this.refs["topTabsItem"+f++];a;)d.push(b.assign(a,{idx:e++})),c=a.refs.tabPanel,c&&c.focusObjects&&c.focusObjects.forEach(function(a){a.indexGroupName="TopTabsItem",d.push(a)}),a=this.refs["topTabsItem"+f++];return d},componentWillMount:function(){var a=g(this.props.align),c=this.state.tabs;c.push.apply(c,b.cloneDeep(this.props.model[a]()))},alignDir:function(){return"left"===this.props.align?"start":"end"},activateTab:function(a){this.setState({activeTab:a.props.config})},onSlideChanged:function(){this.deactivateTab()},deactivateTab:function(a){this.setState({activeTab:null})}});return i}),define("views/player/ElapsedAndTotalTime",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("helpers/windowManager"),g=b.flow(e.toSeconds,e.formatSecondsAsTime),h=c.createClass({displayName:"ElapsedAndTotalTime",mixins:[d],subscriptions:{"slide:started":"onSlideStarted","timeline:currentTimeline":"onTimelineChanged"},getInitialState:function(){return{startTime:0,timelineProgress:0}},componentWillMount:function(){this.duration=g(this.props.presentation.get("lessonDuration"))},componentWillUnmount:function(){this.unbindTimelineEvents(),this.unbindSlideEvents()},configObjEvents:function(a,b,c,d){var e=this[a];return null!=e&&e[d?"on":"off"](b,this[c]),this},getNextTimelineProgressState:function(){var a=this.timeline;return{timelineProgress:null==a||this.isPaused()?0:a.progress()*a.duration()}},isMode:function(a){var b=this.timeline;return null==b?!1:b.parent.get("elapsedTimeMode")===a},onSlideStarted:function(){this.unbindSlideEvents(),this.slide=f.getCurrentWindowSlide(),this.bindSlideEvents()},onSlideTimelineChanged:function(a,b){this.onTimelineChanged(b)},onTimelineChanged:function(a){this.unbindTimelineEvents(),this.timeline=a,this.isIgnored()||(this.bindTimelineEvents(),this.setState(b.extend({startTime:a.parent.get("startTime")},this.getNextTimelineProgressState())))},onTimelineTick:function(){this.setState(this.getNextTimelineProgressState())},renderTimer:function(){return[g(Math.max(0,this.state.startTime+this.state.timelineProgress)),this.duration].join(" / ")}}),i=h.prototype;return b.extend(i,{bindSlideEvents:b.partial(i.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!0),unbindSlideEvents:b.partial(i.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!1),bindTimelineEvents:b.partial(i.configObjEvents,"timeline","tick","onTimelineTick",!0),unbindTimelineEvents:b.partial(i.configObjEvents,"timeline","tick","onTimelineTick",!1),isIgnored:b.partial(i.isMode,"ignore"),isPaused:b.partial(i.isMode,"pause")}),h}),define("views/player/SidebarMobile",["require","lodash","helpers/utils","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides","polyfills/detection","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),a("helpers/constants")),d=a("react"),e=a("views/mixins/baseView"),f=a("views/player/mixins/appStateable"),g=a("views/player/mixins/sidebar"),h=a("polyfills/vendorOverrides"),i=a("polyfills/detection"),j=a("views/helpers/dom"),k=h.forceSingleRepaint||b.noop,l=["glossary","transcript","resources"],m=function(a){return a.isLive=!0,a},n=function(){return j.hasClass(document.body,"has-custom-links")},o=function(a,c){var d=this.state.tabs.slice(),e=b.findWhere(d,{name:a});null!=e&&(e.isLive=c),this.setState({tabs:d})},p=function(a,b){return!(a.outline.enabled||a.glossary||a.transcript||a.resources)},q=c.tabIndices.SIDEBAR,r=d.createClass({displayName:"SidebarMobile",mixins:[e,f,g],isSidebar:!0,isFullyMounted:!1,subscriptions:{"detection:orientationChange":"onOrientationChange"},stateableValues:function(){return{outline:o.bind(this,"outline"),glossary:o.bind(this,"glossary"),transcript:o.bind(this,"transcript"),resources:o.bind(this,"resources")}},stateableValuesUpdated:function(a){!p(a,this.state.tabs)||this.hasPresenter()||n()?document.body.classList.remove("no-menu"):document.body.classList.add("no-menu"),this.layout=a,this.htmlReady(this.defaultToAvailableTab)},getTabbableItems:function(){var a,c,d=b.range(0,4),e=function(a,c,d){var e=this.refs[a+d];return null!=e&&c.push(b.assign(e,{idx:q++,indexGroupName:"SidebarTab"})),c},f=function(a,b,c){var d=this.refs[a+c];return null!=d&&d.focusObjects&&d.focusObjects.forEach(function(a){null!=a&&(a.indexGroupName="SidebarTab",b.push(a))}),b},g=e.bind(this,"sidebarTab");return c=d.reduce(g,[]),a=d.reduce(f.bind(this,"sidebarPanel"),[]),c.concat(a)},getInitialState:function(){var a=b.cloneDeep(this.props.model.getSidebar()).map(m),c=b.cloneDeep(this.props.model.getLinkLeft()).map(m),d=b.cloneDeep(this.props.model.getLinkRight()).map(m),e=a.concat(c).concat(d);return{activeTab:null,tabs:e}},selectTabOnOrientationChange:function(){"landscape"!==i.orientation||this.state.activeTab||this.setActiveTab(b.findWhere(this.state.tabs,{isLive:!0}))},componentWillMount:function(){var a=this.props.model,c=a.get("presenters"),d=null==c?!0:0===c.length,e=b.every(this.props.model.controlLayouts().attributes,function(a){return p(a,this.state.tabs)}.bind(this));this.selectTabOnOrientationChange(),d&&e&&!n()&&document.body.classList.add("hide-menu")},onOrientationChange:function(){this.selectTabOnOrientationChange()},componentWillUpdate:function(a,b){b.activeTab!==this.state.activeTab&&this.setActiveTab(b.activeTab),k(this.el)},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},isDeactivated:function(a){return j.hasClass(document.body,"no-"+a)},activeNotDisabled:function(a){return this.layout[a]&&!this.isDeactivated(a)?!0:void 0},checkEmptyTabs:function(){var a=this.layout.outline.enabled||l.some(this.activeNotDisabled),b=a?"remove":"add";document.body.classList[b]("no-panels")},defaultToAvailableTab:function(){if(this.state.activeTab){var a,c=this.state.activeTab.name,d=!1;"outline"===c?this.layout[c].enabled&&(d=!0):this.layout[c]&&(this.isDeactivated(c)||(d=!0)),d||(this.layout.outline.enabled?a="outline":l.some(function(b){var c=this.activeNotDisabled(b);return c&&(a=b),c}.bind(this)),a&&this.setActiveTab(b.findWhere(this.state.tabs,{name:a})))}},setActiveTab:function(a){this.setState({activeTab:a}),a&&"outline"===a.name?document.body.classList.add("menu-panel-active"):document.body.classList.remove("menu-panel-active")},onSearch:function(a){var b=this.findComponent("SearchOptions").performSearch(a),c=this.findComponent("Menu");c.updateLinks(b)}});return r}),define("views/presentation/VectorTextHitArea",["require","views/helpers/dom","react","views/mixins/baseView"],function(a){"use strict";var b=a("views/helpers/dom"),c=a("react"),d=a("views/mixins/baseView"),e=c.createClass({displayName:"VectorTextHitArea",mixins:[d],componentDidMount:function(){this.areas={};var a=b.closest(this.el,function(a){return b.hasClass(a,"vector-text-item")});this.findAll(".link-highlight-area").forEach(function(b){var c=b.getAttribute("data-linkarea");this.areas[c]=b,a.insertBefore(b,a.firstElementChild)}.bind(this))},renderAs:function(a){var c="mouseover"===a.type,d=a.currentTarget.getAttribute("data-hotarea");b.setStyles(this.areas[d],{opacity:Number(c)})},onClickCallback:function(a){a.preventDefault(),this.props.onClickCallback(this.props.linkId)}});return e}),define("views/presentation/VideoControls",["require","lodash","helpers/utils","react","views/mixins/baseView","polyfills/vendorOverrides","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("react"),e=a("views/mixins/baseView"),f=(a("polyfills/vendorOverrides"),a("polyfills/detection")),g=d.createClass({displayName:"VideoControls",mixins:[e],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},onChange:b.noop,componentDidMount:function(){f.isMobileAndNotPreview&&(this.refs.inputEl.style.pointerEvents="none",this.refs.progressBar.addEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.addEventListener("touchstart",this.onSeekMobile))},componentWillUnmount:function(){f.isMobileAndNotPreview&&(this.refs.progressBar.removeEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(a){var b,c;a.preventDefault(),a.stopPropagation(),a.touches&&1===a.touches.length&&(b=this.refs.progressBarInner.getBoundingClientRect(),c=(a.touches[0].pageX-b.left)/b.width,c=Math.min(Math.max(0,c),1),this.refs.inputEl.value=c*this.props.duration,this.props.rangeslideVideoControls({target:this.refs.inputEl}))},currentTimeFormatted:function(){return c.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return c.formatSecondsAsTime(this.props.duration||0)}});return g}),define("views/presentation/VideoPlayer",["require","lodash","react","helpers/pubSub","views/mixins/baseView","mixins/captionable","helpers/videoManager","polyfills/vendorOverrides","polyfills/detection","helpers/vow","helpers/utils","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=(a("helpers/pubSub"),a("views/mixins/baseView")),e=a("mixins/captionable"),f=a("helpers/videoManager"),g=a("polyfills/vendorOverrides"),h=a("polyfills/detection"),i=a("helpers/vow"),j=a("helpers/utils"),k=a("helpers/errorManager"),l=k.throwError("VideoPlayer"),m=g.buildCaptionTracks||b.noop,n=g.onCaptionsEnabled||b.noop,o=g.offCaptionsEnabled||b.noop,p=function(a,b){var c;switch(a){case"onDurationChange":c=b.target.duration;break;case"onTimeUpdate":c=b.target.currentTime;break;default:c=b}return c},q=c.createClass({displayName:"VideoPlayer",mixins:[d,e],getInitialState:function(){return{currentTime:0}},componentWillMount:function(){this.onTimeUpdateHandler=b.partial(this.onEvent,"onTimeUpdate"),this.onDurationChangeHandler=b.partial(this.onEvent,"onDurationChange"),this.onPlaybackEndedHandler=b.partial(this.onEvent,"onPlaybackEnded"),this.onLoadedDataHandler=b.partial(this.onEvent,"onLoadedData"),this.canPlayDfd=new i.Deferred,this.videoEl=f.getVideoElement(this.props.src),m(this.videoEl,this.getAssetId()),this.bindVideoEventListeners(),j.parseUrl(this.videoEl.src).pathname!==j.parseUrl(this.props.src).pathname&&(this.videoEl.src=this.props.src),this.videoEl.volume=this.props.currentVolume,this.videoEl.readyState>=this.videoEl.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():(this.videoEl.addEventListener("canplay",this.canPlayDfd.resolve),this.videoEl.addEventListener("canplaythrough",this.canPlayDfd.resolve)),this.canPlayDfd.done(function(){this.videoEl.currentTime=this.state.currentTime,this.props.duration!==this.videoEl.duration&&this.props.onDurationChange(this.videoEl.duration)}.bind(this)),n(this.enableCaptioning)},componentDidMount:function(){this.refs.container.appendChild(this.videoEl),this.videoEl.setAttribute("playsinline",""),this.setVolume(this.props.currentVolume),this.props.isPlaying&&this.play()},componentDidUpdate:function(a,b){var c=a.isPlaying,d=this.props.isPlaying;this.setVolume(this.props.currentVolume),c!==d&&this[this.props.isPlaying?"play":"pause"](),this.props.slideVisible===!1&&this.publishCurrentTime()},componentWillUnmount:function(){this.canPlayDfd.reject(),this.videoEl.removeEventListener("canplay",this.canPlayDfd.resolve),this.unbindVideoEventListeners(),null!=this.videoEl.parentNode&&this.videoEl.parentNode.removeChild(this.videoEl),o(this.enableCaptioning)},enableCaptioning:function(a){var b;this.videoEl.textTracks&&this.videoEl.textTracks.length>0&&(b=this.videoEl.textTracks[0],b.mode=a?"showing":"hidden")},getAssetId:function(){return this.props.assetId},getCurrentTime:function(){return this.videoEl.currentTime},isVideo:function(){return!0},onTimeUpdate:function(){var a=this.videoEl.currentTime;this.setState({currentTime:a}),h.isIosPhoneBefore10()||this.publishCurrentTime()},play:function(){if(i.isResolved(this.canPlayDfd)){var a=this.videoEl.play();this.setState({hasEverPlayed:!0}),null!=a&&a["catch"](function(a){"AbortError"===a.name&&20===a.code||l("play",a.message)})}else this.canPlayDfd.done(this.play)},pause:function(){this.videoEl.pause()},seek:function(a){this.setState({currentTime:a}),this.canPlayDfd.done(function(){this.videoEl.currentTime=a}.bind(this)),h.isIosPhoneBefore10()||this.publishCurrentTime()},ended:function(){return this.videoEl.ended},onEvent:function(a,b){null!=this[a]&&this[a](b),null!=this.props[a]&&this.props[a](p(a,b))},onEndFullScreen:function(){this.videoEl.paused&&this.props.pause()},updateVideoEventHandlers:function(a){var c={timeupdate:this.onTimeUpdateHandler,durationchange:this.onDurationChangeHandler,ended:this.onPlaybackEndedHandler,loadeddata:this.onLoadedDataHandler,webkitendfullscreen:this.onEndFullScreen};b.forOwn(c,function(b,c){this.videoEl[a?"addEventListener":"removeEventListener"](c,b)}.bind(this))},setVolume:function(a){null!=this.videoEl&&(this.videoEl.volume=a)}}),r=q.prototype;return b.extend(r,{bindVideoEventListeners:b.partial(r.updateVideoEventHandlers,!0),unbindVideoEventListeners:b.partial(r.updateVideoEventHandlers,!1)}),q}),define("templates/templates",["require","react","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","views/SvgLibrary","views/presentation/MainWindow","views/player/MobileStartOverlay","views/presentation/PopupWindow","views/presentation/SlideLockCursor","views/player/MobileDisabledOrientation","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/SubmitAllButton","views/player/CaptionBtn","polyfills/detection","views/player/PlaybackControls","views/player/SlideRelatedActions","views/player/MobileSearchButton","polyfills/detection","views/player/CaptionBtn","views/player/FullscreenBtn","views/presentation/VectorTextItem","views/player/Icon","polyfills/detection","views/presentation/VectorTextItem","helpers/svg/svgUtils","views/presentation/VectorTextItem","helpers/svg/svgUtils","views/presentation/VectorTextItem","views/presentation/DropListItem","helpers/svg/svgUtils","views/presentation/ScrollBar","polyfills/detection","views/presentation/LinearBackgroundGradient","views/presentation/SlideObject","views/player/Icon","views/player/GlossaryTerms","views/player/GlossaryDefinition","helpers/utils","views/presentation/SlideObject","helpers/utils","helpers/svg/svgUtils","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/player/MenuLinksListItem","views/player/MenuLinksList","views/player/Icon","views/presentation/SlideContainer","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","polyfills/detection","views/player/NotesHeader","views/player/NotesList","views/presentation/VectorTextItem","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/Icon","views/player/Icon","helpers/stringTabler","lodash","views/presentation/PresentationOverlay","views/player/Icon","helpers/stringTabler","helpers/stringTabler","views/player/PresenterVideo","helpers/utils","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","helpers/utils","views/presentation/SlideObject","views/presentation/VectorSlideObject","views/presentation/ScrollBar","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","views/player/MenuLinksList","views/presentation/SequenceCtrlDrop","views/presentation/SequenceCtrlDragItem","views/presentation/ScrollBar","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","views/player/TabPanel","views/player/SidebarTab","views/player/SearchFooter","views/player/Presenter","views/presentation/SlideLayer","views/presentation/SlideBackground","views/presentation/VectorSlideBackground","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/utils","polyfills/detection","helpers/windowManager","views/player/Captions","views/presentation/Slide","lodash","lodash","views/presentation/Slide","views/presentation/VectorSlideObject","views/presentation/SlideObject","views/presentation/AudioPlayer","views/presentation/SlideBackground","views/player/SlideLoaderIndicator","views/player/RelativeNavControls","views/player/RelativeNavControls","views/presentation/SlideObject","polyfills/detection","views/player/Icon","views/player/SlideControlButton","helpers/constants","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/presentation/VectorSlideObject","helpers/utils","helpers/svg/svgUtils","polyfills/detection","views/player/TopTabsItem","views/player/TabPanel","views/player/TopTabs","views/player/Timer","views/player/ElapsedAndTotalTime","views/player/Icon","views/player/Bottombar","views/player/SidebarMobile","views/player/MobileSearchButton","views/presentation/VectorBackground","lodash","views/presentation/VectorTextItem","views/presentation/VectorTextHitArea","helpers/utils","views/player/Icon","polyfills/detection","helpers/utils","views/presentation/VideoControls","views/presentation/VideoPlayer","views/player/Icon","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","polyfills/detection"],function(a){var b=a("react");return{AnnotationSlideObject:function(){var a=this.props.model,c=this.state.Innard;return b.createElement(c,{model:a,ref:"innard"})},App:function(){var c,d=a("polyfills/detection"),e=a("views/SvgLibrary"),f=a("views/player/Topbar"),g=a("views/presentation/MainWindow"),h=a("views/player/Sidebar"),i=a("views/player/SlideLoaderOverlay"),j=a("helpers/cssPrefix"),k=a("views/presentation/PopupWindow"),l=a("views/presentation/SlideLockCursor"),m=a("helpers/svg/svgUtils"),n=this.props.player.get("fontscale")+"%",o=["presentation-wrapper","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" "),p=function(a){var b;return null==a||(b=parseFloat(a,10),isNaN(b))?1:b.toFixed(2)},q=this.props.presentation.display().get("height"),r=this.props.presentation.display().get("width"),s=this.state.isTooTall,t=this.state.isTooWide,u={height:q,width:r,fontSize:n,lineHeight:n},v=[],w=this.state.scale,x=p(w),y={};return d.isMobile||(u.transformOrigin="0 0",u.top=s?0:Math.ceil(window.innerHeight/2-q*x/2),u.left=t?0:Math.ceil(window.innerWidth/2-r*x/2)),null!=w&&(c=m.transformScale(x),v.push(c),y[j.camelCase("transform")]=c),u[j.camelCase("transform")]=v.join(" "),b.createElement("div",{id:"presentation-container",className:"non-eventable"},b.createElement("div",{id:"presentation",style:u,className:o},b.createElement(e,{ref:"svgLib"}),this.props.player.get("presenters")&&b.createElement(k,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&b.createElement(h,{ref:"sidebar",model:this.props.player,width:r,height:q}),b.createElement("div",{ref:"primary",className:"area-primary cs-area-primary",style:{height:q}},this.props.presentation.get("debugMode")&&b.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&b.createElement(f,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),b.createElement(g,{ref:"mainWindow",player:this.props.player})),b.createElement("div",{id:"app-top-container"}),b.createElement("div",{id:"app-top-overlay"})),b.createElement(l,null),b.createElement("div",{id:"overlay-container-controls",style:y,className:"non-eventable"}),b.createElement("div",{id:"overlay-container",style:y,className:"non-eventable"}),b.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:[["cs-",this.props.state.currentScheme()].join(""),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),b.createElement("div",{id:"zoomimage-container"}),b.createElement("div",{id:"presentation-canvas"}),b.createElement("div",{id:"mask-library"}),b.createElement("div",{id:"collision-library"},b.createElement("canvas",null)),this.state.showLoader&&b.createElement(i,null))},AppMobile:function(){var c=a("views/SvgLibrary"),d=a("views/presentation/MainWindow"),e=a("views/player/MobileStartOverlay"),f=a("views/presentation/PopupWindow"),g=a("views/presentation/SlideLockCursor"),h=a("views/player/MobileDisabledOrientation"),i=["opaque"].join(" ");return b.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},b.createElement("div",{id:"presentation",className:i},b.createElement(d,{ref:"mainWindow",player:this.props.player,timers:this.props.presentation.timers(),hasUi:this.hasMobileUi()}),b.createElement("div",{id:"zoomimage-container"}),b.createElement("div",{id:"presentation-canvas"})),b.createElement(g,null),b.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),b.createElement("div",{id:"overlay-container",className:"non-eventable"}),b.createElement("div",{id:"overlay"}),b.createElement("div",{id:"overlay-mobile"},b.createElement(e,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),b.createElement("div",{id:"mask-library"}),b.createElement("div",{id:"collision-library"},b.createElement("canvas",null)),b.createElement(c,{ref:"svgLib"}),b.createElement("div",{id:"app-top-container"}),b.createElement("div",{id:"app-top-overlay"}),this.props.player.get("presenters")&&b.createElement(f,{presenters:this.props.player.get("presenters")}),b.createElement(h,{orientations:this.state.orientations}))},Bottombar:function(){var c=a("views/player/PlaybackControls"),d=a("views/player/VolumeControls"),e=a("views/player/SlideRelatedActions"),f=a("views/player/SubmitAllButton"),g=a("views/player/CaptionBtn"),h=a("polyfills/detection");return b.createElement("div",{className:"controls grid-row inflexible"},!h.isMobile&&b.createElement(f,{slide:this.props.slide}),this.hasVolume()&&b.createElement(d,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasCaption()&&b.createElement("div",{className:"caption-controls inflexible"},b.createElement(g,null)),this.hasSeekbar()&&b.createElement(c,{ref:"playbackControls",slide:this.props.slide,readonly:this.isReadOnly()}),b.createElement(e,{ref:"slideRelatedActions",handledSubmitAll:!0,slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},BottombarMobile:function(){var c=a("views/player/PlaybackControls"),d=a("views/player/SlideRelatedActions"),e=a("views/player/MobileSearchButton"),f=a("polyfills/detection"),g=a("views/player/CaptionBtn"),h=a("views/player/FullscreenBtn");
return b.createElement("div",{className:"slide-controls"},this.hasSeekbar()&&this.props.slide?b.createElement(c,{ref:"playbackControls",slide:this.props.slide,timeline:this.props.slide&&this.props.slide.currentTimeline(),hasCaption:this.hasCaption(),readonly:this.isReadOnly()}):b.createElement("div",{className:"playback-controls"},f.is360&&b.createElement(h,{handleFullScreen:this.handleFullScreen}),this.hasCaption()&&b.createElement("div",{className:"caption-controls inflexible"},b.createElement(g,null))),b.createElement(d,{ref:"slideRelatedActions",slide:this.props.slide,player:this.props.player,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase(),timers:this.props.timers}),this.props.hasSearch&&b.createElement(e,{toggleSearchUi:this.props.toggleSearchUi}))},ButtonSlideObject:function(){var c=a("views/presentation/VectorTextItem"),d=this.getPath("props.model.data.textdata.vectortext.pr")||{};return b.createElement("button",{type:"button","data-accepts":"events",className:this.getClassNames()},b.createElement("svg",{className:"slide-object-button-text"},b.createElement(c,{ref:"vectortext",commandsetId:d.i,pathLib:d.l})))},CaptionBtn:function(){var c=a("views/player/Icon"),d=a("polyfills/detection"),e="cs-tabs cs-selected";return d.isMobile&&(e="button-tapped"),b.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?e:""].join(" "),onClick:this.toggleCaption},b.createElement(c,{key:"Caption",type:"Caption"}),b.createElement("span",{className:"accessibility"},this.state.i18ncaption))},Captions:function(){return b.createElement("div",{className:"caption",style:{fontFamily:this.state.font}},this.state.captions.map(function(a,c){return b.createElement("div",{key:c},b.createElement("p",{dangerouslySetInnerHTML:{__html:this.toHtml(a)}}))}.bind(this)))},DragdropSlideObject:function(){var c=a("views/presentation/VectorTextItem"),d=a("helpers/svg/svgUtils"),e=this.getPath("props.model.style"),f=this.getPath("props.model.height"),g=this.getPath("props.model.width"),h=this.getPath("props.model.kind"),i=this.props.notchWidth,j=this.props.notchHeight,k=i+1,l=j+1,m=this.state.hovered&&"droparea"!==h,n=d.buildUrl(m?"dragdrop-hover-gradient":"dragdrop-gradient"),o=m?"slide-object-dragitem-hover":"",p=this.state.collision&&"droparea"===h,q="dragitem"===h,r=[["M "+k,0].join(","),["L"+g,0].join(","),["L"+g,f].join(","),["L"+k,f].join(","),["L"+k,f-l].join(","),["L 1",f-l].join(","),["L 1",l].join(","),["L"+k,l].join(","),"Z"].join(" "),s=["M 0,0",["L"+g,0].join(","),["L"+g,j].join(","),["L"+(g-i),j].join(","),["L"+(g-i),f-j].join(","),["L"+g,f-j].join(","),["L"+g,f].join(","),["L 0",f].join(","),"Z"].join(" "),t={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:""};return b.createElement("svg",{width:g,height:f,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+e,"draggable",o].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},"wordbank"===e?b.createElement("rect",{width:g-1,height:f-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:n,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:t,transform:"translate(0.5, 0.5)"}):b.createElement("path",{d:q?r:s,className:"slide-object-dragdrop-shape",fill:n,style:p?{strokeWidth:3}:{},filter:!p&&"url(#dragdrop-inner-stroke)",strokeDasharray:q&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&b.createElement("rect",{width:g-1,height:f-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),b.createElement("g",{transform:d.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},null!=this.state.textCommandsetId&&b.createElement(c,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),"matching"===e&&this.state.reviewDot&&b.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},b.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),b.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),b.createElement("text",{textAnchor:"middle",y:"4"},b.createElement("tspan",null,this.getPath("props.model.reviewdata")))))},DropListItem:function(){var c=a("views/presentation/VectorTextItem"),d=a("helpers/svg/svgUtils");return b.createElement("g",{className:"drop-list-item",transform:d.transformTranslate(0,this.props.yOff),onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.didMouseOver,onTouchEnd:_.flow(this.onClick,this.didMouseOut)},b.createElement("rect",{width:this.props.width,height:this.props.height,className:this.fillColorClass()}),b.createElement(c,{ref:"vectortext",commandsetId:this.props.pr.i,pathLib:this.props.pr.l}))},DropListSlideObject:function(){var c=a("views/presentation/VectorTextItem"),d=a("views/presentation/DropListItem"),e=a("helpers/svg/svgUtils"),f=a("views/presentation/ScrollBar"),g=a("polyfills/detection"),h=this.state.reviewWidth||this.getPath("props.model.width"),i=this.getPath("props.model.height"),j=this.state.pr,k=8,l=25,m=h-l+1,n=this.state.hovered?"#d5ffff":"white",o="#cecece",p=("item-list-clip"+this.props.model.id,i+8),q=p*this.itemslist.length,r=g.isMobile&&"none",s=-4;return b.createElement("div",{className:"drop-list"},b.createElement("div",{className:["is-scrollable","drop-list-drop-down"].join(" "),ref:"dropdown",style:{width:h,borderColor:o,display:this.state.display,borderRadius:2*k,paddingTop:i}},b.createElement("div",{className:["drop-list-drop-down-inner",this.state.dropDownScrollable].join(" "),ref:"dropdownInner",style:{display:r}},b.createElement("svg",{className:"eventable",width:h,height:q,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},b.createElement("g",null,this.itemslist.map(function(a,c){var e=this.props.model.itemsIdx[a.itemdata];return b.createElement(d,{ref:"item"+e,order:c,key:a.textdata.uniqueId,idx:e,width:h,height:p,yOff:p*c,pr:a.textdata.vectortext.pr,selected:this.focusItem})}.bind(this))))),this.state.dropDownScrollable&&!g.isIE()&&b.createElement(f,{ref:"scrollBar",offY:i,offX:s,width:h,height:this.state.scrollBarHeight-i,parent:this,closedHeight:i,refName:"dropdownInner",initSelf:!0})),b.createElement("div",{className:"drop-list-top-container"},b.createElement("svg",{width:h,height:i,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100}},b.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:_.flow(this.didMouseOver,this.onShowList),onTouchEnd:this.didMouseOut},b.createElement("rect",{width:h-1,height:i-1,rx:k,ry:k,stroke:o,fill:"white"}),b.createElement(c,{ref:"vectortext",commandsetId:j.i,pathLib:j.l}),b.createElement("path",{d:e.rightRoundedRectPath(m,1,l-3,i-3,k),fill:"url(#drop-list-gradient)",stroke:n}),b.createElement("path",{d:["M",h-l,0,"v",i-1].join(" "),stroke:"#cecece"}),b.createElement("g",{transform:e.transformTranslate(m+5.5,k+1)},b.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"}))))),g.isMobile&&b.createElement("select",{ref:"mobileDrop",className:"mobile-drop-list",style:{width:h,opacity:0}},b.createElement("option",null,"-- Select --"),this.itemslist.map(function(a,c){var d=this.props.model.itemsIdx[a.itemdata];return b.createElement("option",{key:a.textdata.uniqueId,ref:"item"+d,"data-order":c,value:d},a.textdata.altText)}.bind(this))))},ElapsedAndTotalTime:function(){return b.createElement("span",{className:"elapsed-and-total-time"},"(",this.renderTimer(),")")},ExpandingLabelSlideObject:function(){var c,d=a("views/presentation/LinearBackgroundGradient"),e=a("views/presentation/SlideObject"),f=this.shouldShowContent(),g=6;return b.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},b.createElement("svg",{className:["expanding-label-path",f?"content-shown":""].join(" "),style:{left:this.labelTranslate.offX,top:this.labelTranslate.offY,width:this.labelSize.width,height:this.labelSize.height}},this.props.model.background()&&b.createElement("defs",null,b.createElement(d,{patternFillId:this.patternFillId(),model:this.props.model,isInnard:!0})),b.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},b.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),b.createElement("div",{className:"expanding-label",style:{width:this.props.playerProps.width}},b.createElement("div",{className:"expanding-label-content",style:this.getContentStyles()},this.svg(),b.createElement("div",{className:f?"shown":"hidden"},this.props.model.objects().map(function(a,d){return c={ref:"obj"+d,key:a.cid,model:a,playerProps:this.props.playerProps,parent:this,checkElso:this.props.checkElso,slideVisible:this.props.slideVisible,onElsoAction:this.props.onElsoAction},a.isKind("scrollarea")&&(c.topOffset=g),b.createElement(e,b.__spread({},c))}.bind(this))))))},FullscreenBtn:function(){var c=a("views/player/Icon");return b.createElement("button",{className:"cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchStart:this.props.handleFullScreen},b.createElement("span",{className:"enterFullScreen-360"},b.createElement(c,{type:"enterFullScreen"})),b.createElement("span",{className:"exitFullScreen-360"},b.createElement(c,{type:"exitFullScreen"})))},Glossary:function(){var c=a("views/player/GlossaryTerms"),d=a("views/player/GlossaryDefinition");return b.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},b.createElement("section",{className:"panel-section"},b.createElement("header",{className:"panel-section-header"},b.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nterms),b.createElement("hr",{className:"cs-diva diva"})),b.createElement(c,{collection:this.props.collection,onTermChosen:this.revealTerm,curTitle:this.state.curTitle,ref:"glossaryTerms"})),b.createElement("section",{className:"panel-section cs-editor"},b.createElement("header",{className:"panel-section-header"},b.createElement("hr",{className:"cs-divb divb"}),b.createElement("hr",{className:"cs-divc divc"}),b.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18ndefinition),b.createElement("hr",{className:"cs-diva diva"})),b.createElement(d,{curTitle:this.state.curTitle,curDefinition:this.state.curDefinition,ref:"glossaryDefinition"})))},GlossaryDefinition:function(){return b.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),id:"glossary-definition",style:{outlineOffset:"-3px"},tabIndex:"-1"},b.createElement("dl",{className:"unstyled"},b.createElement("dt",{className:"term-word hidden"},this.props.curTitle),b.createElement("dd",{className:"term-definition html-reset cs-editor-html"},this.props.curDefinition.split(/\n/).map(function(a,c){return b.createElement("p",{key:c},a)}))))},GlossaryMobile:function(){var c=a("helpers/utils");return b.createElement("div",{className:"glossary"},b.createElement("header",{className:"panel-header panel-section-header"},b.createElement("h4",{className:"panel-section-heading"},this.state.i18nterms)),b.createElement("div",{className:"panel-section-content",role:"complementary"},b.createElement("dl",null,this.props.collection.map(function(a,d){return b.createElement("div",{key:d},b.createElement("dt",null,a.get("title")),b.createElement("dd",{dangerouslySetInnerHTML:{__html:c.stripTags(a.get("content"))}}))}.bind(this)))))},GlossaryTerms:function(){return b.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},b.createElement("ul",{className:"choice-list"},this.props.collection.map(function(a,c){var d=this.props.curTitle===a.get("title");return b.createElement("li",{className:"term cs-term "+(d?"cs-selected active":""),key:c},b.createElement("button",{className:"choice-list-trigger cs-choice-list-trigger list-item",onClick:this.termChosen.bind(this,c)},a.get("title")))}.bind(this))))},GroupingSlideObject:function(){var c=a("views/presentation/SlideObject");return b.createElement("div",{className:"group"},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:a.cid,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,model:a,parent:this,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction})}.bind(this)))},ImageSlideObject:function(){var c=a("helpers/utils"),d=a("helpers/svg/svgUtils"),e=this.props.model.get("xOffset"),f=this.props.model.get("yOffset"),g={width:this.props.playerProps.width,height:this.props.playerProps.height},h={left:this.props.model.get("btnxpos"),top:this.props.model.get("btnypos")};return h[this.cssTransform]=["translate(-50%, -50%)",d.transformTranslate(c.pxify(-e),c.pxify(-f)),d.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),b.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:d.transformTranslate(c.pxify(e),c.pxify(f))}},this.props.model.isZoomable()?b.createElement("div",null,b.createElement("img",{src:this.imageUrl,onClick:this.onClick}),b.createElement("div",{ref:"zoom",className:"zoom eventable",style:g,onClick:this.onClick},b.createElement("img",{className:"zoom-image",style:h,src:this.props.model.get("zoomiconurl")}))):b.createElement("img",{src:this.imageUrl}))},LightBox:function(){var c=a("views/presentation/PresentationOverlay"),d=a("views/presentation/SlideContainer"),e=a("views/player/CaptionBtn"),f=a("views/player/SlideRelatedActions"),g=a("views/player/Icon"),h={};return this.props.hasControls?h.position="absolute":(h.marginTop="7px",h["float"]="right",h.marginBottom="7px"),b.createElement("span",null,b.createElement(c,null),b.createElement("div",{className:["cs-",this.getPath("props.state.currentScheme")," lightbox-wrapper"].join("")},b.createElement("div",{className:["cs-base","lightbox","wn-"+this.props.model.id,"cs-"+this.getPath("props.state.currentScheme")].join(" "),style:{width:this.props.model.get("width")},"data-window-id":this.props.model.id},b.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},b.createElement(g,{type:"close"})),b.createElement("div",{className:"slide-wrapper",style:{height:this.slideWrapperHeight}},b.createElement(d,{ref:"slideContainer",lightboxed:!0,lightbox:this,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id})),(this.props.hasControls||this.hasCaption())&&b.createElement("div",{className:"controls"},this.hasCaption()&&b.createElement("div",{className:"caption-controls inflexible",style:h},b.createElement(e,null)),this.props.hasControls&&b.createElement(f,{ref:"actions",slide:this.state.currentSlide,windowId:this.props.model.id,lightboxed:!0,isRtl:this.props.isRtl})))))},LightBoxMobile:function(){var c=a("views/presentation/PresentationOverlay"),d=a("views/presentation/SlideContainer"),e=a("views/player/CaptionBtn"),f=a("views/player/SlideRelatedActions"),g=a("views/player/Icon");return b.createElement("div",{className:"mobile-lightbox"},b.createElement(c,null),b.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},b.createElement(d,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),b.createElement("div",{ref:"optionPane",className:"option-pane"},b.createElement("div",{className:"slide-controls"},b.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},b.createElement("span",{className:"btn-icon"},b.createElement(g,{type:"close"}))),this.hasCaption()&&b.createElement("div",{className:"caption-controls inflexible"},b.createElement(e,null)),this.props.hasControls&&b.createElement(f,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),b.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},b.createElement(g,{type:"close"})))},LinearBackgroundGradient:function(){return b.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.fill().rotation," 0.5 0.5)"].join("")},this.fill().colors.map(function(a,c){return b.createElement("stop",b.__spread({key:c,offset:this.stopPct(a)+"%"},this.stopProps(a)))}.bind(this)))},MainWindow:function(){var c=a("views/presentation/SlideContainer"),d=a("views/player/Bottombar"),e=a("views/presentation/SlideWindowBackground"),f=this.getBackground();return b.createElement("div",{id:"main-window"},b.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=f&&b.createElement(e,{bg:f}),b.createElement(c,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),this.state.currentSlide&&this.hasBottomBar()&&b.createElement(d,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowMobile:function(){var c=a("views/presentation/SlideContainer"),d=a("views/player/Captions"),e=a("views/player/UiMobile");return b.createElement("div",{ref:"primary",id:"main-window"},b.createElement(c,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),b.createElement(d,null),this.props.hasUi&&b.createElement(e,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers}))},Menu:function(){var c=a("views/player/SearchOptions"),d=a("views/player/SearchResults"),e=a("views/player/SearchFooter"),f=a("polyfills/detection"),g=this.props.options.get("wrapListItems"),h=this.props.options.get("autonumber"),i=this.props.options.get("enableResultsIcons");return b.createElement("div",{className:"outline-panel cs-outline"},f.isMobile&&b.createElement("div",{className:"mobile-menu-title"},this.props.title),b.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&b.createElement(c,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),b.createElement(d,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:g,autonumber:h,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,enableResultsIcons:i,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})),!f.isMobile&&this.props.hasSearch&&b.createElement(e,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}))},MenuLinksList:function(){var c=a("views/player/MenuLinksListItem");return b.createElement("ol",{"aria-expanded":this.props.showChildren?"true":"false",className:"outline-list",role:this.getAriaRole()},this.props.links.map(function(a,d){return b.createElement(c,{link:a,key:d,ref:"menuLinksListItem"+d,shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,hasAnyLink:this.props.hasAnyLink,wrap:this.props.wrap,enableResultsIcons:this.props.enableResultsIcons,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level,parentItem:this})}.bind(this)))},MenuLinksListItem:function(){var c,d=a("views/player/MenuLinksList"),e=a("views/player/Icon"),f=this.props.link.get("slideid"),g=this.props.link.get("slidetitle"),h=this.props.link.get("displaytext");return g=null==g?"":g,h=null==h?"":h,c=this.props.showDisplayText||!g?h.toString():g.toString(),propsIsActionLink={},this.isActionLink()&&(propsIsActionLink["data-actionlink"]=""),b.createElement("li",{className:[this.state.expanded===!1?"outline-links-collapse":"",this.props.link.links().length>0?"item-collapsible":"",this.props.wrap===!0?"wrap-item":"",this.state.itemRestricted===!0?"outline-links-restriced":"","menu-item-status-"+this.isSlideCorrect(f),"slide-lockable"].join(" "),role:"presentation"},b.createElement("a",b.__spread({className:["cs-listitem list-item",this.isSlideSelected(f)?"cs-selected menu-item-selected":"",this.isSlideViewedOrCurrentParent(f)?"cs-viewed":"",this.state.touched?"touched-link":""].join(" "),href:this.linkSlide(f),onTouchStart:this.onSelectMenuItem,onTouchEnd:this.onTouchEnd,onMouseDown:this.previewMouseEvent(this.onSelectMenuItem),onMouseUp:this.previewMouseEvent(this.onTouchEnd),onClick:this.props.onClick,title:this.props.wrap===!1&&this.props.tips===!0?(this.props.autonumber?this.getAutoNumber():"")+c:"",role:"treeitem"},propsIsActionLink),this.props.showChildren&&this.props.link.links().length>0&&b.createElement("span",{className:"svg-icon-wrapper icon-carrot",onClick:this.toggle},b.createElement(e,{type:"carrot"})),b.createElement("span",null,c)),this.props.showChildren&&this.props.link.links().length>0&&b.createElement(d,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,links:this.props.link.links(),onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level+1,parentItem:this}))},MessageWindow:function(){var c=a("views/presentation/SlideContainer"),d=a("polyfills/detection");return b.createElement("span",null,b.createElement("div",{className:"overlay overlay-message"}),b.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:this.getPath("props.model.width"),height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},b.createElement("header",{className:"message-window-header"},b.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),b.createElement("hr",{className:"cs-diva"}),b.createElement("hr",{className:"cs-divb"})),b.createElement(c,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"}),d.isMobile&&b.createElement("div",{className:"message-window-mobile-text"},this.state.mobileText)))},MobileDisabledOrientation:function(){var c=a("views/player/Icon"),d=a("polyfills/detection"),e=["mobile-disabled-orientation-overlay",_.contains(this.props.orientations.tablet,"portrait")?"tablet-portrait":"",_.contains(this.props.orientations.tablet,"landscape")?"tablet-landscape":"",_.contains(this.props.orientations.phone,"portrait")?"phone-portrait":"",_.contains(this.props.orientations.phone,"landscape")?"phone-landscape":"",!d.isMobilePreview&&window.self!==window.top||this.state.forceHide?"hidden":""];return b.createElement("div",{className:e.join(" ")},b.createElement("div",{className:"mobile-disabled-orientation-overlay-inner"},b.createElement("div",{className:"mobile-disabled-orientation-overlay-icon"},b.createElement(c,{type:"DisabledOrientation"})),b.createElement("div",null,this.state.i18ndisabled_orientation)))},MobileSearchButton:function(){var c=a("views/player/Icon");return b.createElement("div",{className:"mobile-search-button"},b.createElement("button",{onTouchEnd:this.props.toggleSearchUi,onMouseUp:this.previewMouseEvent(this.props.toggleSearchUi)},b.createElement(c,{key:"Search",type:"Search"})))},MobileStartOverlay:function(){var c=a("polyfills/detection");return b.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},b.createElement("svg",{ref:"playIcon",viewBox:"-10 -10 80 80",onMouseDown:this.previewMouseEvent(this.onStart)},c.is360&&b.createElement("circle",{fill:"white",cx:"32",cy:"32",r:"11"}),b.createElement("path",{transform:c.is360&&c.isIOS?"translate(15, 15) scale(0.5)":"",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})))},Notes:function(){var c=a("views/player/NotesHeader"),d=a("views/player/NotesList");return b.createElement("div",{className:"cs-transcript transcript"},b.createElement("header",{className:"panel-header panel-section-header"},b.createElement(c,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),b.createElement("hr",{className:"cs-div panel-relative-hr"})),b.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",role:"complementary"},b.createElement(d,{ref:"notesList",commandsetId:this.state.commandsetId,pathLib:this.state.pathLib,notesHtml:null==this.state.commandsetId?this.getNotesHtml():""})))},NotesHeader:function(){return b.createElement("h4",{className:"panel-heading panel-section-heading cs-heading"+(this.state.tabFocused?" focused":"")},this.props.currentSlideTitle)},NotesList:function(){var c=a("views/presentation/VectorTextItem"),d=null!=this.props.commandsetId;return b.createElement("p",{className:"cs-editor-html editor-html"+(this.state.tabFocused?" focused":""),style:{marginLeft:d&&-9}},d?b.createElement("svg",{ref:"svgNotes",className:"svg-notes"},b.createElement(c,{ref:"vectortext",commandsetId:this.props.commandsetId,pathLib:this.props.pathLib})):b.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.notesHtml}}))},ObjectSlideBackground:function(){return b.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},b.createElement("use",{xlinkHref:"#slide-bg-"+this.getSlideId()}))},PlaceHolderSlideObject:function(){return b.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())},PlayPauseButton:function(){var c=a("views/player/Icon"),d=a("helpers/svg/svgUtils"),e=a("polyfills/detection"),f=this.state.isPlaying?"pause":"play";return b.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.stateable_pauseplay?"":"hidden ")+(this.state.tabFocused?"focused":""),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},e.isMobile&&b.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:this.state.showCircleProgress?"block":""}},b.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),b.createElement("path",{d:d.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:"white",stroke:"none"}),b.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"#31373a",stroke:"none"})),b.createElement(c,{key:f,type:f}),b.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControls:function(){var c=a("views/player/PlayPauseButton"),d=a("views/player/PlaybackProgress"),e=a("views/player/PlaybackResetButton");return b.createElement("div",{className:"controls-group control-bar cs-seekcontrol progress-control"},b.createElement("div",{className:"grid-row"},b.createElement(c,{ref:"playPauseButton",timeline:this.state.timeline}),b.createElement(d,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),b.createElement(e,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackControlsMobile:function(){var c=a("views/player/PlayPauseButton"),d=a("views/player/PlaybackProgress"),e=(a("views/player/PlaybackResetButton"),a("views/player/CaptionBtn")),f=a("polyfills/detection"),g=a("views/player/FullscreenBtn");return b.createElement("div",{className:"playback-controls"},b.createElement(c,{ref:"playPauseButton",timeline:this.state.timeline}),b.createElement(d,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),f.is360&&b.createElement(g,{handleFullScreen:this.handleFullScreen}),this.props.hasCaption&&b.createElement("div",{className:"caption-controls inflexible"},b.createElement(e,null)))},PlaybackProgress:function(){var a=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile":""].join(" ");return b.createElement("div",{className:a},b.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},b.createElement("div",{className:"cs-seek progress-bar-seek"},b.createElement("div",{className:"cs-fill progress-bar-fill",style:{width:100*this.state.progress+"%"}})),b.createElement("input",{type:"range",min:"0",max:"1",ref:"input",onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},PlaybackResetButton:function(){var c=a("views/player/Icon"),d="cs-button btn-unstyled force-unstyled inflexible "+(this.state.stateable_replay?"":"hidden ")+(this.state.tabFocused?"focused":"");return b.createElement("button",{className:d,onClick:this.resetPlayhead},b.createElement(c,{type:"playbackReset"}),b.createElement("span",{className:"accessibility"},this.state.i18nacc_replay))},PopupWindow:function(){var c=a("views/player/Icon"),d=a("helpers/stringTabler"),e={zIndex:100},f={height:"171px",overflowY:"auto"};return b.createElement("div",{className:"popup"+(this.state.show?" show":""),style:e},b.createElement("div",{className:"message-window popup-pane cs-infopanelpopup"},b.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled lightbox-close-btn--large",onClick:this.closePopup},b.createElement(c,{type:"close"})),b.createElement("p",{style:f},b.createElement("strong",{className:"cs-name"},this.state.presenter.name),b.createElement("em",{className:"cs-name cs-title"},this.state.presenter.title),b.createElement("span",{className:"cs-bio popup-bio"},this.state.presenter.biotext)),this.hasEmail()&&b.createElement("a",{href:"#",className:"popup-send-email cs-link",onClick:this.sendEmail},d.getString("send_an_email")),b.createElement("a",{href:"#",className:"popup-close cs-link",onClick:this.closePopup},d.getString("close"))))},PopupWindowMobile:function(){var c=a("lodash"),d=a("views/presentation/PresentationOverlay"),e=a("views/player/Icon"),f=a("helpers/stringTabler"),g=this.state.presenter,h=g.name,i=g.title,j=!c.isEmpty(i),k=g.biotext,l=!c.isEmpty(k),m=g.mobilephoto,n=!c.isEmpty(m),o=g.email,p=!c.isEmpty(o),q=["popup"],r=["popup-pane"];
return this.state.show&&q.push("show"),n&&r.push("with-photo"),p&&r.push("with-email"),b.createElement("div",{className:q.join(" ")},b.createElement(d,null),b.createElement("button",{ref:"close",className:"popup-close-btn btn-unstyled",onClick:this.closePopup},b.createElement(e,{type:"close"})),b.createElement("div",{className:"popup-panel-scroller is-scrollable"},b.createElement("div",{className:"popup-panel-container"},b.createElement("div",{className:r.join(" ")},b.createElement("div",{className:"popup-name"},h),j&&b.createElement("div",{className:"popup-title"},i),l&&b.createElement("div",{className:"popup-bio"},k),n&&b.createElement("div",{className:"popup-photo",role:"img",style:{backgroundImage:['url("',m,'")'].join("")},"aria-label":h}),p&&b.createElement("div",{className:"popup-email",role:"link","aria-label":f.getString("send_an_email"),onClick:this.sendEmail},b.createElement(e,{type:"email"}))))))},PresentationOverlay:function(){return b.createElement("div",{className:["overlay",this.displayClass(),this.props.className||""].join(" ")})},Presenter:function(){var c=a("helpers/stringTabler"),d=a("views/player/PresenterVideo"),e=a("helpers/utils");return b.createElement("div",{className:"presenter inflexible cs-infopanel"},this.props.video&&b.createElement(d,{video:this.props.video}),this.props.presenter&&b.createElement("div",{className:"presenter-info"},this.props.presenter.mobilephoto&&!this.props.video&&b.createElement("div",{className:"mobile-photo"},b.createElement("img",{src:this.props.presenter.mobilephoto,alt:this.props.presenter.name})),b.createElement("div",{className:"presenter-info-wrapper"},b.createElement("div",{ref:"name",className:"presenter-name cs-name"+(this.props.presenter.name?"":" hidden"),tabIndex:"-1"},this.props.presenter.name),b.createElement("div",{ref:"title",className:"presenter-title cs-title"+(this.props.presenter.title?"":" hidden"),tabIndex:"-1"},e.ellipsize(this.props.presenter.title,44)),b.createElement("div",{ref:"link",className:"presenter-link"+(this.props.presenter.email||this.props.presenter.bio?"":" hidden"),tabIndex:"-1"},this.hasBothEmailAndBioText()&&b.createElement("span",{className:"cs-link",onClick:this.moreInfo},c.getString("more_info")),this.hasOnlyEmail()&&b.createElement("span",{className:"cs-link",onClick:this.onEmailLinkClicked.bind(this,this.props.presenter.email)},c.getString("send_an_email")),this.hasOnlyBioText()&&b.createElement("span",{className:"cs-link",onClick:this.moreInfo},c.getString("bio"))))))},PresenterMobile:function(){return b.createElement("li",{role:"tab",className:"tab"},b.createElement("button",{onClick:this.moreInfo},"Presenter Bio")," ")},PresenterVideo:function(){return b.createElement("div",{className:"video-container",ref:"videoContainer"})},RelativeNavControls:function(){var c=a("lodash"),d=a("views/player/Icon"),e=a("views/player/Timer"),f=a("views/player/SlideControlButton"),g=a("views/player/SubmitAllButton"),h=a("polyfills/detection"),i=this.getPath("props.timers"),j=c.pick(this.props,["slide","windowId"]);return b.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},b.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&b.createElement(f,b.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},j),b.createElement("span",{className:"btn-icon"},b.createElement(d,{type:this.props.isRtl?"next":"prev"})),b.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&b.createElement(f,b.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},j),b.createElement("span",{className:"text"},this.state.i18nnext),b.createElement("span",{className:"btn-icon"},b.createElement(d,{type:this.props.isRtl?"prev":"next"}))),b.createElement(f,b.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},j),h.isMobile&&b.createElement("span",{className:"btn-icon"},b.createElement(d,{type:"check"})),b.createElement("span",{className:"text"},this.state.i18nsubmit)),b.createElement(f,b.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},j),h.isMobile&&b.createElement("span",{className:"btn-icon"},b.createElement(d,{type:"check"})),b.createElement("span",{className:"text"},this.state.i18nfinish)),(h.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&b.createElement(g,b.__spread({},j)),h.isMobile&&null!=i&&i.map(function(a,c){return b.createElement(e,{ref:"timer"+c,key:c,model:a,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},Resources:function(){var c=(a("helpers/utils"),a("views/player/ResourcesHeader")),d=a("views/player/ResourcesList");return b.createElement("div",{className:"cs-resource resources"},b.createElement("header",{className:"panel-header panel-section-header html-reset"},b.createElement(c,{description:this.props.model.get("description"),ref:"resourcesHeader"}),b.createElement("hr",{className:"cs-separator panel-relative-hr"})),b.createElement("div",{className:"panel-content"},b.createElement(d,{resources:this.props.model.resources(),ref:"resourcesList"})))},ResourcesHeader:function(){var c=a("helpers/utils");return b.createElement("h4",{className:"panel-section-heading"+(this.state.tabFocused?" focused":""),dangerouslySetInnerHTML:{__html:c.stripTagsMobile(this.props.description)||""},tabIndex:"0"})},ResourcesList:function(){return b.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(a,c){return b.createElement("li",{className:"resource",key:c,role:"presentation"},b.createElement("a",{href:a.get("url"),className:"cs-listitem list-item",target:"_blank",role:"link","aria-label":a.get("title"),onClick:this.onClickResource.bind(this,a)},b.createElement("img",{className:"resources-icon",src:a.get("image"),alt:a.get("title")}),b.createElement("span",null,a.get("title"))))}.bind(this)))},ScrollAreaSlideObject:function(){var c=a("views/presentation/SlideObject"),d=a("views/presentation/VectorSlideObject"),e=a("views/presentation/ScrollBar"),f=a("polyfills/detection"),g=this.props.topOffset||0;return b.createElement("div",{className:"scrollarea",style:{width:this.width()-(f.isMobile?10:0),height:this.height(),top:g+"px"}},this.hasVectorBackground()&&b.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},b.createElement(d,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,className:"scrollarea-background-svg",isInnard:!0})),this.hasImageBackground()&&b.createElement("div",{className:"scrollarea-background"},b.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),b.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":"is-scrollable"),"data-accepts":"events",ref:"scrollArea",style:{width:this.width(),height:this.height()-g}},b.createElement("div",{ref:"contentArea",style:{height:this.state.contentHeight,width:this.width(),position:"absolute"}},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:a.cid,model:a,onBeforeScrollFocus:this.beforeChildScrollFocus,onScrollFocus:this.childScrollFocus,slideVisible:this.props.slideVisible,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,parent:this})}.bind(this)))),!this.state.shouldNotScroll&&!f.isIE()&&b.createElement(e,{ref:"scrollBar",width:this.width(),height:this.height()-g,parent:this}))},ScrollBar:function(){var a=10;return b.createElement("div",{className:"scrollarea-scrollbar",ref:"scrollBar",style:{top:this.props.offY||0,left:(this.props.offX||0)+this.props.width-3*a,height:this.props.height},onMouseDown:this.onAutoScroll,onTouchStart:this.onAutoScroll},b.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},SearchFooter:function(){var c=a("views/player/Icon"),d=a("polyfills/detection");return b.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},b.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},b.createElement("button",{onClick:this.clearSearch,className:"btn cs-button btn-stretch "+(this.state.clearFocus?"focused":""),ref:"searchClear"},b.createElement(c,{type:"clear"})," ",this.state.i18nsearch_clear)),b.createElement("hr",{className:"cs-diva diva"}),b.createElement("hr",{className:"cs-divb divb"}),b.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},d.isMobile&&b.createElement("div",{className:"mobile-search-icon"},b.createElement(c,{key:"Search",type:"Search"})),b.createElement("input",{className:["cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"}),b.createElement("button",{onClick:this.search,className:["cs-button btn-unstyled inflexible",this.state.submitFocus?"focused":""].join(" "),ref:"searchSubmit"},b.createElement(c,{type:"search"}),b.createElement("span",{className:"accessibility"},this.state.i18nacc_search_input))))},SearchOptions:function(){var c=a("views/player/Icon"),d=["panel-header","panel-section-header","panel-section-search",this.props.visible?"":"hidden"].join(" "),e=["search-options",this.state.searchOptionsVisible?"visible":""].join(" ");return b.createElement("header",{className:d},b.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nsearch_results),b.createElement("button",{ref:"btnFilter",onClick:this.toggleSearchOptions,className:["btn-unstyled search-filter cs-search-filter",this.state.btnFilterFocus?"focused":""].join(" ")},this.state.i18nfilter," ",b.createElement(c,{type:"gear"})),b.createElement("hr",{className:"cs-divb divb"}),b.createElement("div",{className:e},b.createElement("p",null,this.state.i18nsearch_in),b.createElement("label",{className:this.state.cbNotesFocus?"focused":""},b.createElement("input",{ref:"cbNotes",type:"checkbox",checked:this.state.notes,onChange:this.handleChangeNotes,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_notes),b.createElement("label",{className:this.state.cbTextFocus?"focused":""},b.createElement("input",{ref:"cbText",type:"checkbox",checked:this.state.text,onChange:this.handleChangeText,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_text),b.createElement("hr",{className:"cs-divb divb"})))},SearchResults:function(){var c=a("views/player/MenuLinksList");return b.createElement("div",{className:"panel-content panel-content-menu"+(this.state.tabFocused?" focused":""),style:{flex:"1",outlineOffset:"-3px"}},b.createElement("div",{className:["outline",this.props.autonumber===!0?"nested-numbering":"",this.props.wrap===!0?"wrap-list":""].join(" "),onClick:this.props.checkFlow},b.createElement(c,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:!this.props.isSearchActive,showDisplayText:!this.props.isSearchActive,collapsible:this.props.collapsible,visitedSlides:this.props.visitedSlides,wrap:this.props.wrap,enableResultsIcons:this.props.enableResultsIcons,hasAnyLink:this.props.hasAnyLink,tips:this.props.tips,autonumber:this.props.autonumber,links:this.props.links,onClick:this.onClickMenuItem,onSelectMenuItem:this.props.onSelectMenuItem})))},SequenceCtrlDrop:function(){var a=this.props.numWidth,c=16,d=c/2,e=this.props.height,f=this.props.width;return b.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff,width:f+a,height:e}},b.createElement("div",{className:"sequence-ctrl-num",style:{width:a,height:e,lineHeight:e+"px",color:this.state.reviewColor}},this.state.reviewIdx+1+"."),b.createElement("div",{className:"sequence-ctrl-hit",style:{width:f,height:e}}),b.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:f,left:a,top:-d,display:this.state.topBar?"block":"none"}}),b.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:{top:e,width:f,left:a,top:e+d,display:this.state.bottomBar?"block":"none"}}))},SequenceCtrlSlideObject:function(){var c=a("views/presentation/SequenceCtrlDrop"),d=a("views/presentation/SequenceCtrlDragItem"),e=a("views/presentation/ScrollBar"),f=a("polyfills/detection"),g=4,h=3,i=4,j=this.getPath("props.model.width"),k=this.getPath("props.model.height"),l={width:j+g,height:k,marginLeft:i,overflow:"hidden"},m=16,n=2*h+_.sum(this.state.itemslist,function(a){return a.textdata.height+m}),o=0,p=m/2+h;return b.createElement("div",{className:"sequence-ctrl",style:l},b.createElement("div",{className:"sequence-ctrl-scroll-area is-scrollable",ref:"scrollArea",style:l},b.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(a,d){var e=a.textdata.height;return o=p,p=o+e+m,b.createElement(c,{ref:"item"+d,parent:this,key:a.textdata.uniqueId,idx:d,width:a.textdata.width,height:a.textdata.height,numWidth:this.numWidth,yOff:o,pr:a.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(a,c){var e=(a.textdata.height,{style:"wordbank",width:j-(this.numWidth+18+g),height:a.textdata.height,kind:"dragitem",xOff:a.textdata.xPos,yOff:a.textdata.yPos,itemdata:a.itemdata,idx:c,data:{textdata:a.textdata}});return b.createElement("div",{className:"sequence-ctrl-drag-container",key:c,ref:"sequenceItemContainer"+c,style:{position:"absolute"}},b.createElement(d,{ref:"sequenceItem"+c,key:a.textdata.uniqueId,idx:c,parent:this,model:e}))}.bind(this)),b.createElement("div",{style:{width:1,height:1,top:n,position:"absolute",visibility:"hidden"}}))),this.state.shouldScroll&&!f.isIE()&&b.createElement(e,{ref:"scrollBar",width:j-g,height:k,parent:this,initSelf:!0}))},Sidebar:function(){var c=a("views/player/TabPanel"),d=a("views/player/SidebarTab"),e=a("views/player/Presenter"),f="area-secondary cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden");return b.createElement("div",{className:f,style:{height:this.props.height}},b.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&b.createElement("div",{className:"logo inflexible cs-logo"},b.createElement("img",{src:this.logoUrl(),alt:"logo"})),(this.hasPresenter()||this.hasVideo())&&b.createElement(e,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),b.createElement("div",{className:"tabs-wrap grid-col"},b.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(a,c){return b.createElement(d,{ref:"sidebarTab"+c,config:a,key:c,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this))),this.state.tabs.map(function(a,d){return b.createElement(c,{config:a,key:d,ref:"sidebarPanel"+d,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)))))},SidebarMobile:function(){var c=a("views/player/Icon"),d=a("views/player/TabPanel"),e=a("views/player/SidebarTab"),f=a("views/player/SearchFooter"),g=a("views/player/Presenter"),h=this.getPath("props.model.controlOptions.controls.search");return b.createElement("div",{className:"content-nav"},b.createElement("div",{className:"content-bg"}),b.createElement("nav",{className:"content-menu is-scrollable"},b.createElement("ul",{className:"content-menu-options",role:"tablist"},b.createElement("li",{role:"tab",className:"tab menu-close"},b.createElement("button",{ref:"close",onClick:this.props.toggleMenu},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"menu"})),b.createElement("span",{className:"text"},"Menu"))),(this.hasPresenter()||this.hasVideo())&&b.createElement(g,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),this.state.tabs.map(function(a,c){return b.createElement(e,{ref:"sidebarTab"+c,config:a,key:c,tabChanged:this.props.tabChanged,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)))),b.createElement("div",{className:"content-tabs"},b.createElement("button",{ref:"close",className:"tab-close",onTouchStart:this.props.closeTab,onMouseDown:this.props.closeTab},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"close"})),b.createElement("span",{className:"text"},"Close")),h&&b.createElement(f,{ref:"searchFooter",showClearButton:!1,addFocusObjects:function(){},onSearch:this.onSearch,onClearSearch:function(){}}),this.state.tabs.map(function(a,c){return b.createElement(d,{config:a,key:c,ref:"sidebarPanel"+c,panelClass:"panel panel-"+a.name,model:this.props.model,closeTab:this.props.closeTab,activeTab:this.state.activeTab})}.bind(this))))},SidebarTab:function(){var a=this.props.activeTab===this.props.config,c=["tab","cs-tabs",this.props.config.isLive?"":"hidden",a?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return b.createElement("li",{className:c,role:"button",tabIndex:"-1"},b.createElement("button",{className:"tabs-trigger cs-inner-button",id:"tab-"+this.props.config.name,onClick:this.activate,ref:"button"},this.state.i18ntitle))},SidebarTabMobile:function(){var a=["tab",this.props.config.name,this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return b.createElement("li",{role:"tab",className:a},b.createElement("button",{className:"tabs-trigger",onClick:this.activate},this.state.i18ntitle))},Slide:function(){var c,d=a("views/presentation/SlideLayer"),e=a("views/presentation/SlideBackground"),f=a("views/presentation/VectorSlideBackground"),g=this.props.model,h=this.props.model.get("width"),i=this.props.model.get("height"),j=this.getPath("props.model.background.type"),k=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),l={zIndex:this.state.transitionDepth,width:h,height:i},m=this.props.slideFrame;return null!=m&&(c=m.props.model,l.top=Math.max(0,(c.get("height")-g.get("height"))/2),l.left=Math.max(0,(c.get("width")-g.get("width"))/2)),b.createElement("div",{className:k,"data-rollout-highest-node":"true",style:l,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},!!j&&"vector"===j&&b.createElement(f,{ref:"bg",model:this.props.model}),!!j&&"vector"!==j&&b.createElement(e,{ref:"bg",model:this.props.model}),b.createElement("div",{className:"zoom-bg-container"}),this.getPath("props.model.slideLayers").map(function(a,c){return b.createElement(d,{ref:"layer"+c,key:a.cid,model:a,zoe:123,slideFrame:this.props.slideFrame,width:h,height:i})}.bind(this)),b.createElement("div",{className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}))},SlideBackground:function(){var c=a("views/presentation/LinearBackgroundGradient");return b.createElement("svg",{width:this.props.model.get("width"),height:this.props.model.get("height")},b.createElement("defs",null,"fill"===this.props.model.background().type?b.createElement(c,{patternFillId:this.patternFillId(),model:this.props.model}):b.createElement("pattern",{id:this.patternFillId(),width:this.props.model.get("width"),height:this.props.model.get("height"),patternUnits:"userSpaceOnUse"},b.createElement("image",{width:this.props.model.get("width"),height:this.props.model.get("height"),xlinkHref:this.props.model.backgroundImageUrl()}))),b.createElement("rect",{id:"slide-bg-"+this.props.model.get("id"),width:this.props.model.get("width"),height:this.props.model.get("height"),fill:["url(#",this.patternFillId(),")"].join("")}))},SlideContainer:function(){var c,d=a("helpers/svg/svgUtils"),e=a("helpers/utils"),f=a("polyfills/detection"),g=(a("helpers/windowManager"),a("views/player/Captions")),h=a("views/presentation/Slide"),i={overflow:this.state.overflowHide?"hidden":"visible"},j=this.props.scale>0?this.props.scale:1,k=e.pxify(this.state.xOff||0),l=e.pxify(this.state.yOff||0),m={};return this.state.scale&&(j=this.state.scale,c=Math.max(1,1/j),m[this.cssTransform]=["translate(-50%, -50%)",d.transformScale(c,c)].join(" ")),i[this.cssTransform]=[d.transformTranslate(k,l),d.transformScale(j,j)].join(" "),null!=this.state.origin&&(i[this.cssTransformOrigin]=this.state.origin),this.props.currentSlide&&(i.width=this.props.currentSlide.get("width"),i.height=this.props.currentSlide.get("height")),b.createElement("div",{style:i,className:"slide-container"},this.state.slides.map(function(a){return b.createElement("div",{key:a.id,className:"slide-transition-container"},b.createElement(h,{ref:a.id,model:a,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,a),slideContainer:this}))}.bind(this)),f.isMobile&&b.createElement("div",{className:"swipe-transition-container"}),!f.isMobile&&b.createElement(g,{lightboxed:this.props.lightboxed}),f.isMobile&&this.props.currentSlide&&!this.props.isMessageWindow&&!this.firstLoad&&b.createElement("div",{className:"load-container",style:this.state.loadContainerStyleAttr},b.createElement("div",{className:"slide-loader",style:m},b.createElement("div",{className:"mobile-loader-dot dot1"}),b.createElement("div",{className:"mobile-loader-dot dot2"}),b.createElement("div",{className:"mobile-loader-dot dot3"}))))},SlideControlButton:function(){var c=a("lodash"),d=["btn","cs-button","inflexible",this.disabled()?"cs-disabled":"","slide-control-button-"+this.props.kind,"slide-lockable"],e=c.omit(this.props,["kind","onButtonDown","slide","windowId"]);return this.visible()||d.push("hidden"),this.state.focused&&d.push("focused"),b.createElement("button",b.__spread({ref:"btn",className:d.join(" "),"aria-disabled":this.disabled()},e,this.getButtonEvents()),this.props.children)},SlideFrameSlideObject:function(){var c=a("lodash"),d=a("views/presentation/Slide"),e=a("views/presentation/VectorSlideObject");return b.createElement("div",{className:"slideframe",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.hasVectorBackground()&&b.createElement(e,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&b.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.state.slideModel&&b.createElement(d,{model:this.state.slideModel,slideFrame:this,transitionComplete:c.noop,onSlideStarted:this.onSlideStarted}))},SlideLayer:function(){var c=a("views/presentation/SlideObject"),d=a("views/presentation/AudioPlayer"),e=a("views/presentation/SlideBackground");return b.createElement("div",{className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.state.depth,width:this.props.width,height:this.props.height}},this.props.model.get("modal")&&b.createElement("div",{className:"layer-modal-bg"}),this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:a.cid,model:a,slideVisible:"shown"===this.displayClass(),slideFrame:this.props.slideFrame})}.bind(this)),this.props.model.hasBackground()&&b.createElement(e,{ref:"bg",model:this.props.model}),this.state.audio&&b.createElement("div",{className:"hidden"},this.props.model.audiolib().map(function(a,c){return b.createElement(d,{ref:"audio"+c,key:c,model:a,slideVisible:"shown"===this.displayClass(),objectVisible:!0,timeline:this.props.model.timeline()})}.bind(this))))},SlideLoaderIndicator:function(){var a=this.state.cursorX,c=this.state.cursorY,d={left:a,top:c};return b.createElement("div",{className:"slide-loader",style:d})},SlideLoaderOverlay:function(){var c=a("views/player/SlideLoaderIndicator"),d=this.state.showIndicator,e=["slide-loader-overlay",d?"with-indicator":""].join(" ");return b.createElement("div",{className:e},d&&b.createElement(c,null))},SlideLockCursor:function(){return b.createElement("div",{id:"slide-lock",className:this.state.show?"shown":"hidden",style:{pointerEvents:"none"}})},SlideLockCursorMobile:function(){return b.createElement("div",null)},SlideObject:function(){var a=this.getStyles(),c=["slide-object","slide-object-"+this.props.model.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",this.props.model.isToolTip()?"tooltip":"",this.props.model.isDraggable()?"draggable":"",this.props.model.isRotatable()?"rotatable":"",this.props.model.isTweenable()?"tweenable":"",this.props.model.getIsSlideableParent&&this.props.model.getIsSlideableParent()?"slideable-parent":""].join(" ");return b.createElement("div",{className:c,style:a,"aria-label":this.getAccessibleText(),role:this.getAriaRole(),"data-model-id":this.props.model.id,"data-model-abs-id":this.props.model.absoluteId,tabIndex:"-1"},this.props.model.get("markerType")&&b.createElement("div",{ref:"markerAnimation",className:["marker-animation marker-animation-",this.props.model.get("markerType")].join("")}),this.props.model.isHotSpotMarker()&&b.createElement("div",{className:"hotspot-marker"},b.createElement("span",null)),b.createElement(this.slideObjectInnard,this.getInnardConfigs()))},SlideRelatedActions:function(){var c=a("views/player/RelativeNavControls");return b.createElement("div",{className:"controls-group grid-row control-actions"},b.createElement(c,b.__spread({handledSubmitAll:this.props.handledSubmitAll},this.getChildProps())))},SlideRelatedActionsMobile:function(){var c=a("views/player/RelativeNavControls");return b.createElement("div",{className:"controls-group grid-row control-actions"},b.createElement(c,b.__spread({player:this.props.player,timers:this.props.timers},this.getChildProps())))},SlideWindowBackground:function(){var a=this.props.bg,c=a.width,d=a.height;return b.createElement("div",{className:"slide-window-background",style:{width:c,height:d}},this.renderBackground())},StateGroupSlideObject:function(){var c=a("views/presentation/SlideObject");return b.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden")},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:d,model:a,checkElso:this.checkElso,onElsoAction:this.onElsoAction,slideVisible:this.props.slideVisible,playerProps:this.props.playerProps,parent:this,slideFrame:this.props.slideFrame})}.bind(this)),b.createElement("div",{className:"state-group-top-level"}))},SubmitAllButton:function(){var c=a("polyfills/detection"),d=a("views/player/Icon"),e=a("views/player/SlideControlButton"),f=a("helpers/constants");return b.createElement("span",{className:"submit-all-button"},b.createElement(e,{kind:"submitall",ref:"btn",slide:this.props.slide,windowId:this.props.windowId||f.refs.FRAME,onButtonDown:this.triggerSubmitAll},c.isMobile&&b.createElement("span",{className:"btn-icon"},b.createElement(d,{type:"check"})),b.createElement("span",{className:"text"},this.state.i18nsubmitall)))},SvgLibrary:function(){return b.createElement("div",{id:"svg-library"},b.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},b.createElement("defs",null,b.createElement("filter",{id:"text-shadow",x:"0%",y:"0%",width:"113%",height:"113%"},b.createElement("feGaussianBlur",{stdDeviation:"1 1",result:"text-shadow"}),b.createElement("feOffset",{dx:"1.5",dy:"1.5"})),b.createElement("linearGradient",{id:"timer-blue-grad"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"timer-yellow-grad"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"drop-list-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"dragdrop-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"dragdrop-hover-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"wordbank-droparea-stroke-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("filter",{id:"dragdrop-inner-stroke"},b.createElement("feFlood",{floodColor:"#fff",result:"strokeColor"}),b.createElement("feMorphology",{operator:"erode",radius:"2","in":"SourceAlpha",result:"innerMorph"}),b.createElement("feMorphology",{operator:"erode",radius:"1","in":"SourceAlpha",result:"outerMorph"}),b.createElement("feComposite",{"in":"innerMorph",in2:"outerMorph",operator:"xor",result:"morph"}),b.createElement("feComposite",{"in":"strokeColor",in2:"morph",operator:"in",result:"innerStroke"}),b.createElement("feComposite",{"in":"innerStroke",in2:"SourceGraphic",operator:"over"})))))},TabPanel:function(){var c=(a("views/player/Icon"),a("views/player/Menu")),d=a("views/player/Glossary"),e=a("views/player/Notes"),f=a("views/player/Resources");return b.createElement("section",{"aria-labelledby":"tab-"+this.props.config.name,className:["cs-menu cs-panel is-scrollable",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"hidden",this.props.panelClass,this.state.tabFocused?"focused":""].join(" "),role:"presentation",id:"panel-"+this.props.config.name},"outline"===this.props.config.name&&b.createElement(c,{ref:"menu",model:this.props.model.navData(),notesData:this.props.model.notesData(),addFocusObjects:this.addFocusObjects,options:this.getPath("props.model.controlOptions.menuOptions"),hasSearch:this.getPath("props.model.controlOptions.controls.search"),title:this.getPath("props.model.controlOptions.sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===this.props.config.name&&b.createElement(d,{ref:"glossary",collection:this.props.model.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===this.props.config.name&&b.createElement(f,{ref:"resources",model:this.props.model.resourceData(),addFocusObjects:this.addFocusObjects}),"transcript"===this.props.config.name&&b.createElement(e,{ref:"notes",active:this.props.activeTab,collection:this.props.model.notesData(),addFocusObjects:this.addFocusObjects}))},TextInputSlideObject:function(){var c=a("views/presentation/VectorSlideObject"),d=a("helpers/utils"),e=this.getPath("props.model.maxchars"),f=this.getPath("props.model.marginright"),g=this.isMultiline?6:0,h=d.pxify(this.getPath("props.model.fontsize")),i={fontFamily:this.quotify(this.getPath("props.model.font"))+", sans-serif",fontSize:h,lineHeight:h,fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),width:this.getPath("props.model.width"),height:this.getPath("props.model.height"),paddingTop:this.getPath("props.model.margintop")+g,paddingRight:this.isNumeric?0:f,paddingBottom:this.getPath("props.model.marginbottom"),paddingLeft:this.getPath("props.model.marginleft")};return this.hasVectorBackground()||this.hasImageBackground()||(i.border="1px solid rgb(160,160,160)",i.backgroundColor="#fff"),b.createElement("div",{className:this.state.placeholderClass},this.hasVectorBackground()&&b.createElement(c,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,isInnard:!0}),this.hasImageBackground()&&b.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isMultiline&&!this.isNumeric?b.createElement("textarea",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,
style:i,maxLength:e>0?e:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),placeholder:this.getPath("props.model.placeholder"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}):b.createElement("input",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,type:"text",style:i,maxLength:e>0?e:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),value:this.state.inputValue,placeholder:this.getPath("props.model.placeholder"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))},Timer:function(){var c=a("helpers/svg/svgUtils"),d=a("polyfills/detection"),e=18,f={width:e,height:e};return b.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},b.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!d.isMobile&&b.createElement("div",{className:"timer-wheel",style:f},b.createElement("svg",{style:f,width:e,height:e,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},b.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#timer-yellow-grad)"}),b.createElement("path",{d:c.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"url(#timer-blue-grad)",transform:"rotate(-90 9 9)",stroke:"none"}),b.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"none",stroke:"white"}),b.createElement("circle",{cx:"9",cy:"9",r:"10",fill:"none",stroke:"#c7c7c7"}))))},TopTabs:function(){var c=a("views/player/TopTabsItem");return b.createElement("div",{className:"top-tabs-"+this.props.align},this.state.tabs.map(function(a,d){return b.createElement(c,{key:d,ref:"topTabsItem"+d,config:a,name:a.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)))},TopTabsItem:function(){var c=a("views/player/TabPanel"),d="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return b.createElement("div",{className:["cs-topmenu-item","topmenu-item",this.props.activeTab===this.props.config?"active":"",this.determineVisibilty()?"":"hidden"].join(" ")},b.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),b.createElement("div",{className:"cs-separator topmenu-separator inflexible"},b.createElement("div",{className:"cs-diva topmenu-separator-item"}),b.createElement("div",{className:"cs-divb topmenu-separator-item topmenu-seperator-b"})),d&&b.createElement(c,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},Topbar:function(){var c=a("views/player/TopTabs"),d=a("views/player/Timer"),e=a("views/player/ElapsedAndTotalTime");return b.createElement("header",{className:"header-primary"},this.hasTitle()&&b.createElement("h1",{className:"presentation-title cs-title"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasElapsedAndTotalTime()&&b.createElement(e,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(a,c){return b.createElement(d,{ref:"timer"+c,key:c,model:a,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),b.createElement("div",{className:"top-tabs"},this.hasLinkLeft()&&b.createElement(c,{ref:"topTabsLeft",model:this.props.model,tabs:[],align:"left"}),this.hasLinkRight()&&b.createElement(c,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"right"})))},UiMobile:function(){var c=a("views/player/Icon"),d=a("views/player/Bottombar"),e=a("views/player/SidebarMobile"),f=a("views/player/MobileSearchButton"),g=this.getPath("props.model.controlOptions.controls.search");return b.createElement("div",{className:["option-pane",this.state.isActive?"active":"",this.state.showMenu?"menu-active":"",this.state.showSearch?"search-active":"",this.state.showTab?"tab-active":""].join(" ")},b.createElement("div",{className:"menu-handle"},b.createElement("button",{ref:"menu-handle",className:"hamburger-btn",onTouchEnd:this.onHamburgerTouchEnd,onClick:this.previewMouseEvent(this.toggleMenu)},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"menu"})))),g&&b.createElement(f,{toggleSearchUi:this.onToggleSearchUi}),this.props.currentSlide&&b.createElement(d,{ref:"bb",player:this.props.model,slide:this.props.currentSlide,timers:this.props.timers,hasSearch:g,toggleSearchUi:this.onToggleSearchUi}),b.createElement(e,{ref:"sidebar",model:this.props.model,tabChanged:this.onTabChange,closeTab:this.closeTab,toggleMenu:this.toggleMenu}))},VariableText:function(){var a={width:this.props.model.width(),height:this.props.model.height()};return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible")+(this.props.hasShadow?" object-text-shadow":""),style:a},b.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit,style:this.getInnerProps()},b.createElement("div",{className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))},VectorSlideBackground:function(){var c=a("views/presentation/VectorBackground");return b.createElement(c,{vectorData:this.props.model.background().vectorData,model:this.props.model,playerProps:this.props.playerProps})},VectorText:function(){var c=a("lodash"),d=a("views/presentation/VectorTextItem"),e=a("views/presentation/VectorTextHitArea");return b.createElement("g",{className:"vector-text-item"},b.createElement("g",{transform:this.getTransform()},this.props.hasShadow&&b.createElement(d,{ref:"itemShadow",isShadow:!0,pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId}),b.createElement(d,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem.linkdata().map(function(a,d){return b.createElement(e,{key:"hitArea"+d,ref:"hitItem"+d,color:c.get(a.get("fill"),"colors[0]"),hotAreas:a.get("hotareas"),linkId:a.get("id"),onClickCallback:this.onClickCallback})}.bind(this)))},VectorTextHitArea:function(){var c=a("helpers/utils"),d=function(a){return"hotarea_"+a};return b.createElement("g",null,this.props.hotAreas.map(function(a,e){return b.createElement("g",{ref:d(e),key:d(e)},b.createElement("rect",{className:"link-hit-area","data-hotarea":d(e),x:a.xPos,y:a.yPos,width:a.width,height:a.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onClick:this.onClickCallback,onTouchEnd:this.onClickCallback}),b.createElement("rect",{className:"link-highlight-area","data-linkarea":d(e),x:a.xPos,y:a.yPos,width:a.width,height:a.height,fill:null==this.props.color?"none":c.hexify(this.props.color.rgb),style:{opacity:0}}))}.bind(this)))},VideoControls:function(){var c=a("views/player/Icon"),d=a("polyfills/detection"),e=this.props.isPlaying?"pause":"play";return b.createElement("div",{className:"video-controls grid-row inflexible"},b.createElement("div",{className:"video-controls-play-pause inflexible",onClick:!d.isMobile&&this.props.toggleVideoControls,onTouchStart:d.isMobile&&this.props.toggleVideoControls},b.createElement("button",{className:"btn-unstyled"},b.createElement(c,{key:e,type:e}),b.createElement("span",{className:"accessibility"},this.props.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))),b.createElement("div",{className:"progress-bar",ref:"progressBar"},b.createElement("div",{className:"progress-bar-inner",ref:"progressBarInner"},b.createElement("div",{className:"progress-bar-seek"},b.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}})),b.createElement("input",{type:"range",ref:"inputEl",min:"0",max:this.props.duration,onChange:this.onChange,onInput:this.props.rangeslideVideoControls,value:this.props.currentTime,step:"1"})),b.createElement("div",{className:"progress-bar-elapsed-time"},b.createElement("span",null,this.currentTimeFormatted()),b.createElement("span",{className:"progress-bar-total-duration"},"/ ",this.durationFormatted()))))},VideoPlayer:function(){var c=a("helpers/utils"),d=this.state.hasEverPlayed,e=this.props.posterFrameUrl,f=this.props.playerProps.width,g=this.props.playerProps.height,h={height:c.pxify(g),width:c.pxify(f)};return b.createElement("div",{className:"video-player-limited-container",style:h,"data-accepts":"events"},b.createElement("div",{ref:"container"}),!d&&null!=e&&b.createElement("img",{className:"video-player-poster",width:f,height:g,src:e,alt:""}))},VideoSlideObject:function(){var c=a("views/presentation/VideoControls"),d=a("views/presentation/VideoPlayer"),e=({width:this.props.playerProps.width,height:this.props.playerProps.height},this.isValidVideo());return b.createElement("div",{className:"video-slide-object"},e&&b.createElement(d,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,playerProps:this.props.playerProps,slideVisible:this.props.slideVisible,objectVisible:this.isVisible(),slideObjectModel:this.props.model,assetId:this.getAssetId(),posterFrameUrl:this.posterFrameUrl(),ref:"videoPlayer",src:this.getVideoUrl(),pause:this.pauseVideo}),this.props.model.get("showcontrols")&&e&&b.createElement(c,{ref:"controls",currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,rangeslideVideoControls:this.rangeslideVideoControls}),!e&&b.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},"swf"))},VolumeControls:function(){var c=a("views/player/Icon");return b.createElement("div",{className:"controls-group control-bar inflexible"},b.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},b.createElement("button",{className:"btn-unstyled text-align-middle"},b.createElement(c,{type:"volume",ref:"volumeIcon",volumeStrength:10*this.state.volumeStrength}),b.createElement("span",{className:"accessibility"},this.state.i18nvolume)),b.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},b.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))},WebObjectSlideObject:function(){return b.createElement("div",{className:"webobject"},!this.state.isError&&b.createElement("iframe",{ref:"iframe",src:this.getUrl(),allowFullScreen:!0,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:[this.showThumb()?"hidden":"shown",this.checkIsEngage()?"webobject-engage":""].join(" "),onLoad:this.onIframeLoad}),this.showThumb()&&b.createElement("img",{onClick:this.showContent,onTouchStart:this.showContent,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:"thumbnail",src:this.imageUrl}))},ZoomImage:function(){return b.createElement("div",{className:"zoom-image "+this.displayClass()},b.createElement("img",{ref:"img",src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))},AnnotationColors:function(){var c=a("views/presentation/LinearBackgroundGradient"),d={fillcolor:this.state.fillColorId,bordercolor:this.state.borderColorId},e=Object.keys(d);return b.createElement("g",null,this.props.model.get("colors").map(function(a){var f=a.name,g=a.fill;return e.indexOf(f)>=0?b.createElement(c,{key:f,patternFillId:d[f],fill:g}):void 0}))},AnnotationDefs:function(){var c=a("helpers/svg/svgUtils"),d=this.state.gradientId,e=this.state.filterId,f=this.state.bgId;return b.createElement("defs",null,b.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,spreadMethod:"pad",x1:"0",x2:"0",y1:"-18.5",y2:"6"},b.createElement("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.7"}),b.createElement("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0.1"})),b.createElement("filter",{colorInterpolationFilters:"sRGB",height:"140%",id:e,width:"140%",x:"-20%",y:"-20%"},b.createElement("feColorMatrix",{"in":"SourceGraphic",result:"result1",type:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.2 0"})),b.createElement("g",{id:f},b.createElement("path",{d:" M -20 -20.05 L -20 19.95 20 19.95 20 -20.05 -20 -20.05 Z",fill:"#00FF00",fillOpacity:"0"}),b.createElement("path",{d:" M -20 -17.55 L -20 4.7 Q 9.595703125 -11.3716796875 20 5 L 20 -17.55 -20 -17.55 Z",fill:c.buildUrl(d)})),this.renderColors())},AnnotationRectangle:function(){return b.createElement("div",{className:"annotation-rectangle",style:this.getStyle()})},AnnotationSpotlight:function(){var c=a("helpers/svg/svgUtils"),d=this.state.maskId,e=this.state.fillColorId,f=this.state.borderColorId,g=this.props.model,h=g.getClosestAncestorByKind("slide"),i=h.get("width"),j=h.get("height"),k=g.get("xPos"),l=g.get("yPos"),m=g.get("width"),n=g.get("height"),o=g.get("borderwidth"),p=g.get("boxradius");return b.createElement("svg",{className:"annotation-spotlight",width:i,height:j,viewBox:[0,0,i,j].join(" "),style:{left:-k,top:-l}},b.createElement("defs",null,b.createElement("mask",{id:d},b.createElement("rect",{x:"0",y:"0",width:i,height:j,fill:"#fff"}),b.createElement("rect",{x:k,y:l,width:m,height:n,rx:p,ry:p,fill:"#000"})),this.renderColors()),b.createElement("rect",{ref:"overlay",fill:c.buildUrl(e),mask:c.buildUrl(d),x:"0",y:"0",width:i,height:j}),b.createElement("rect",{ref:"border",stroke:c.buildUrl(f),x:k,y:l,width:m,height:n,rx:p,ry:p,strokeWidth:o,fill:"none"}))},ArrowRoundAnnotation:function(){var c=a("helpers/svg/svgUtils"),d=this.state.filterId,e=this.state.maskId,f=this.state.fillColorId,g=this.state.borderColorId;return b.createElement("svg",{className:"annotation-arrow-round",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),b.createElement("g",{transform:"translate(32.4,18) "},b.createElement("g",{transform:"translate(-29.4,-12.05) "},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:" M 15.8 -1 Q 15.616015625 -1.009765625 15.35 -0.95 12.0015625 -0.6484375 12 3 L 12 4 3 4 Q -1 4 -1 8 L -1 17.05 Q -1.026171875 19.0087890625 0 19.95 0.9935546875 20.999609375 3 21 L 12 21 12 21.1 Q 12.0001953125 23.1064453125 13 24.05 13.9912109375 25.1259765625 15.95 25.1 L 15.95 25.1 Q 16.5765625 25.103515625 17.15 24.85 17.2119140625 24.837109375 17.25 24.8 17.360546875 24.780078125 17.45 24.7 17.5939453125 24.6765625 17.75 24.6 18.3650390625 24.384375 18.9 23.9 18.9361328125 23.875390625 18.95 23.85 L 28.55 14.1 Q 29.3962890625 13.2361328125 29.4 12.05 29.3962890625 10.8638671875 28.55 9.95 L 19.05 0.35 Q 19.02421875 0.3240234375 19 0.3 18.5916015625 -0.0490234375 18.1 -0.25 L 18.1 -0.3 Q 17.9005859375 -0.4146484375 17.7 -0.5 17.5 -0.6 17.3 -0.7 17.275 -0.71171875 17.25 -0.75 16.600390625 -1.0095703125 15.95 -1 15.85 -1 15.8 -1 M 27.15 11.35 Q 27.4037109375 11.65390625 27.4 12.05 27.4037109375 12.4462890625 27.15 12.75 L 17.55 22.45 17.55 22.4 Q 17.31328125 22.6478515625 17 22.75 16.936328125 22.7685546875 16.85 22.8 16.7212890625 22.8419921875 16.6 22.9 16.5619140625 22.9416015625 16.5 22.95 16.4890625 22.9603515625 16.45 22.95 16.199609375 23.0904296875 15.95 23.1 L 15.9 23.1 Q 14.9515625 23.1171875 14.45 22.65 13.999609375 22.14453125 14 21.1 L 14 20 Q 13.996484375 19.5892578125 13.7 19.3 13.4107421875 19.003515625 13 19 L 3 19 Q 1.95546875 19.0001953125 1.4 18.55 0.9826171875 18.0484375 1 17.05 L 1 8 Q 1 6 3 6 L 13 6 Q 13.4107421875 5.996484375 13.7 5.7 13.996484375 5.4107421875 14 5 L 14 3 Q 13.9984375 1.2083984375 15.6 1.05 15.7501953125 1.039453125 15.85 1 15.9080078125 1 15.95 1 16.1740234375 1.0083984375 16.4 1.1 16.4244140625 1.11328125 16.45 1.1 16.625 1.2125 16.8 1.3 16.8603515625 1.3287109375 16.9 1.35 L 16.95 1.35 Q 17.094921875 1.46640625 17.25 1.5 17.489453125 1.6181640625 17.7 1.8 L 27.15 11.35 Z",fill:"#000000"})),b.createElement("g",{transform:"translate(-27.4,-10) "},b.createElement("path",{fill:c.buildUrl(g),d:" M 15.25 -1.6 Q 15.05 -1.7 14.85 -1.8 14.4244140625 -2.0056640625 13.95 -2 13.85 -2 13.8 -2 13.676171875 -1.9953125 13.55 -2 10.9990234375 -1.755078125 11 1 L 11 3 1 3 Q -2 3.0001953125 -2 6 L -2 15.05 Q -2.050390625 18 1 18 L 11 18 11 19.1 Q 11 22.150390625 13.95 22.1 14.4244140625 22.10546875 14.85 21.9 14.98359375 21.8251953125 15.15 21.75 15.2220703125 21.7275390625 15.3 21.7 L 15.25 21.7 Q 15.82109375 21.5556640625 16.2 21.15 L 25.8 11.45 Q 26.4017578125 10.866796875 26.4 10.05 26.4015625 9.2330078125 25.8 8.65 L 16.3 -0.95 Q 16.005078125 -1.26875 15.6 -1.45 15.5568359375 -1.4390625 15.5 -1.45 L 15.55 -1.45 Q 15.399609375 -1.5337890625 15.25 -1.6 M 13 1 Q 13.0017578125 0.1046875 13.8 0 13.85 0 13.95 0 14.155859375 0.08828125 14.35 0.15 14.505859375 0.253125 14.65 0.3 14.7732421875 0.3849609375 14.9 0.45 L 24.4 10 14.75 19.7 Q 14.58203125 19.8134765625 14.35 19.9 14.1701171875 20.0005859375 13.95 20.1 13.001953125 20.0755859375 13 19.1 L 13 16 1 16 Q -0.001953125 16.0080078125 0 15 L 0 6 Q -0.001953125 5.0044921875 1 5 L 13 5 13 1 Z"})),b.createElement("g",{transform:"translate(-27.4,-10) "},b.createElement("path",{fill:c.buildUrl(f),d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z"})),b.createElement("mask",{id:e},b.createElement("g",{transform:"translate(-27.4,-10) "},b.createElement("path",{d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z",fill:"#FFFFFF"}))),b.createElement("g",{mask:c.buildUrl(e)},b.createElement("g",{transform:"translate(-12.4,2) "},this.renderBg()))))},ArrowSquareAnnotation:function(){var c=a("helpers/svg/svgUtils"),d=this.state.filterId,e=this.state.maskId,f=this.state.fillColorId,g=this.state.borderColorId;return b.createElement("svg",{className:"annotation-arrow-square",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),b.createElement("g",{transform:"translate(31.95,20.25) "},b.createElement("g",{transform:"translate(-29,-14) "},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:" M 14.85 -0.1 Q 13.9521484375 -1.0048828125 12.75 -1 11.4890625 -0.99609375 10.6 -0.1 L 10.55 -0.1 7 3.45 7.1 3.4 Q 6.4763671875 3.939453125 6.3 4.75 6.2841796875 4.82421875 6.25 4.85 6.06953125 5.5912109375 6.25 6.35 L 6.25 6.3 Q 6.4240234375 7.0802734375 7.05 7.7 L 7.05 7.7 8.55 9.2 2 9.2 Q 0.7466796875 9.2072265625 -0.1 10.05 -0.101171875 10.098828125 -0.15 10.1 -0.9927734375 10.9466796875 -1 12.2 L -1 17.2 Q -0.99609375 18.4609375 -0.1 19.35 0.72109375 20.196484375 2 20.2 L 8.55 20.2 7 21.75 7.05 21.7 Q 6.157421875 22.559765625 6.15 23.85 6.15390625 25.1109375 7.05 26 L 10.6 29.55 Q 11.42109375 30.396484375 12.7 30.4 13.9447265625 30.38828125 14.8 29.55 L 24.7 19.6 Q 24.8380859375 19.549609375 24.95 19.45 25.093359375 19.3828125 25.2 19.25 25.3326171875 19.067578125 25.4 18.9 L 27.55 16.75 Q 28.3962890625 15.8861328125 28.4 14.7 28.396484375 13.42109375 27.55 12.6 L 24 9.05 Q 23.8171875 8.8662109375 23.6 8.7 L 14.85 -0.1 M 22.3 10.2 Q 22.3681640625 10.2685546875 22.45 10.3 22.5244140625 10.3755859375 22.6 10.45 L 26.15 14 Q 26.403515625 14.27890625 26.4 14.7 26.4037109375 15.0962890625 26.15 15.4 L 23.95 17.6 Q 23.8810546875 17.66953125 23.8 17.75 23.7673828125 17.8314453125 23.7 17.9 23.6208984375 17.977734375 23.55 18 23.46953125 18.0810546875 23.4 18.15 L 13.45 28.15 Q 13.136328125 28.411328125 12.7 28.4 12.27890625 28.403515625 12 28.15 L 8.45 24.6 Q 8.14609375 24.2890625 8.15 23.85 8.142578125 23.440234375 8.4 23.15 8.4486328125 23.1626953125 8.45 23.15 L 11.7 19.9 Q 12.0072265625 19.607421875 12 19.2 11.99453125 18.7900390625 11.7 18.5 11.40859375 18.2048828125 11 18.2 L 2 18.2 Q 1.57890625 18.203515625 1.3 17.95 0.99609375 17.6390625 1 17.2 L 1 12.2 Q 0.992578125 11.790234375 1.25 11.5 1.3013671875 11.4990234375 1.3 11.45 1.590234375 11.192578125 2 11.2 L 11 11.2 Q 11.4107421875 11.1984375 11.7 10.9 11.9990234375 10.609375 12 10.2 11.998046875 9.7763671875 11.7 9.45 L 8.45 6.25 8.45 6.3 Q 8.2755859375 6.11953125 8.2 5.9 8.225390625 5.8625 8.2 5.8 8.1447265625 5.5630859375 8.2 5.3 8.2146484375 5.2755859375 8.2 5.2 8.2609375 5.027734375 8.4 4.9 8.436328125 4.8763671875 8.45 4.85 L 12 1.3 12 1.3 Q 12.3109375 0.99609375 12.75 1 13.1478515625 1.0048828125 13.45 1.3 L 22.3 10.2 Z",fill:"#000000"})),b.createElement("g",{transform:"translate(-27,-12) "},b.createElement("path",{fill:c.buildUrl(g),d:" M 12.1 -1.45 Q 11.541015625 -2.0005859375 10.7 -2 9.8998046875 -2.0017578125 9.3 -1.45 L 5.75 2.1 Q 5.3662109375 2.502734375 5.2 3 5.0818359375 3.552734375 5.2 4.05 5.364453125 4.591796875 5.75 4.95 L 9 8.2 0 8.2 Q -0.833984375 8.19453125 -1.45 8.75 -2.00546875 9.366015625 -2 10.2 L -2 15.2 Q -2.00546875 16.0337890625 -1.45 16.6 -0.833984375 17.2052734375 0 17.2 L 9 17.2 5.75 20.4 Q 5.1552734375 21.0150390625 5.15 21.85 5.141015625 22.6818359375 5.7 23.25 L 9.25 26.8 Q 9.866015625 27.4052734375 10.7 27.4 11.5337890625 27.4052734375 12.1 26.8 L 22.1 16.85 Q 22.2384765625 16.758984375 22.35 16.6 22.5412109375 16.4556640625 22.65 16.25 L 24.85 14.05 Q 25.41171875 13.4861328125 25.4 12.65 25.395703125 11.8568359375 24.8 11.25 L 21.25 7.7 Q 21.13984375 7.5921875 21 7.5 L 12.1 -1.45 M 20.9 15.15 L 20.9 15.2 20.85 15.2 10.7 25.35 7.15 21.85 13.8 15.2 -0.05 15.2 -0.05 10.2 13.8 10.2 7.1 3.5 10.65 0 19.85 9.15 19.85 9.15 23.4 12.65 20.9 15.15 Z"})),b.createElement("g",{transform:"translate(-27.05,-12) "},b.createElement("path",{fill:c.buildUrl(f),d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z"})),b.createElement("mask",{id:e},b.createElement("g",{transform:"translate(-27.05,-12) "},b.createElement("path",{d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z",fill:"#FFFFFF"}))),b.createElement("g",{mask:c.buildUrl(e)},b.createElement("g",{transform:"translate(-11.95,-0.25) "},this.renderBg()))))},ArrowTriangleAnnotation:function(){var c=a("helpers/svg/svgUtils"),d=this.state.filterId,e=this.state.maskId,f=this.state.fillColorId,g=this.state.borderColorId;return b.createElement("svg",{className:"annotation-arrow-triangle",height:"66",viewBox:"0 0 40 40",width:"66",x:"0"},this.renderDefs(),b.createElement("g",{transform:"translate(28.2,20.35) "},b.createElement("g",{transform:"translate(-17,-15) "},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:" M 6.475 1.225 Q 5.663671875 0.4265625 4.675 0.15 4.6251953125 0.1375 4.575 0.125 4.1634765625 -0.0037109375 3.75 0 2.141796875 -0.00546875 1.075 1.075 1.0107421875 1.1599609375 0.95 1.25 0.546484375 1.7482421875 0.35 2.25 L 0.4 2.1 Q 0.176171875 2.5302734375 0.1 3.05 -0.00234375 3.3556640625 0 3.7 L 0 25.35 Q -0.0109375 26.0748046875 0.35 26.8 0.4763671875 27.1626953125 0.675 27.45 0.8380859375 27.6865234375 1.075 27.925 1.9125 28.7701171875 3.175 28.975 3.3423828125 29.0009765625 3.5 29 3.6 29 3.7 29 3.75 29 3.85 29 L 3.9 29 Q 4.0724609375 29.003515625 4.25 28.975 5.3380859375 28.7875 6.225 28 6.3173828125 27.91875 6.4 27.825 L 7.5 26.775 Q 7.5615234375 26.7140625 7.625 26.65 8.25078125 25.9875 8.925 25.325 L 8.95 25.275 Q 13.45 20.525 17.95 15.825 18.502734375 15.24609375 18.5 14.45 18.5025390625 13.653515625 17.95 13.075 13.55 8.475 9.15 3.875 9.13515625 3.8517578125 9.125 3.825 8.725 3.425 8.375 3.075 7.4 2.1119140625 6.425 1.2 L 6.475 1.225 Z",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),b.createElement("g",{transform:"translate(-15,-13.05) "},b.createElement("path",{fill:c.buildUrl(g),d:" M 4.4 -0.8 L 4.45 -0.8 Q 3.663671875 -1.5734375 2.65 -1.85 2.6251953125 -1.8625 2.55 -1.9 2.1634765625 -2.0037109375 1.75 -2 0.141796875 -2.00546875 -0.95 -0.95 -0.9892578125 -0.8400390625 -1.05 -0.75 -1.453515625 -0.2517578125 -1.65 0.25 L -1.6 0.1 Q -1.823828125 0.5302734375 -1.9 1.05 -2.00234375 1.3556640625 -2 1.7 L -2 23.35 Q -2.0109375 24.0748046875 -1.65 24.8 -1.5236328125 25.1626953125 -1.35 25.45 -1.1619140625 25.6865234375 -0.95 25.9 -0.0875 26.7701171875 1.15 26.95 1.3423828125 27.0009765625 1.5 27 1.6 27 1.7 27 1.75 27 1.85 27 L 1.9 27 Q 2.0724609375 27.003515625 2.25 26.95 3.3380859375 26.7875 4.2 26 4.3173828125 25.91875 4.4 25.8 L 5.5 24.75 Q 5.5615234375 24.7140625 5.6 24.65 6.25078125 23.9875 6.9 23.3 L 6.95 23.25 Q 11.45 18.525 15.95 13.8 16.502734375 13.24609375 16.5 12.45 16.5025390625 11.653515625 15.95 11.05 11.55 6.475 7.15 1.85 7.13515625 1.8517578125 7.1 1.8 6.725 1.425 6.35 1.05 5.4 0.1119140625 4.4 -0.8 M 3 0.6 Q 3.9875 1.5357421875 4.95 2.45 5.3125 2.85 5.65 3.2 10.0896484375 7.828515625 14.5 12.45 9.9876953125 17.1595703125 5.45 21.85 4.8 22.5853515625 4.1 23.3 L 3 24.35 Q 2.95234375 24.4115234375 2.85 24.45 2.4654296875 24.9119140625 1.9 24.95 L 1.8 25 Q 1.7615234375 25.0009765625 1.7 25 1.6 24.9966796875 1.5 24.95 0.9140625 24.9099609375 0.45 24.45 0.393359375 24.3939453125 0.3 24.3 0.241015625 24.1822265625 0.15 24.05 0.0095703125 23.71875 0 23.3 L 0 1.7 0 1.7 Q 0.02734375 1.3236328125 0.15 1 0.2869140625 0.7322265625 0.5 0.5 1.01640625 0.0033203125 1.7 0 1.8798828125 -0.001171875 2 0 2.6244140625 0.1966796875 3 0.6 Z"})),b.createElement("g",{transform:"translate(-15,-13) "},b.createElement("path",{fill:c.buildUrl(f),d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z"})),b.createElement("mask",{id:e},b.createElement("g",{transform:"translate(-15,-13) "},b.createElement("path",{d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z",fill:"#FFFFFF"}))),b.createElement("g",{mask:c.buildUrl(e)},b.createElement("g",{transform:"translate(-8.2,-0.35) "},this.renderBg()))))},ArrowVAnnotation:function(){var c=a("helpers/svg/svgUtils"),d=this.state.filterId,e=this.state.maskId,f=this.state.fillColorId,g=this.state.borderColorId;return b.createElement("svg",{className:"annotation-arrow-v",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),b.createElement("g",{transform:"translate(25.5,20) "},b.createElement("g",{transform:"translate(-18.1,-14) "},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:" M 8.05 -0.1 Q 8.0130859375 -0.125 7.95 -0.15 6.343359375 -1.1771484375 4.35 -1 2.282421875 -0.8208984375 0.8 0.7 0.8015625 0.727734375 0.75 0.75 -0.662109375 2.1193359375 -0.9 4.05 L -0.9 4 Q -1.234375 6.0529296875 -0.2 7.85 -0.00234375 8.251953125 0.4 8.55 L 6.15 14.4 0.3 20.4 0.35 20.4 Q 0.12421875 20.624609375 -0.05 20.85 L -0.05 20.8 Q -1.25546875 22.5345703125 -0.9 24.8 L -0.9 24.75 Q -0.6587890625 26.754296875 0.85 28.25 L 0.9 28.3 Q 0.9138671875 28.325 0.9 28.35 2.294140625 29.60234375 4.2 29.9 4.276953125 29.905859375 4.35 29.9 4.4125 29.9 4.45 29.9 4.5125 29.9025390625 4.55 29.9 6.378515625 30.003515625 7.95 29 8.0130859375 28.9748046875 8.05 28.95 8.25 28.8 8.45 28.65 8.5150390625 28.6041015625 8.55 28.55 L 20.15 16.55 20.15 16.5 Q 20.9962890625 15.6361328125 21 14.45 20.9962890625 13.2638671875 20.15 12.35 L 20.15 12.35 8.55 0.3 Q 8.5150390625 0.245703125 8.45 0.2 8.25 0.05 8.05 -0.1 M 6.9 1.55 Q 7.023046875 1.62734375 7.1 1.7 L 18.7 13.75 18.7 13.7 Q 19.00390625 14.0361328125 19 14.45 19.00390625 14.8638671875 18.7 15.15 L 18.7 15.15 7.1 27.15 Q 7.0228515625 27.2220703125 6.9 27.3 6.8859375 27.323046875 6.85 27.35 5.81015625 27.9732421875 4.6 27.9 4.586328125 27.898828125 4.55 27.9 L 4.5 27.9 Q 3.205859375 27.69765625 2.25 26.85 L 2.3 26.9 2.25 26.85 Q 1.25859375 25.845703125 1.1 24.5 L 1.05 24.5 Q 0.85546875 23.0654296875 1.6 21.95 L 1.6 21.95 Q 1.6755859375 21.8755859375 1.75 21.8 L 1.75 21.8 8.25 15.15 Q 8.5552734375 14.855078125 8.55 14.45 8.5544921875 14.043359375 8.25 13.75 L 1.7 7.05 Q 1.6646484375 6.996484375 1.6 6.95 1.5748046875 6.9119140625 1.55 6.85 0.8423828125 5.7033203125 1.05 4.35 1.087890625 4.3486328125 1.1 4.3 1.2599609375 2.998828125 2.25 2.1 2.3248046875 2.055859375 2.35 2 3.28203125 1.1150390625 4.55 1 5.81015625 0.8814453125 6.85 1.5 6.8869140625 1.5259765625 6.9 1.55 Z",fill:"#000000"})),b.createElement("g",{transform:"translate(-16,-12) "},b.createElement("path",{fill:c.buildUrl(g),d:" M 5.45 -1.3 Q 4.0791015625 -2.16640625 2.45 -2 0.7294921875 -1.82890625 -0.5 -0.65 L -0.45 -0.65 Q -1.6818359375 0.5212890625 -1.95 2.2 -2.1775390625 3.9150390625 -1.35 5.35 -1.1966796875 5.58046875 -1.05 5.75 L 5.55 12.45 -1 19.1 Q -1.097265625 19.230859375 -1.2 19.35 -2.19375 20.776171875 -1.95 22.6 L -1.95 22.65 Q -1.6953125 24.294140625 -0.5 25.5 -0.4345703125 25.54921875 -0.4 25.55 0.728515625 26.63671875 2.35 26.85 2.45 26.8916015625 2.55 26.9 4.124609375 26.982421875 5.45 26.15 5.6638671875 26.0228515625 5.85 25.85 L 17.45 13.85 Q 18.0060546875 13.2640625 18 12.45 18.0060546875 11.6357421875 17.45 11.05 L 5.85 -1 Q 5.6638671875 -1.173046875 5.45 -1.3 M 0.05 2.5 Q 0.200390625 1.500390625 0.9 0.75 1.6251953125 0.0759765625 2.6 -0.05 3.575 -0.1240234375 4.4 0.4 L 16 12.4 4.4 24.45 Q 3.575 24.9740234375 2.6 24.85 1.6251953125 24.7740234375 0.9 24.05 0.200390625 23.349609375 0.05 22.3 -0.0994140625 21.275390625 0.4 20.45 L 8.3 12.4 0.4 4.3 Q -0.1244140625 3.524609375 0.05 2.5 Z"})),b.createElement("g",{transform:"translate(-16,-12.05) "},b.createElement("path",{fill:c.buildUrl(f),d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z"
})),b.createElement("mask",{id:e},b.createElement("g",{transform:"translate(-16,-12.05) "},b.createElement("path",{d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z",fill:"#FFFFFF"}))),b.createElement("g",{mask:c.buildUrl(e)},b.createElement("g",{transform:"translate(-5.5,0) "},this.renderBg()))))},CheckAnnotation:function(){var c=a("helpers/svg/svgUtils"),d=this.state.filterId,e=this.state.maskId,f=this.state.fillColorId,g=this.state.borderColorId,h=this.state.animationMaskId,i="draw"===this.props.model.get("animationtype");return b.createElement("svg",{className:"annotation-check",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),i&&b.createElement("mask",{id:h},b.createElement("g",{transform:"rotate(45, 21, 0.5)"},b.createElement("rect",{ref:"mask",x:"0",y:"14.25",width:"22",height:"28",fill:"#000"}))),b.createElement("g",{mask:i?c.buildUrl(h):"none"},b.createElement("g",{transform:"translate(19.95,19.9) "},b.createElement("g",{transform:"translate(-15,-12) "},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:" M 24.05 -0.1 L 24.05 -0.1 Q 23.4302734375 -0.7259765625 22.65 -0.9 L 22.7 -0.9 Q 21.9412109375 -1.08046875 21.2 -0.9 21.1740234375 -0.8658203125 21.1 -0.85 20.3255859375 -0.6814453125 19.8 -0.1 L 12.35 7.4 9.25 4.25 Q 8.6302734375 3.6240234375 7.85 3.45 L 7.9 3.45 Q 7.1412109375 3.26953125 6.4 3.45 6.373828125 3.4841796875 6.3 3.5 5.489453125 3.6763671875 4.95 4.3 L 4.95 4.25 -0.15 9.4 -0.1 9.4 Q -1.0048828125 10.2978515625 -1 11.5 -1.0048828125 12.7021484375 -0.1 13.6 L 10.25 24.1 Q 11.078125 24.9927734375 12.35 25 13.6109375 24.99609375 14.5 24.1 L 29.15 9.25 Q 29.9962890625 8.3861328125 30 7.2 29.9962890625 6.0138671875 29.15 5.1 L 29.15 5.1 24.05 -0.1 M 22.65 1.3 L 22.6 1.3 27.7 6.5 27.7 6.45 Q 28.00390625 6.7861328125 28 7.2 28.0037109375 7.5962890625 27.75 7.9 L 13.1 22.7 Q 12.7890625 23.00390625 12.35 23 11.940234375 23.007421875 11.65 22.7 L 1.3 12.2 Q 1.0048828125 11.8978515625 1 11.5 1.0048828125 11.1021484375 1.3 10.8 L 1.3 10.8 6.4 5.65 Q 6.4365234375 5.6248046875 6.45 5.6 6.577734375 5.4609375 6.75 5.4 6.8255859375 5.4146484375 6.85 5.4 7.1130859375 5.3447265625 7.35 5.4 7.4125 5.425390625 7.45 5.4 7.66953125 5.4755859375 7.85 5.65 L 11.65 9.5 Q 11.940234375 9.798046875 12.35 9.8 12.7615234375 9.796875 13.05 9.5 L 21.2 1.3 Q 21.2248046875 1.2740234375 21.25 1.25 21.377734375 1.1109375 21.55 1.05 21.6255859375 1.0646484375 21.65 1.05 21.9130859375 0.9947265625 22.15 1.05 22.2125 1.075390625 22.25 1.05 22.46953125 1.1255859375 22.65 1.3 Z",fill:"#000000"})),b.createElement("g",{transform:"translate(-13,-10) "},b.createElement("path",{fill:c.buildUrl(g),d:" M 20.4 -1.95 Q 19.9 -2.0681640625 19.35 -1.95 18.8552734375 -1.7845703125 18.45 -1.4 L 10.35 6.8 6.5 2.95 Q 6.1451171875 2.566015625 5.6 2.4 5.1 2.2818359375 4.55 2.4 4.0548828125 2.566015625 3.65 2.95 L -1.45 8.1 Q -2.001171875 8.6859375 -2 9.5 -2.0009765625 10.3150390625 -1.45 10.9 L 8.9 21.4 Q 9.5169921875 21.99609375 10.35 22 11.18359375 21.9955078125 11.75 21.4 L 26.4 6.6 Q 27.0017578125 6.014453125 27 5.2 27.001171875 4.3859375 26.4 3.8 L 21.3 -1.4 Q 20.944921875 -1.7841796875 20.4 -1.95 M 10.35 9.6 L 19.85 0 25 5.15 10.35 20 0 9.5 5.1 4.3 10.35 9.6 Z"})),b.createElement("g",{transform:"translate(-13,-10) "},b.createElement("path",{fill:c.buildUrl(f),d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z"})),b.createElement("mask",{id:e},b.createElement("g",{transform:"translate(-13,-10) "},b.createElement("path",{d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z",fill:"#FFFFFF"}))),b.createElement("g",{mask:c.buildUrl(e)},b.createElement("g",{transform:"translate(0.05,0.1) "},this.renderBg())))))},CrossAnnotation:function(){var c=a("helpers/svg/svgUtils"),d=this.state.filterId,e=this.state.maskId,f=this.state.fillColorId,g=this.state.borderColorId,h=this.state.legMaskId,i=this.state.animationXMaskId,j=this.state.animationLegMaskId,k="draw"===this.props.model.get("animationtype");return b.createElement("svg",{className:"annotation-cross",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),b.createElement("g",{transform:"translate(6, 6)"},k&&b.createElement("mask",{id:i},b.createElement("rect",{ref:"xMask",width:"34",height:"34",fill:"#000",transform:"translate(39, 16) rotate(135)"})),b.createElement("g",{mask:k?c.buildUrl(i):"none"},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:" M 22.7 -0.1 Q 21.8109375 -0.99609375 20.55 -1 19.2783203125 -0.9927734375 18.45 -0.1 L 14.55 3.8 10.65 -0.1 Q 9.7609375 -0.99609375 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.35 Q -0.9927734375 7.178125 -1 8.45 -0.99609375 9.7109375 -0.1 10.6 L 3.85 14.55 -0.1 18.45 Q -1.0048828125 19.3478515625 -1 20.55 -0.99609375 21.8109375 -0.1 22.7 L 6.35 29.15 Q 7.17109375 29.996484375 8.45 30 9.6361328125 29.9962890625 10.5 29.15 L 10.55 29.15 14.5 25.2 18.45 29.15 Q 19.27109375 29.996484375 20.55 30 21.7361328125 29.9962890625 22.6 29.15 L 22.65 29.15 29.1 22.7 29.1 22.7 Q 29.99609375 21.8109375 30 20.55 29.996484375 19.27109375 29.15 18.45 L 25.2 14.5 29.1 10.65 29.1 10.65 Q 30.0048828125 9.7521484375 30 8.55 29.98828125 7.3052734375 29.15 6.4 L 29.15 6.4 22.7 -0.1 22.7 -0.1 M 20.55 1 Q 20.9890625 0.99609375 21.3 1.3 L 27.75 7.8 Q 28.011328125 8.1138671875 28 8.55 27.9951171875 8.9478515625 27.7 9.25 L 27.7 9.2 23.1 13.75 Q 22.8015625 14.076953125 22.8 14.5 22.8015625 14.909765625 23.1 15.2 L 27.75 19.85 Q 28.003515625 20.12890625 28 20.55 28.00390625 20.9890625 27.7 21.3 L 21.25 27.75 Q 20.9462890625 28.0037109375 20.55 28 20.12890625 28.003515625 19.85 27.75 L 15.2 23.1 Q 14.9087890625 22.80546875 14.5 22.8 14.0919921875 22.79296875 13.8 23.05 L 9.15 27.7 9.15 27.7 Q 8.8638671875 28.00390625 8.45 28 8.02890625 28.003515625 7.75 27.75 L 1.3 21.3 Q 0.99609375 20.9890625 1 20.55 1.0048828125 20.1521484375 1.3 19.85 L 5.95 15.25 Q 6.246484375 14.9607421875 6.25 14.55 6.246484375 14.1392578125 5.95 13.85 L 1.3 9.2 Q 0.99609375 8.8890625 1 8.45 0.992578125 8.040234375 1.25 7.75 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.9390625 0.99609375 9.25 1.3 L 13.85 5.9 Q 14.1392578125 6.196484375 14.55 6.2 14.9607421875 6.196484375 15.25 5.9 L 19.85 1.25 Q 20.140234375 0.992578125 20.55 1 Z",fill:"#000000"}),b.createElement("path",{fill:c.buildUrl(g),transform:"translate(2, 2)",d:" M 7.9 -1.45 Q 7.3337890625 -2.00546875 6.5 -2 5.666015625 -2.00546875 5.05 -1.45 L -1.45 5 Q -2.00546875 5.616015625 -2 6.45 -2.00546875 7.2837890625 -1.45 7.85 L 3.2 12.5 -1.45 17.15 Q -2.003125 17.734765625 -2 18.55 -2.0017578125 19.3802734375 -1.45 19.95 L 5 26.4 Q 5.61953125 27.0017578125 6.45 27 7.2650390625 27.003125 7.85 26.4 L 12.5 21.8 17.1 26.4 Q 17.7197265625 27.001953125 18.55 27 19.36484375 27.0033203125 19.95 26.4 L 26.4 19.95 Q 26.994921875 19.3849609375 27 18.55 27.0087890625 17.7181640625 26.4 17.1 L 21.8 12.5 26.4 7.9 Q 26.9935546875 7.3453125 27 6.5 27.00625 5.69453125 26.4 5.1 L 19.95 -1.4 Q 19.3818359375 -1.9984375 18.55 -2 17.718359375 -1.9986328125 17.1 -1.4 L 12.5 3.2 7.9 -1.45 M 6.45 0 L 12.5 6 18.5 0 25 6.45 18.95 12.45 25 18.5 18.5 24.95 12.5 18.95 6.45 25 0 18.5 6 12.45 0 6.45 6.45 0 Z"}),b.createElement("path",{fill:c.buildUrl(f),transform:"translate(2, 2)",d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z"}),b.createElement("mask",{id:e},b.createElement("path",{d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z",fill:"#FFFFFF"})),b.createElement("g",{mask:c.buildUrl(e),transform:"translate(2, 2)"},b.createElement("g",{transform:"translate(12, 12)"},this.renderBg()))),k&&b.createElement("mask",{id:j},b.createElement("rect",{ref:"legMask",width:"32",height:"16",fill:"#000",transform:"translate(9, -2) rotate(45)"})),k&&b.createElement("g",{ref:"leg",mask:c.buildUrl(j)},b.createElement("path",{filter:c.buildUrl(d),transform:this.getShadowTransform(),d:"M 10.6 -0.1 Q 9.7021484375 -1.0048828125 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.4 Q -1.0048828125 7.2978515625 -1 8.5 -1.0048828125 9.7021484375 -0.1 10.6 L 18.45 29.2 Q 19.3349609375 30.0166015625 20.55 30.1 20.5986328125 30.1037109375 20.65 30.1 21.806640625 30.02265625 22.65 29.2 L 29.2 22.65 Q 30.02265625 21.806640625 30.1 20.65 30.1037109375 20.5986328125 30.1 20.55 30.0216796875 19.3330078125 29.2 18.45 L 10.6 -0.1 M 27.8 19.85 Q 28.0626953125 20.166015625 28.1 20.6 28.0626953125 20.9935546875 27.8 21.3 L 21.3 27.8 Q 20.9927734375 28.063671875 20.6 28.1 20.163671875 28.066796875 19.85 27.8 L 1.3 9.2 Q 1.0048828125 8.8978515625 1 8.5 1.0048828125 8.1021484375 1.3 7.8 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.8978515625 1.0048828125 9.2 1.3 L 27.8 19.85 Z"}),b.createElement("path",{fill:c.buildUrl(g),d:"M 28.45 21.95 Q 29.0671875 21.39609375 29.05 20.55 29.0671875 19.74140625 28.45 19.15 L 9.9 0.6 Q 9.3208984375 0.0076171875 8.5 0 7.6662109375 0.0076171875 7.05 0.6 L 0.6 7.1 Q 0.007421875 7.67890625 0 8.5 0.007421875 9.32109375 0.6 9.9 L 19.15 28.45 Q 19.7412109375 29.0673828125 20.55 29.05 21.3958984375 29.0673828125 21.95 28.45 L 28.45 21.95 M 1.95 8.5 L 8.45 2 27.05 20.6 20.55 27.05 1.95 8.5 Z"}),b.createElement("path",{fill:c.buildUrl(f),transform:"translate(2.15, 2)",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"}),b.createElement("mask",{id:h},b.createElement("path",{fill:"#fff",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"})),b.createElement("g",{mask:c.buildUrl(h),transform:"translate(2, 2)"},b.createElement("g",{transform:"translate(12, 12)"},this.renderBg())))))},CaptionIcon:function(){a("polyfills/detection");return b.createElement("svg",{className:"cs-icon caption-icon",width:"22px",height:"18px",viewBox:"0 0 22 18"},b.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},b.createElement("g",null,b.createElement("path",{d:"M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"}))))},CarrotIcon:function(){var a='<use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)" /><polygon id="icon-carrot" points="1,1.5 5,5 1,8.5"/>';return b.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"10",height:"10",viewBox:"0 0 10 10",key:a,dangerouslySetInnerHTML:{__html:a}})},CheckIconMobile:function(){var a='<use xlink:href="#icon-check-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>';return b.createElement("svg",{className:"cs-icon check-mobile-icon",width:"40",height:"30",viewBox:"0 0 40 30",key:a,dangerouslySetInnerHTML:{__html:a}})},ClearIcon:function(){var a='<use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>';return b.createElement("svg",{className:"cs-icon icon-clear",width:"13",height:"14",viewBox:"0 0 13 14",key:a,dangerouslySetInnerHTML:{__html:a}})},CloseIcon:function(){var a='<use xlink:href="#close-icon" class="icon-shadow" transform="translate(0, .5)" /><path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>';return b.createElement("svg",{className:"icon",width:"10",height:"10",viewBox:"0 0 10 10",key:a,dangerouslySetInnerHTML:{__html:a}})},CloseIconMobile:function(){var a='<use xlink:href="#icon-close-mobile" class="icon-mobile" /><polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18   "/>';return b.createElement("svg",{className:"icon",width:"36",height:"36",viewBox:"0 0 36 36",key:a,dangerouslySetInnerHTML:{__html:a}})},DisabledOrientationIcon:function(){return b.createElement("svg",{viewBox:"0 0 161 135"},b.createElement("g",{stroke:"none",strokeWidth:"1",fill:"#fff",fillRule:"evenodd"},b.createElement("path",{d:"M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"}),b.createElement("path",{d:"M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"}),b.createElement("path",{d:"M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"})))},EmailIcon:function(){return b.createElement("svg",{className:"email-icon",width:"50",height:"50",viewBox:"0 0 50 50"},b.createElement("circle",{className:"email-icon-bg",cx:"24",cy:"24",r:"24",fill:"#3b3b3b",strokeWidth:"1"}),b.createElement("g",{className:"email-icon-envelope",fill:"none",strokeWidth:"2",transform:"translate(14, 17)"},b.createElement("rect",{x:"0",y:"0",width:"20",height:"15",rx:"1",ry:"1"}),b.createElement("path",{d:"M0 0 10 8 20 0"})))},EnterFullScreenIcon:function(){return b.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"0 0 32 32",style:{overflow:"visible"}},b.createElement("g",{transform:"translate(0, -2)"},b.createElement("path",{d:"M1.5,1.77635684e-15 L12,1.77635684e-15 L12,3 L3,3 L3,12 L-4.4408921e-16,12 L1.77635684e-15,-2.7554553e-16 L1.5,0 Z"}),b.createElement("path",{d:"M1.5,20 L12,20 L12,23 L3,23 L3,32 L-4.4408921e-16,32 L1.77635684e-15,20 L1.5,20 Z",transform:"translate(6.000000, 26.000000) scale(1, -1) translate(-6.000000, -26.000000) "}),b.createElement("path",{d:"M21.5,1.77635684e-15 L32,1.77635684e-15 L32,3 L23,3 L23,12 L20,12 L20,-2.7554553e-16 L21.5,0 Z",transform:"translate(26.000000, 6.000000) scale(-1, 1) translate(-26.000000, -6.000000) "}),b.createElement("path",{d:"M21.5,20 L32,20 L32,23 L23,23 L23,32 L20,32 L20,20 L21.5,20 Z",transform:"translate(26.000000, 26.000000) scale(-1, -1) translate(-26.000000, -26.000000) "})))},ExitFullScreenIcon:function(){return b.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"-289 381 32 32",style:{overflow:"visible"}},b.createElement("g",{transform:"translate(0, -3)"},b.createElement("path",{d:"M-265.5,391h8.5v-3h-7v-7h-3v10H-265.5z"}),b.createElement("path",{d:"M-280.5,403h-8.5v3h7v7h3v-10H-280.5z"}),b.createElement("path",{d:"M-267,404.5v8.5h3v-7h7v-3h-10V404.5z"}),b.createElement("path",{d:"M-279,389.5V381h-3v7h-7v3h10V389.5z"})))},GearIcon:function(){return b.createElement("svg",{className:"cs-icon icon-gear",width:"14",height:"14",viewBox:"0 0 14 14"},b.createElement("path",{id:"icon-gear",d:"M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"}))},MenuIcon:function(){var a=['<use xlink:href="#icon-menu-mobile" class="icon-mobile" transform="translate(0, 1)" />','<g id="icon-menu-mobile">','<rect width="40" height="4"/>','<rect y="16" width="40" height="4"/>','<rect y="32" width="40" height="4"/>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon menu-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:a,dangerouslySetInnerHTML:{__html:a}})},NextIcon:function(){var a='<use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="next-icon" points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5"/>';return b.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:a,dangerouslySetInnerHTML:{__html:a}})},NextIconMobile:function(){var a='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return b.createElement("svg",{className:"cs-icon next-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:a,dangerouslySetInnerHTML:{__html:a}})},PauseIcon:function(){var a=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:a,dangerouslySetInnerHTML:{__html:a}})},PlayIcon:function(){var a='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return b.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:a,dangerouslySetInnerHTML:{__html:a}})},PlayIconMobile:function(){var a='<use xlink:href="#icon-play" /><path id="icon-play" d="M 11 7.15 L 0 0 0 14.3 11 7.15 Z"/>';return b.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:a,dangerouslySetInnerHTML:{__html:a}})},PlaybackResetIcon:function(){var a='<use xlink:href="#icon-replay" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-replay" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>';return b.createElement("svg",{className:"cs-icon",width:"18",height:"16",viewBox:"0 0 18 16",key:a,dangerouslySetInnerHTML:{__html:a}})},PrevIcon:function(){var a='<use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="prev-icon" points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>';return b.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:a,dangerouslySetInnerHTML:{__html:a}})},PrevIconMobile:function(){var a='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>';return b.createElement("svg",{className:"cs-icon prev-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:a,dangerouslySetInnerHTML:{__html:a}})},SearchIcon:function(){return b.createElement("svg",{className:"cs-icon",width:"14",height:"14",viewBox:"0 0 14 14"},b.createElement("path",{d:"M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2 C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"}))},SearchIconMobile:function(){var a=['<g id="icon-search" transform="translate(4, 0)">','<path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>','<path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon search-icon",width:"22",height:"22",viewBox:"0 0 40 40",key:a,dangerouslySetInnerHTML:{__html:a}})},VolumeIcon:function(){var a=this.props.volumeStrength>0?"":"hidden",c=this.props.volumeStrength>=5?"":"hidden",d=10==this.props.volumeStrength?"":"hidden",e=['<use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="player-volume">','<polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>','<rect class="'+a+'" x="10" y="5" width="1" height="6"/>','<rect class="'+c+'" x="12" y="4" width="1" height="8"/>','<rect class="'+d+'" x="14" y="3" width="1" height="10"/>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon",width:"15",height:"15",viewBox:"0 0 15 15",key:e,dangerouslySetInnerHTML:{__html:e}})}}}),define("helpers/templateManager",["require","lodash","helpers/errorManager","views/mixins/baseView","templates/templates","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=a("views/mixins/baseView"),e=a("templates/templates"),f=a("polyfills/detection"),g=c.throwError("templateManager"),h=c.backtick,i=g("getTemplate"),j=h("templateName")+" argument empty",k="tried calling for an undefined template",l=function(a){var b=e[a+"Mobile"];return f.isMobile&&null!=b?b:e[a]},m={getTemplate:function(a){a||i(j);var c=l(a);return b.isUndefined(c)&&i(k,h(a)),c}};return d.setTemplateManager(m),m}),define("views/events/doubleclick",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=0,e=600;c.registerEvent("doubleclick",function(a){return function(f,g){var h=function(a){var b;return d++,setTimeout(function(){d=0},e),d>=2&&(b=!0,d=0,a.currentTarget.wasDoubleClicked=!0),(c.doesEventTargetAcceptEvents(a)||f.overrideAcceptEvents)&&b},i=b.flow(a(f,"mouseup",h,g,!0),a(f,"touchend",h,g,!0));return f.setAttribute("data-double-click",!0),{teardown:i}}})}),define("views/events/press",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=function(a){return c.isLeftMouseBtn(a)&&c.doesEventTargetAcceptEvents(a)};c.registerEvent("press",function(a){return function(e,f,g){var h=function(a){return c.doesEventTargetAcceptEvents(a)?(g.triggerEvent({type:"rollover"}),!0):void 0},i=b.flow(a(e,"mousedown",d,f),a(e,"touchstart",h,f,!1));return{teardown:i}}})}),define("views/events/release",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","polyfills/vendorOverrides","polyfills/detection"],function(a){"use strict";var b,c,d=a("lodash"),e=a("helpers/utils"),f=a("views/events/eventHelper"),g=(a("views/events/touchHelper"),a("polyfills/vendorOverrides")),h=a("polyfills/detection"),i=function(a){var b=a.currentTarget.wasDoubleClicked;return a.currentTarget.wasDoubleClicked=null,!!b},j=function(a){return a.classList.contains("slide-object")},k=function(a){return f.isLeftMouseBtn(a)&&f.doesEventTargetAcceptEvents(a,j)},l=function(a){return!i(a)},m=function(a){if(a.touches.length>0)return c=!0,!1;var d=c,g=e.dist(b.x,b.y,a.changedTouches[0].clientX,a.changedTouches[0].clientY);return c=!1,!d&&20>g&&f.doesEventTargetAcceptEvents(a)&&!i(a)},n=function(a){b={x:a.touches[0].clientX,y:a.touches[0].clientY}};f.registerEvent("release",function(a){return function(b,c,e){if(null!=g.registerAudioInitEvent){var f=g.registerAudioInitEvent(a,b,c,e);if(null!=f)return f}var i=function(e){var f,g=function(a){return f(),l(a)};!k(e)||h.isMobile&&!h.isMobilePreview||(f=d.flow(a(b,"mouseup",g,c),a(b,"mouseleave",function(){f()},d.noop)))},j=a(b,"touchstart",n,d.noop,!0),o=d.flow(a(b,"mousedown",i,d.noop),a(b,"touchend",m,c,!0));return[{teardown:j},{teardown:o}]}})}),define("views/events/rightpress",["require","views/events/eventHelper"],function(a){"use strict";var b=a("views/events/eventHelper"),c=function(a){return b.isRightMouseBtn(a)&&b.doesEventTargetAcceptEvents(a)};b.registerEvent("rightpress",function(a){return function(b,d){var e=a(b,"mousedown",c,d);return{teardown:e}}})}),define("views/events/rightrelease",["require","views/events/eventHelper"],function(a){"use strict";var b=a("views/events/eventHelper"),c=function(a){return b.isRightMouseBtn(a)&&b.doesEventTargetAcceptEvents(a)};b.registerEvent("rightrelease",function(a){return function(b,d){var e=a(b,"mouseup",c,d);return{teardown:e}}})}),define("views/events/rollover",["require","lodash","views/events/eventHelper","views/events/touchHelper","views/helpers/dom"],function(a){"use strict";var b,c=a("lodash"),d=a("views/events/eventHelper"),e=(a("views/events/touchHelper"),a("views/helpers/dom")),f=function(a){return c.get(a,"props.model.isGroupingSlideObject")};d.registerEvent("rollover",function(a){return function(g,h,i){var j=function(a){var c=!1,h=i.props.model;if(null!=b&&null!=a.topView&&i!==a.topView&&a.topView===b&&(c=!0,!h.isGroupingSlideObject||h.isGroupingContainer))return a.stopImmediatePropagation(),!1;a.topView||(a.topView=i);var j=function(){return!c&&b&&b!==i&&"rollout"!==b.latestEvent};if(j()&&!b.isObscurable){if(f(b))return b=i,!1;b.triggerEvent({type:"rollout",target:a.target})}return b=a.topView,function(){var a,c=0,d=function(a){c++},h=function(j){var k;if(0===c&&!i.isObscurable){if(k=document.elementFromPoint(j.pageX,j.pageY),b.el===e.closest(k,e.isSlideObject))return;a=f(b)?i.el:j.target,i.triggerEvent({type:"rollout",target:a})}document.removeEventListener("mousemove",h),g.removeEventListener("mousemove",d)};g.addEventListener("mousemove",d),document.addEventListener("mousemove",h)}(),d.doesEventTargetAcceptEvents(a)},k=function(a){return d.doesEventTargetAcceptEvents(a)},l=c.flow(a(g,"mouseover",j,h),a(g,"touchstart",k,h,!0,!1));return{teardown:l}}})}),define("views/events/rollout",["require","lodash","views/events/eventHelper","views/helpers/collisionHelper","views/helpers/dom","helpers/utils","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=a("views/helpers/collisionHelper"),e=a("views/helpers/dom"),f=a("helpers/utils"),g=a("polyfills/vendorOverrides"),h=40,i=g.mouseOver||function(){return"mouseenter"},j=function(a){var b=(a.getCurrentStateData&&a.getCurrentStateData()||{}).html5data,c=null!=b,d=c?b.width:a.get("width"),e=c?b.height:a.get("height");return{width:d,height:e}},k=function(a){return a.get("showcontrols")?h:0};c.registerEvent("rollout",function(a){return function(c,g,h){var l,m,n,o,p,q,r,s=h.props.model,t=function(){m=null,g({type:"rollout",node:c,target:c}),clearInterval(n)},u=function(a){r=null==s.getSlide?1:s.getSlide().calculateTotalScale(),o=j(s),p=o.width/r,q=(o.height+k(s))/r;var b,c,g=[[0,0],[p,q]],i=d.slideObjectMouseLoc(h),l=h.props.model.isZoomable(),n=!1;return l&&(b=document.elementFromPoint(e.mouseX,e.mouseY),n=e.hasClass(b,"zoom-image")),f.pointInRect(i.x,i.y,g)||n?void(h.isRectangular||(c=d.containsPoint(h,i.x*r,i.y*r),c?m="over":"over"===m&&t())):void t()};return l=h.isObscurable?b.flow(a(c,i(),function(a){h.isObscurable&&(clearInterval(n),n=setInterval(u,16))},b.noop),a(c,"touchend",null,g,!0,!1)):b.flow(a(c,"mouseleave",function(a){return!0},g),a(c,"touchend",null,g,!0,!1)),{teardown:l}}})}),define("views/events/clickoutsideobjects",["require","lodash","views/events/eventHelper"],function(a){
"use strict";var b,c=a("lodash"),d=a("views/events/eventHelper"),e=function(a){var e=d.parentNodesOf(a.target);b=c.compact(c.invoke(e,"getAttribute","data-model-id"))},f=function(a){return{data:b||[]}};d.registerEvent("clickoutsideobjects",function(a){return function(b,d){var g=a(b,"mousedown",e,c.noop,!0),h=a(b,"mouseup",f,d,!0);return[{teardown:g},{teardown:h}]}})}),define("views/events/clickoutside",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=function(a,b){return a.contains(b.target)?!1:{node:a,target:b.target}};c.registerEvent("clickoutside",function(a){return function(c,e){var f=b.flow(a(document.body,"click",b.partial(d,c),e),a(document.body,"touchstart",b.partial(d,c),e,!1,!1));return{teardown:f}}})}),define("views/events/releaseoutside",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper");c.registerEvent("releaseoutside",function(a){return function(c,d){var e,f,g=function(a,b){var c=document.elementFromPoint(b.pageX,b.pageY);return e&&e(),a.contains(c)?!1:{node:a}},h=function(a,c){return g(a,b.first(c.changedTouches))},i=function(){e=b.flow(a(document,"mouseup",b.partial(g,c),d),a(document,"touchend",b.partial(h,c),d,!0,!1))};return f=b.flow(a(c,"mousedown",i),a(c,"touchstart",i)),{teardown:function(){e&&e(),f()}}}})}),define("views/events/allEvents",["require","views/events/doubleclick","views/events/press","views/events/release","views/events/rightpress","views/events/rightrelease","views/events/rollover","views/events/rollout","views/events/clickoutsideobjects","views/events/clickoutside","views/events/releaseoutside"],function(a){"use strict";a("views/events/doubleclick"),a("views/events/press"),a("views/events/release"),a("views/events/rightpress"),a("views/events/rightrelease"),a("views/events/rollover"),a("views/events/rollout"),a("views/events/clickoutsideobjects"),a("views/events/clickoutside"),a("views/events/releaseoutside")}),define("models/presentation/SlideLink",["require","models/BaseModel"],function(a){"use strict";var b=a("models/BaseModel"),c=b.extend({});return c}),define("collections/presentation/SlideLinks",["require","collections/BaseCollection","models/presentation/SlideLink"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/SlideLink"),d=b.extend({model:c});return d}),define("models/presentation/SlideRef",["require","models/BaseModel","collections/presentation/SlideLinks","helpers/assetManager","helpers/resolver"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/presentation/SlideLinks"),d=a("helpers/assetManager"),e=a("helpers/resolver"),f=b.extend({shorthand:["assetIds"],associations:{linksto:c},loadAssets:function(){return d.loadAssets(this.assetIds().slice())},getSlide:function(){return e.resolvePath(this.id)}});return f}),define("collections/presentation/SlideRefs",["require","collections/BaseCollection","models/presentation/SlideRef"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/SlideRef"),d=b.extend({model:c});return d}),define("models/presentation/SlideMap",["require","lodash","models/BaseModel","collections/presentation/SlideRefs","helpers/utils","helpers/resolver","helpers/errorManager","helpers/pubSub"],function(a){"use strict";var b,c=a("lodash"),d=a("models/BaseModel"),e=a("collections/presentation/SlideRefs"),f=a("helpers/utils"),g=a("helpers/resolver"),h=a("helpers/errorManager"),i=a("helpers/pubSub"),j=h.throwError("SlideMap"),k=function(a,b){return b.type===a},l=c.partial(k,"slidedraw"),m=c.partial(k,"slide"),n=c.partial(k,"slidebank"),o=d.extend({shorthand:["queueSize"],associations:{slideRefs:e},subscriptions:{"loader:silence":"onSilenceLoader"},initialize:function(){this.loaders=[],this.silenceLoader=!1},onSilenceLoader:function(){this.silenceLoader=!0},showLoader:function(){this.slideLoaded===!0||this.silenceLoader||i.trigger("loader:show"),this.silenceLoader=!1},setCurrent:function(a,c){var d;this.slideLoaded=null,this.showLoader(),b||(b=g.getPresentationContext()),this.queueCounter=0,this.stopCurrentLoaders(),d=g.resolvePath(a,b),d.isScene?a+="."+d.slides().first().id:null!=d.currView&&i.trigger("loader:hide"),c.done(function(){this.getNextSlide(f.stripPlayer(a)),this.slideLoaded=!0}.bind(this))},stopCurrentLoaders:function(){this.loaders.length>0&&this.loaders.forEach(function(a){a.dfds.forEach(function(a){a.reject()})}),this.loaders=[]},checkQueue:function(){return this.queueCounter<this.queueSize()},getFirstOfDraw:function(a){var c=g.resolvePath(a,b),d=c.getFirstSlide(),e=this.slideRefs().findWhere({id:d.id}),h=e.loadAssets();h.done(function(){this.getNextSlide(f.prefixWithPlayer(a))}.bind(this))},getNextSlideFromDraw:function(a){var d,e,f;this.checkQueue()&&(d=g.resolvePath(a,b),e=c.result(d,"getSlideDraw"),e&&(f=e.getNextSlideId(d),f&&this.preloadNextBankSlide(f)))},getNextSlide:function(a){var d,e,f;this.checkQueue()&&(d=this.slideRefs().findWhere({id:a}),d&&d.get("linksTo")?(e=d.get("linksTo"),c.isArray(e)||j("getNextSlide","`linksTo` must be an array"),this.preloadLink(e)):(f=g.resolvePath(a,b),f.isSlideDraw?this.preloadNextBankSlide(f.startingSlide()):this.getNextSlideFromDraw(a)))},preloadNextBankSlide:function(a){var b=c.last(a.split("."));this.preloadLink([{id:b,type:"slidebank",fullId:a}])},preloadLink:function(a){a.forEach(function(a){if("nextviewedslide"!==a.id){var b,c=this.slideRefs().findWhere({id:a.id});null!=c&&(l(a)?this.getFirstOfDraw(a.id):(b=c.loadAssets(),this.loaders.push(b),b.done(function(){this.queueCounter++,m(a)?this.getNextSlide(a.id):n(a)&&this.getNextSlideFromDraw(a.fullId)}.bind(this))))}}.bind(this))}});return o}),define("models/presentation/Window",["require","models/BaseModel"],function(a){"use strict";var b=a("models/BaseModel"),c=b.extend({});return c}),define("collections/presentation/Windows",["require","collections/BaseCollection","models/presentation/Window"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Window"),d=b.extend({model:c});return d}),define("models/presentation/Display",["require","models/BaseModel","collections/presentation/Windows"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/presentation/Windows"),d=b.extend({associations:{windows:c},shorthand:["width","height"]});return d}),define("models/presentation/Scoring",["require","lodash","helpers/pubSub","models/BaseModel","models/presentation/mixins/propertizable","helpers/constants","helpers/resolver","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/pubSub")),c=a("models/BaseModel"),d=a("models/presentation/mixins/propertizable"),e=a("helpers/constants"),f=a("helpers/resolver"),g=a("helpers/utils"),h=c.extend({mixins:[d],playerPropNames:{Score:0,PercentScore:0,Status:e.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:{"slide:viewed":"incrementViewed","player:reset":"reset"},initialize:function(){this.viewedSlideGroups={},this.viewedSlides=0,b.once("data:initialized",this.setupRefs.bind(this))},setupRefs:function(){this.scoreRef=null!=this.scoreRefs()&&this.scoreRefs().length>0&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(a){this.viewedSlideGroups[a.getViewGroupId()]||(this.viewedSlideGroups[a.getViewGroupId()]=!0,this.viewedSlides++,this.isPastViewThreshold()&&this.isView()&&(b.trigger("course:viewed",this),this.updateStatus(!1)))},getQuiz:function(a){return f.resolvePath(g.prefixWithPlayer(a),this)},isCourseComplete:function(){return this.isView()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){return this.viewedSlides>=this.get("viewThreshold")},weightScore:function(a){return g.fix(a/this.get("weight"),2)},getStatus:function(){var a,b,c=e.statuses.INCOMPLETE;return this.isCourseComplete()&&(this.isView()?c=this.get("passStatus"):this.isType("survey")?c=this.get("passStatus"):this.isType("quiz")&&(a=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),c=this.get(a?"passStatus":"failStatus"),!this.scoreRef.mustpass&&a||(b=this.quiz.isPassed()?"passStatus":"failStatus",c=this.get(b)))),c},updateStatus:function(a){var c=!a,d=this.getStatus();this.prop("Status",d),c&&b.trigger("status:updated")},updateScore:function(a){var b=0,c=0;return this.quiz!==a?void this.quiz.updateScore():(this.quiz.maxPoints>0&&(b=this.quiz.prop("Score"),c=this.quiz.prop("PercentScore")),this.prop({Score:b,PercentScore:c}),void this.updateStatus())},setComplete:function(a){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){null!=this.quiz&&this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},isView:function(){return this.isType("view")},checkCourseComplete:function(){var a=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),a||this.isView()||b.trigger("course:completed",this,a))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return g.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}});return h}),define("models/presentation/mixins/resumables/slideResumable",["require","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/courseStateHelper"],function(a){"use strict";var b=a("models/presentation/helpers/utils"),c=a("helpers/resume/Chunk"),d=a("helpers/resume/courseStateHelper"),e=function(a){return c.create(c.toUnsignedString64(a))},f={getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(a){var b="";if(this.viewed)if(a||this.resume()){var d=this.getBaseLayer();b=[this.getInteractionResumeData(),d.timeline().getResumeData(),d.getObjectsResumeData(a),this.getSlideLayerResumeData(a),this.slideLayers().getActiveLayersResumeData(),d.audiolib().getResumeData(a),this.variables().getResumeDataOrReturn("")].map(c.create).join("")}else this.hasInteractions()&&(b=c.create(this.getInteractionResumeData()));this.setResumeData(b,!1)},getSlideLayerResumeData:function(a){return this.slideLayers().getNonBaseLayers().filter(b.getResumeableFilter(a)).reduce(function(a,b){var d=b.getResumeDataOrReturn("");return a+c.create(d)},"")},getInteractionResumeData:function(){var a="";return this.hasInteractions()&&(a=this.interactions().map(function(a){return a.getResumeData()}).map(c.create).join("")),a},updateInteractionData:function(){var a;return this.hasInteractions()&&(a=new c({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=c.create(this.getInteractionResumeData())+a),this},clearResumeData:function(){this.encodedResumeData="",this.hasResumeData=!1,this.slideLayers().forEach(function(a){a.clearResumeData()}),this.slideLayers().initialize()},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.interactionData=""},resetBeforeView:function(){return this.viewed&&(this.resetPropsExcept(["WindowId"]),this.variables().resetValues(),this.slideLayers().hideAllHideableLayers(),this.slideLayers().resetActiveLayers(),this.slideLayers().getBaseLayer().resetResume(),this.slideLayers().resetActiveLayers().forEach(function(a){a.resetResume()})),this.resume()||this.interactions().forEach(function(a){a.resetResume()}),this.resetCurrentTimeline(),this},setResumeData:function(a,b,d){return this.encodedResumeData=a,a.length>0?(this.interactionData=new c({fullString:a}),this.setInteractionResumeData(this.interactionData.encodedString()),(d||this.resume())&&(b!==!1&&this.setAsViewed(),this.hasResumeData=!0,this.timelineData=this.interactionData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},applyResumeData:function(){var a=!1,b=this.getBaseLayer(),c=d.getSlideStateData(this.absoluteId);return null!=c&&(a=!0,d.clearSlideStateData(this.absoluteId),this.setResumeData(c,!1,!0)),(a||this.resume())&&this.hasResumeData&&(this.hasResumeData=!1,b.timeline().setResumeData(this.timelineData.encodedString()),b.setObjectsResumeData(this.objectData.encodedString(),a),this.setSlideLayerResumeData(this.layerData,a),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString()),this.trigger("resume:applied")),this.trigger("resume:complete"),this},setInteractionResumeData:function(a){var b=new c({fullString:a});this.hasInteractions()&&this.interactions().forEach(function(a){a.resetResponses(),a.setResumeData(b.encodedString()),b=b.reChunk()})},setSlideLayerResumeData:function(a,d){var e=new c({fullString:a.encodedString()});this.slideLayers().getNonBaseLayers().filter(b.getResumeableFilter(d)).forEach(function(a){a.setResumeData(e.encodedString(),d),e=e.reChunk()})},onBeforeResumeBuilt:function(a){this.slideLayers().invoke("prepareResumeData",a)},onAfterResumeBuilt:function(a){this.getSceneOrDraw().saveSlideData(this),a||this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var a,b,c=this.getSlideDraw();return c?(a="1",b=[this.index(),c.getScene().index(),c.index()]):(a="0",b=[this.index(),this.getScene().index()]),a+b.map(e).join("")}};return f}),define("models/presentation/mixins/resumables/slideLayerResumable",["require","lodash","models/presentation/helpers/utils","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/helpers/utils"),d=a("helpers/resume/Chunk"),e=function(a){return!!a.isSlide},f={init:function(){this.getResumeDataOrReturn=b.partial(c.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(a){(a&&this.isOpen||this.resume())&&(this.encodedResumeData=this.shownInCurrentView?[this.timeline().getResumeData(),this.getObjectsResumeData(a),this.audiolib().getResumeData(a),this.variables().getResumeDataOrReturn("")].map(d.create).join(""):this.viewed?this.cachedResumeData:"")},getObjectsResumeData:function(a){return this.objectIndex.filter(c.getResumeableFilter(a)).reduce(function(b,c){return b+d.create(c.getResumeData(a))},"")},clearResumeData:function(){this.cachedResumeData="",this.isViewed=!1,this.baseLayerPauses=[]},resetResume:function(){this.encodedResumeData="",this.resetBeforeView()},resetBeforeView:function(){return this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),this.audiolib().resetBeforeView(),this.baseLayerPauses=[],b.invoke(this.objDecendants,"resetResume"),this},setResumeData:function(a,b){if(this.cachedResumeData=a,(b||this.shouldResume())&&a){this.wasForcedResumed=b;var c=new d({fullString:a}),e=c.reChunk(),f=e.reChunk(),g=f.reChunk();this.setAsViewed(),this.timeline().setResumeData(c.encodedString()),this.setObjectsResumeData(e.encodedString(),b),this.audiolib().setResumeData(f.encodedString(),b),this.variables().setResumeData(g.encodedString())}},applyResumeData:function(){return this.setResumeData(this.encodedResumeData),this},setObjectsResumeData:function(a,b){var e=new d({fullString:a});this.objectIndex.filter(c.getResumeableFilter(b)).forEach(function(a){a.setResumeData(e.encodedString()),e=e.reChunk()})},onBeforeResumeBuilt:function(a){this.objects().invoke("prepareResumeData",a)},shouldResume:function(){return this.resume()&&this.getClosestAncestor(e).resume()}};return f}),define("models/presentation/Audio",["require","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","helpers/assetManager"],function(a){"use strict";var b=a("models/BaseModel"),c=a("mixins/actionable"),d=a("models/presentation/mixins/propertizable"),e=a("models/presentation/mixins/eventable"),f=a("helpers/assetManager"),g=b.extend({shorthand:["assetId","events"],mixins:[c,e,d],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getUrl:function(){return f.getAssetUrl(this.assetId())},getResumeData:function(a){var b="",c=0;return(a||this.getSlide().resume())&&(c+=this.prop("isTimelineControlled")?1:0,c+=this.prop("isPlaying")?2:0,c+=this.prop("resumeOnTimelinePlay")?4:0,b=c.toString()),b},setResumeData:function(a,b){(b||this.getSlide().resume())&&(a=parseInt(a,10),this.prop({isTimelineControlled:!!(1&a),isPlaying:!!(2&a),resumeOnTimelinePlay:!!(4&a)}))},resetBeforeView:function(){this.resetProps()}});return g}),define("collections/presentation/AudioLib",["require","lodash","collections/BaseCollection","helpers/resume/Chunk","models/presentation/Audio"],function(a){"use strict";var b=(a("lodash"),a("collections/BaseCollection")),c=a("helpers/resume/Chunk"),d=a("models/presentation/Audio"),e=b.extend({model:d,getResumeData:function(a){return this.invoke("getResumeData",a).map(c.create).join("")},setResumeData:function(a,b){var d=new c({fullString:a});this.forEach(function(a){a.setResumeData(d.encodedString(),b),d=d.reChunk()})},resetBeforeView:function(){this.invoke("resetBeforeView")}});return e}),define("models/presentation/GroupingSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/SlideObject"),d=a("helpers/utils"),e=d.createSuper(c),f=e("resolveables").concat(["objects"]),g=b.defaults({groupObjects:!0},e("abilities")),h=c.extend({resolveables:f,abilities:g,isGroupingSlideObject:!0,resolvers:{objects:function(a,b){return b.findNestedObject(a)}},getCorrectBounds:function(a,c){var d=a.getBounds(),e=a.prop("RawXPos"),f=a.prop("RawYPos");return b.extend({left:e,right:e+d.width,top:f,bottom:f+d.height,idx:c},b.pick(d,"height","width"))}});return h}),define("models/presentation/StateGroupSlideObject",["require","lodash","helpers/resolver","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resolver"),d=a("models/presentation/SlideObject"),e=a("models/presentation/GroupingSlideObject"),f=a("helpers/utils"),g=a("helpers/actionManager"),h=(f.createSuper(d),e.extend({shorthand:["actionstates"],isStateGroupSlideObject:!0,setState:function(a,d){var e=b.findWhere(this.actionstates(),{name:c.getRef(a.stateRef,d.context,d)});return e&&(this.prop("ObjectState",e.name),b.isEmpty(e.actions)||g.executeActions(e.actions,b.extend(d,{context:this}))),this},getIsSlideableParent:function(){return this.objects().some(function(a){return!!a.dragpath()})},getStateFromIndex:function(a){return this.actionstates()[a].name},getCurrentStateIndex:function(){return this.actionstates().indexOf(this.getStateFromVar())},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getStateFromVar:function(){var a=this.get("actionstates");return a&&b.findWhere(a,{name:this.prop("ObjectState")})},getStateFromName:function(a){var c=this.get("actionstates");return c&&b.findWhere(c,{name:a})},getClickDef:function(){var a=this.getStateFromVar();return a&&a.clickdef}}));return h}),define("models/presentation/ShuffledGroupingSlideObject",["require","lodash","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/SlideObject"),d=a("models/presentation/GroupingSlideObject"),e=a("helpers/utils"),f=e.createSuper(c),g=function(a){return e.isTrue(a.get("shuffleLock"))},h=function(a,b){a.prop("ShuffleXPos",b),a.prop("RawXPos",b)},i=function(a,b){a.prop("ShuffleYPos",b),a.prop("RawYPos",b)},j=function(a,c,d){return b.sortBy(d,a).every(function(b,d,e){var f=e[d-1];return f?b[a]>=f[a]+.75*f[c]:!0})},k=b.partial(j,"top","height"),l=b.partial(j,"left","width"),m=function(a,c,d,e,f){var g=a[e],h=this.getCorrectBounds(g),i=a[e-1],j=i&&this.getCorrectBounds(i),k=b.partial(c.updateDefaultCoord,g),l=b.partial(c.updateAltCoord,g);if(0===e)k(d[c.origin]),l(f.length>1&&"endpoint"===f[1].altAlign?d[c.altEndpoint]-h[c.dimension]:d[c.altOrigin]);else switch(k(j[c.endpoint]+d.defaultSpacing),d.altAlign){case"origin":l(j[c.altOrigin]);break;case"endpoint":l(j[c.altEndpoint]-h[c.dimension]);break;case"oOffset":l(j[c.altOrigin]+d.altSpacing);break;case"eOffset":l(j[c.altEndpoint]+d.altSpacing)}},n=function(a,b,c){var d=a[c];h(d,b.left),i(d,b.top)},o=b.defaults({resolveAsParent:!1,groupObjects:!0},f("abilities")),p=d.extend({abilities:o,initialize:function(){f("initialize").apply(this,arguments),this.shouldShuffle=!0,this.listenTo(this.getSlide(),"resume:applied",this.markAsResumed),this.listenTo(this.getSlide(),"resume:complete",this.resumeComplete),this.get("shuffle")&&this.setShuffleBounds().determineSpacing().sortBoundsFromSpacing().shuffleAndLayout()},markAsReset:function(){this.shouldShuffle=!0},markAsResumed:function(){this.shouldShuffle=!1},resumeComplete:function(){this.shouldShuffle&&this.shuffleAndLayout()},shuffleAndLayout:function(){return this.get("shuffle")&&this.shuffleObjects().setSpacing().setShuffledPositions().setTabIndices(),this},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(a){return this.objects().at(a)}.bind(this))},shuffleObjects:function(){var a=b.shuffle(this.objects().slice());return this.repositionLockedItems(a),this.shuffledObjectIndices=a.map(function(a){return this.objects().indexOf(a)}.bind(this)),this},repositionLockedItems:function(a){this.objects().forEach(function(c,d){if(g(c)){var e=b.findIndex(this.originalBounds,{idx:d}),f=a[e],h=a.indexOf(c);a[e]=a[h],a[h]=f}}.bind(this))},determineSpacing:function(){return k(this.originalBounds)?this.spacing="vertical":l(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var a="vertical"===this.spacing?"top":"left";return this.originalBounds=b.sortBy(this.originalBounds,a),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=b.partial(n,this.getShuffledArray()),this;var a=this.originalBounds,c="vertical"===this.spacing,d=c?i:h,e=c?h:i,f=c?"top":"left",g=c?"left":"top",j=c?"bottom":"right",k=c?"right":"bottom",l=c?"height":"width";a.forEach(function(b,c){var d=a[c-1];d&&(b.defaultSpacing=b[f]-d[j],b[g]===d[g]?b.altAlign="origin":b[k]===d[k]?b.altAlign="endpoint":b[g]>d[k]?(b.altAlign="oOffset",b.altSpacing=b[g]-d[g]):(b.altAlign="eOffset",b.altSpacing=b[g]-d[k]))});var o={updateDefaultCoord:d,updateAltCoord:e,origin:f,altOrigin:g,endpoint:j,altEndpoint:k,dimension:l};return this.positionCallback=b.partial(m.bind(this),this.getShuffledArray(),o),this},setShuffledPositions:function(){return this.originalBounds.forEach(this.positionCallback),this},setTabIndices:function(){var a=this.originalBounds.map(function(a){return this.objects().at(a.idx).get("tabIndex")}.bind(this));return this.shuffledObjectIndices.forEach(function(b,c){this.objects().at(b).prop("tabIndex",a[c])}.bind(this)),this}});return p}),define("models/presentation/TextInputSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/constants")),c=(a("models/BaseModel"),a("models/presentation/SlideObject")),d=(a("helpers/utils"),c.extend({shorthand:["background"],variableProps:{Text:{type:b.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr}}));return d}),define("models/presentation/ScrollAreaSlideObject",["require","lodash","models/presentation/GroupingSlideObject","helpers/utils","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/GroupingSlideObject"),d=a("helpers/utils"),e=a("helpers/resolver"),f=d.createSuper(c),g=b.merge(f("shortEvents"),{self:{"action:updatescrollpos":"updateScrollPos","action:updatescrollheight":"updateScrollHeight"}}),h=c.extend({shorthand:["background","contentheight","contentwidth"],isGroupingContainer:!0,shortEvents:g,updateScrollPos:function(a,b){this.trigger("updateScrollPos",e.getRef(a.pos,b.context))},updateScrollHeight:function(a,b){this.contentheight(e.getRef(a.height,b.context)),this.trigger("updateScrollHeight")},getPathRef:function(){var a=this.background().vectorData;return a?a.pr:{}},getBounds:function(){var a=b(this.background().vectorData).pick("top","right","bottom","left").value(),c={xPos:a.left,yPos:a.top,right:a.right,bottom:a.bottom,fullX:a.left,fullY:a.top};return c.height=c.fullHeight=Math.abs(c.bottom-c.yPos),c.width=c.fullWidth=Math.abs(c.right-c.xPos),c}});return h}),define("models/presentation/ExpandingLabelSlideObject",["require","lodash","helpers/constants","models/presentation/GroupingSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("models/presentation/GroupingSlideObject"),e=a("helpers/utils"),f=d.extend({shorthand:["colors","background","borderColor"],isGroupingContainer:!0,initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:c.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var a=b(this.colors()),c=a.findWhere({name:"border"}),d=a.findWhere({name:"bg"});if(c){var f=b.first(c.fill.colors),g=e.toRgba(f.rgb,f.alpha);this.set("borderColor",g)}d&&this.set("background",d)}});return f}),define("models/presentation/DropListSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=(a("models/BaseModel"),a("models/presentation/SlideObject")),e=a("helpers/utils"),f=e.createSuper(d),g=d.extend({variableProps:{SelectedItemIndex:{type:c.varTypes.NUM,value:-1}},initialize:function(){this.origItemsList=e.getPath(this,"data.itemlist").slice(),this.itemslist=this.origItemsList.slice(),this.createIdxHash(),this.shuffleItems()},createIdxHash:function(){this.itemsIdx=this.itemslist.reduce(function(a,b,c){return a[b.itemdata]=c,a},{})},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=b.shuffle(this.itemslist))},setResumeData:function(){f("setResumeData").apply(this,arguments);var a=this.prop("SelectedItemIndex");a>=0&&this.prop("SelectedItemData",this.origItemsList[a].itemdata)}});return g}),define("models/presentation/DropareaSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils","helpers/constants"],function(a){"use strict";var b=(a("lodash"),a("models/presentation/SlideObject")),c=(a("helpers/utils"),a("helpers/constants")),d=b.extend({variableProps:{SelectedItem:{type:c.varTypes.NUM,value:-1}}});return d}),define("models/presentation/DragitemSlideObject",["require","lodash","models/presentation/SlideObject","helpers/constants","helpers/utils","helpers/resume/Chunk"],function(a){"use strict";var b=(a("lodash"),a("models/presentation/SlideObject")),c=a("helpers/constants"),d=a("helpers/utils"),e=a("helpers/resume/Chunk"),f=d.createSuper(b),g=4,h=512,i=function(a,b){return 0===(a&b)?a:a-b},j=b.extend({variableProps:{SelectedItem:{type:c.varTypes.NUM,value:-1}},buildResumeData:function(){var a,b;return b=f("buildResumeData").apply(this,arguments),"wordbank"===this.get("style")&&this.prop("SelectedItem")>=0&&(a=e.fromUnsignedString64(this.encodedResumeData.slice(0,3)),a=i(a,g),a=i(a,h),this.encodedResumeData=e.toUnsignedString64(a,3)+this.encodedResumeData.slice(3)),b}});return j}),define("models/presentation/SequenceCtrlSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=(a("models/BaseModel"),a("models/presentation/SlideObject")),e=a("helpers/utils"),f=function(){return b.range(10).reduce(function(a,b){return a["_pos"+b]={type:c.varTypes.STRING,value:"",resume:!1},a},{})},g=b.extend(f(),{ItemOrder:{type:c.varTypes.STRING,value:""}}),h=d.extend({variableProps:g,initialize:function(){this.setupItemsList()},setupItemsList:function(){var a;this.itemsListOrder=e.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce(function(a,b,c){return a[b.itemdata]=c,a},{}),this.itemslist=b.shuffle(this.itemsListOrder),a=this.itemslist.reduce(function(a,b,c){return a+this.itemsIdx[this.itemslist[c].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",a)},getIndexByData:function(a){return this.itemsIdx[a]}});return h}),define("models/presentation/SlideFrameSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("models/presentation/SlideObject")),c=a("helpers/utils"),d=c.createSuper(b),e=b.extend({shorthand:["background"],initialize:function(){d("initialize").apply(this,arguments),this.getLayer().once("data:updated",this.onLayerDataUpdated.bind(this))},getPathRef:function(){return this.background().vectorData.pr},onLayerDataUpdated:function(){var a=this.getClosestParentRef();a.isGroupingSlideObject&&this.listenTo(a,"hide",this.onParentGroupHide.bind(this))},onParentGroupHide:function(){this.prop("OnStage",!1),this.trigger("hide")}});return e}),define("collections/presentation/SlideObjects",["require","lodash","collections/BaseCollection","models/presentation/SlideObject","models/presentation/GroupingSlideObject","models/presentation/StateGroupSlideObject","models/presentation/ShuffledGroupingSlideObject","models/presentation/TextInputSlideObject","models/presentation/ScrollAreaSlideObject","models/presentation/ExpandingLabelSlideObject","models/presentation/DropListSlideObject","models/presentation/DropareaSlideObject","models/presentation/DragitemSlideObject","models/presentation/SequenceCtrlSlideObject","models/presentation/SlideFrameSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/SlideObject"),e=a("models/presentation/GroupingSlideObject"),f=a("models/presentation/StateGroupSlideObject"),g=a("models/presentation/ShuffledGroupingSlideObject"),h=a("models/presentation/TextInputSlideObject"),i=a("models/presentation/ScrollAreaSlideObject"),j=a("models/presentation/ExpandingLabelSlideObject"),k=a("models/presentation/DropListSlideObject"),l=a("models/presentation/DropareaSlideObject"),m=a("models/presentation/DragitemSlideObject"),n=a("models/presentation/SequenceCtrlSlideObject"),o=a("models/presentation/SlideFrameSlideObject"),p=a("helpers/utils"),q=function(a){return a.abilities.groupObjects},r={objgroup:e,stategroup:f,shufflegroup:g,textinput:h,scrollarea:i,expandinglabel:j,droplist:k,droparea:l,dragitem:m,sequencectrl:n,slideframe:o},s=c.extend({model:function(a,b){var c=r[a.kind]||d;return p.buildDataStructure(c,b,a)},findNestedObject:function(a){var c;return b.find(this.filter(q),function(b){return c=b.objects().get(a),!!c}),c}});return[e,g,f,i,j].forEach(function(a){a.addAssociation("objects",s)}),s}),define("models/presentation/SlideLayer",["require","lodash","models/BaseModel","helpers/actionManager","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideLayerResumable","models/presentation/mixins/propertizable","helpers/assetManager","mixins/actionable","collections/presentation/AudioLib","collections/presentation/SlideObjects","collections/presentation/Variables","models/presentation/Timeline","collections/presentation/Animations","helpers/resolver","helpers/pubSub","helpers/keyManager"],function(a){
"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=(a("helpers/actionManager"),a("models/presentation/mixins/eventable")),e=a("mixins/varPropListenable"),f=a("models/presentation/mixins/resumables/slideLayerResumable"),g=a("models/presentation/mixins/propertizable"),h=a("helpers/assetManager"),i=a("mixins/actionable"),j=a("collections/presentation/AudioLib"),k=a("collections/presentation/SlideObjects"),l=a("collections/presentation/Variables"),m=a("models/presentation/Timeline"),n=a("collections/presentation/Animations"),o=a("helpers/resolver"),p=a("helpers/pubSub"),q=a("helpers/keyManager"),r="custom",s=c.extend({mixins:[d,i,f,g,e],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(a,b){return b.findNestedObject(a)}},shortEvents:{timeline:{complete:"onTimelineComplete"},self:{"action:show_slidelayer":"show","action:hide_slidelayer":"hide","action:setactivetimeline":"setActiveTimeline","action:pause_timeline":"onPauseTimeline","action:pause_animations":"pauseTimeline","action:resume_timeline":"resumeTimeline"}},abilities:function(){return{resolveAsThis:!this.isBaseLayer(),beEventTarget:!this.isBaseLayer(),resolveAsParent:!this.isBaseLayer()}},associations:{objects:k,audiolib:j,timeline:m,variables:l,animations:n},isSlideLayer:!0,initialize:function(){this.abilities=this.abilities(),this.isBaseLayer()&&(this.depth(0),this.baseLayerPauses=[]),this.createObjectIndex()},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return h.getAssetUrl(this.background().imagedata.assetId)},isPenetrable:function(){return!this.modal()},setAsTopMostLayer:function(a){return this.determineObjectVisibility(a),this.executePlayerEvent(a?"ontopmostlayer":"endtopmostlayer"),this},determineObjectVisibility:function(a){var b=this.get("hideobjectsondisplay")||[];return b.forEach(function(b){var c=o.resolvePath(b.value,this);c.setHiddenByLayer(!a,this.id)}.bind(this)),setTimeout(function(){p.trigger("slideLayer:resolvedObjectVisibility")}.bind(this),0),this},toggleVisibility:function(a,b,c){var d="show"===a,e=d?"shown":"hidden",f=null!=c&&c.transition===r,g=function(){c&&"oncomplete"===c.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger(e,this),this.visibleState=d,d&&this.get("modal")&&q.setCurrentModal(this),this.executePlayerEvent("ontransitionincomplete")}.bind(this);if(d){if(this.setAsViewed(),this.shownInCurrentView=!0,c&&"onstart"===c.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger("activated",this),this.isOpen)return this;this.resume()||this.wasForcedResumed||this.resetResume(),this.timeline().pause(),this.isOpen=!0}else{if(this.wasForcedResumed=!1,!this.isOpen)return this;this.isOpen=!1}if(this.cancelTransition(),f){var h=this.animations().get(c.animationId);this.trigger(a+r,c,this,h,g)}else g();return this},setActiveTimeline:function(a){var b=o.getRef(a.objRef,this),c=o.resolvePath(b,this),d=c.isSlide?c.slideLayers().getBaseLayer():c,e=d.timeline();return this.trigger("timeline:changed",e),p.trigger("layer:timelineActived",d),this},cancelTransition:function(){this.trigger("cancelTransition")},pauseTimeline:function(a){this.timeline().pause(a)},resumeTimeline:function(){(this.isOpen||this.isBaseLayer())&&(p.trigger("timeline:currentTimeline",this.timeline()),this.timeline().play())},getIsTimelinePaused:function(){var a=this.timeline();return a.hasStarted()&&!a.isPlaying()},pauseTimelineFromLayer:function(a){this.isBaseLayer()&&(this.baseLayerPauses.push(a),this.baseLayerPauses=b.unique(this.baseLayerPauses),1===this.baseLayerPauses.length&&(this.shouldPlayOnCloseLayer=!this.getIsTimelinePaused(),this.pauseTimeline()))},resumeTimelineFromLayer:function(a){this.isBaseLayer()&&(this.baseLayerPauses=b.without(this.baseLayerPauses,a),0===this.baseLayerPauses.length&&this.shouldPlayOnCloseLayer&&this.resumeTimeline())},isTimelineLayerPlayable:function(){return 0===this.baseLayerPauses.length},onTimelineComplete:function(){p.trigger("preview:notify",this.isBaseLayer()?"PREVIEW_SLIDE_COMPLETE":"PREVIEW_SLIDELAYER_COMPLETE"),this.getClosestThisRef().executePlayerEvent("ontimelinecomplete")},pauseVideos:function(a){a.each(function(a){a.isKind("video")?a.trigger("slideLayer:pauseTimeline"):a.isGroupingSlideObject&&this.pauseVideos(a.objects())}.bind(this))},onPauseTimeline:function(){this.pauseVideos(this.objects())},createObjectIndex:function(){var a=0;this.objectIndex=[],this.objDecendants=[];var b=function(c){c.forEach(function(c){var d=c.isKind("shufflegroup");d||(this.objectIndex.push(c),c.setSlideIndex(a++),this.objDecendants.push(c)),c.objects&&b(c.objects()),d&&this.objDecendants.push(c)}.bind(this))}.bind(this);return b(this.objects()),this},getObjectByIndex:function(a){return this.objectIndex[a]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(a){this.isBaseLayer()||a||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0}}),t=s.prototype;return t.show=b.partial(t.toggleVisibility,"show","ontopmostlayer"),t.hide=b.partial(t.toggleVisibility,"hide","endtopmostlayer"),s}),define("collections/presentation/SlideLayers",["require","lodash","collections/BaseCollection","models/presentation/SlideLayer","helpers/pubSub","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/SlideLayer"),e=(a("helpers/pubSub"),a("helpers/resume/Chunk")),f=function(a){return!a.isBaseLayer()&&!a.isShowable},g=c.extend({model:d,shortEvents:{self:{hidden:"onLayerHidden",hideOtherLayers:"onHideOtherLayers",activated:"onLayerActivated"}},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},onHideOtherLayers:function(a){var c=b.indexOf(this.activeLayers,a);return-1===c&&(c=this.activeLayers.length),b.invoke(b.take(this.activeLayers,c),"hide"),this},pauseBaseLayer:function(a){return this.getBaseLayer().pauseTimelineFromLayer(a),this},pauseAll:function(a){this.invoke("pauseTimeline",a),this.invoke("cancelTransition")},playBaseLayer:function(a){return this.getBaseLayer().resumeTimelineFromLayer(a),this},getSlide:function(){return this.getClosestAncestorWithAssoc(g)},hideAllHideableLayers:function(){b.invoke(this.filter(f),"hide")},onLayerActivated:function(a){var c=this.getTopMostLayer(),d=c===a;d||null==c||c.setAsTopMostLayer(!1),a.pauseParent()&&!b(this.activeLayers).contains(a)&&this.pauseBaseLayer(a),this.bringToFront(a),a.setAsTopMostLayer(!0)},getTopMostLayer:function(){return b(this.activeLayers).last()},onLayerHidden:function(a){var c=this.getTopMostLayer(),d=a===c;b(this.activeLayers).contains(a)&&(d&&a.setAsTopMostLayer(!1),this.removeLayerFromActive(a),c=this.getTopMostLayer(),d&&null!=c&&c.setAsTopMostLayer(!0),this.getSlide().currentTimeline()===a.timeline()&&this.trigger("timeline:changed",this.getBaseLayer().timeline()),a.pauseParent()&&this.playBaseLayer(a))},bringToFront:function(a){return this.activeLayers=b(this.activeLayers).without(a).push(a).value(),this.remapLayerDepths(),this},removeLayerFromActive:function(a){return this.activeLayers=b.without(this.activeLayers,a),this.remapLayerDepths(),this},remapLayerDepths:function(){this.activeLayers.forEach(function(a,b){a.depth(b+1)})},resetActiveLayers:function(){return b.forEach(this.activeLayers,function(a){a.isOpen=!1}),this.activeLayers=[],this},restoreActiveLayers:function(a){for(var b,c=new e({fullString:a});c.encodedString().length>0;)b=this.at(c.getUnsignedValue()+1),b.show().setAsShowable(),c=c.reChunk();this.getBaseLayer().shouldPlayOnCloseLayer=!0},getActiveLayersResumeData:function(){return this.activeLayers.reduce(function(a,b){return a+e.create(e.toSignedString64(b.index()-1))},"")}});return g}),define("models/presentation/mixins/resumables/interactionResumable",["require","lodash","helpers/constants","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("helpers/resume/Chunk"),e=[c.statuses.CORRECT,c.statuses.INCOMPLETE,c.statuses.INCORRECT,c.statuses.NEUTRAL],f=function(a,b){return a>-1?"0"+d.toUnsignedString64(a,2):"1"+d.create(b)},g=function(a,b){return[a,b].join(".")},h=b.partial(g,"statements"),i=b.partial(g,"choices"),j={init:function(){b.bindAll(this,"responseToResumeData")},updateInitialAttemptCount:function(){this.initialAttemptCount=this.prop("AttemptCount"),this.responsesBuiltOnExit=!1},getResumeData:function(){var a=this.prop("AttemptCount"),b=d.toUnsignedString64(a,2);return this.initialAttemptCount!==a||this.responsesBuiltOnExit||this.buildResponses(),b+=[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,a>0?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getAttemptResumeData:function(){return[e.indexOf(this.prop("Status")),d.create(d.toSignedString64(this.prop("Score"))),d.create(d.toSignedString64(this.prop("LastScore"))),d.create(d.toSignedString64(this.prop("AnswerIndex")))].join("")},getNoAttemptResumeData:function(){var a=this.responses||[],b=d.toUnsignedString64(a.length,2);return b+a.map(this.responseToResumeData.bind(this)).join("")},responseToResumeData:function(a){var c,e,g,h=this.isValidResponse(a),i=this.isPairResponse(a),j=(h?2:0)+(i?1:0),k=d.toUnsignedString64(j,1);return h&&(e=i?a.choiceResponse:a,b.isString(e)||(e=e.value()),g=b.findIndex(this.choices(),{id:e.split(".")[1]}),k+=f(g,e),i&&(c=b.findIndex(this.statements(),{id:a.statementResponse.split(".")[1]}),k+=f(c,a.statementResponse))),d.create(k)},reset:function(){this.resetResume(!0)},resetResume:function(a){a===!0?this.resetProps():this.resetPropsExcept("LastScore"),this.resetResponses()},resetResponses:function(){this.responses=[],this.curAnswer=null},setResumeData:function(a){if(null!=a&&""!==a){var b=function(b){var c=a.slice(0,b);return a=a.slice(b),c};this.prop({AttemptCount:d.fromUnsignedString64(b(2)),Answered:"1"===b(1),Unanswered:"1"===b(1)}),this.prop("AttemptCount")>0?this.setAttemptResumeData(a):this.setNoAttemptResumeData(a)}},setAttemptResumeData:function(a){var b=function(b){var c=a.slice(0,b);return a=a.slice(b),c},c=parseInt(b(1)),f=new d({fullString:a}),g=f.reChunk(),h=g.reChunk(),i=h.getSignedValue();this.prop({Status:e[c],Score:f.getSignedValue(),LastScore:g.getSignedValue(),AnswerIndex:i}),this.curAnswer=this.answers()[i]},setNoAttemptResumeData:function(a){for(var b,c,e,f,g,j,k,l,m=function(b){var c=a.slice(0,b);return a=a.slice(b),c},n=function(){return"0"===m(1)},o=function(){var b=new d({fullString:a}),c=b.encodedString();return a=b.remainder(),c},p=d.fromUnsignedString64(m(2)),q=new d({fullString:a});p--;)a=q.encodedString(),q=q.reChunk(),b=d.fromUnsignedString64(m(1),10),c=1&b,e=2&b,e&&(n()?(g=d.fromUnsignedString64(m(2)),k=this.choices()[g].id,f=i(k)):f=o(),c&&(n()?(j=d.fromUnsignedString64(m(2)),l=h(this.statements()[j].id)):l=o(),f={choiceResponse:f,statementResponse:l}),this.responses=this.responses||[],this.responses.push(f))}};return j}),define("helpers/interactionHelper",["require","lodash","backbone","helpers/utils","helpers/errorManager","helpers/conditioner","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=(a("backbone"),a("helpers/utils"),a("helpers/errorManager")),d=a("helpers/conditioner"),e=(a("helpers/actionManager"),c.warn("interactionHelper")),f=function(a,b){return b.length===a.length},g=function(a,b){var c=a.getClosestAncestorByKind("slide");return d.evaluateStatement(b,c)},h={};h.multiplechoice=h.truefalse=h.hotspot=h.wordbank=h.multipleresponse=[f,function(a,b,c){return g(c,{kind:"and",statements:a.map(function(a){return{kind:"compare",operator:a.ignorecase?"ichas":"has",valuea:b,valueb:a.choiceid,typea:"object",typeb:"string"}})})}],h.sequence=h.matching=[function(a,c,d){var e=b.zip(a,c).map(function(a){return b.extend.apply(b,a)});return g(d,{kind:"and",statements:e})}],h.numeric=[function(a,b,c){return g(c,{kind:"and",statements:a.map(function(a){return a.statement})})}],h.fillin=[function(a,b,c){var d=c.prop("Value")[0];return g(c,{kind:"or",statements:a.map(function(a,b){return{kind:"compare",operator:a.ignorecase?"iceq":"eq",valuea:d,valueb:c.getChoiceById(a.choiceid).lmstext,typea:"string",typeb:"string"}})})}];var i={setCurrInteraction:function(a){return this.interaction=a,this},getChosenAnswer:function(a){return b.find(this.interaction.answers(),function(b){return this.evaluateResponses(a,b)}.bind(this))},evaluateAnswers:function(a){if(!this.interaction)return void e("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.");var b=this.getChosenAnswer(a);return b||e("evaluateAnswers","no answer found."),b},evaluateResponses:function(a,b){return this.performEvaluation(a,b)},isOther:function(a){var c=b.first(a.evaluate.statements);return!!c&&"other"===c.kind},getEvalFns:function(){return h[this.interaction.type()]},performEvaluation:function(a,c){var d=this.interaction,e=this.getEvalFns();return this.isOther(c)||!b.isEmpty(e)&&e.every(function(b){return b(c.evaluate.statements,a,d)}.bind(this))}};return i}),define("models/presentation/interactions/Interaction",["require","lodash","models/BaseModel","helpers/constants","helpers/conditioner","helpers/resume/resumer","views/helpers/dom","models/presentation/mixins/resumables/interactionResumable","helpers/interactionHelper","models/presentation/mixins/propertizable","mixins/actionable","helpers/actionManager","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("helpers/constants"),e=a("helpers/conditioner"),f=a("helpers/resume/resumer"),g=a("views/helpers/dom"),h=a("models/presentation/mixins/resumables/interactionResumable"),i=a("helpers/interactionHelper"),j=a("models/presentation/mixins/propertizable"),k=a("mixins/actionable"),l=a("helpers/actionManager"),m=a("helpers/utils"),n=function(a){return/^choices/.test(a)},o={};o.essay=o.numeric=o.fillin=function(a){return[g.writeNode("answer"),a,g.writeCloseNode("answer")].join("")},o.likert=o.sequence=o.matching=function(a){var b=this.getChoiceById(a.choiceResponse),c=this.getStatementById(a.statementResponse);return g.writeNode("answer",{statementid:c.lmstext,choiceid:b.lmstext},!0)},o.multiplechoice=o.truefalse=o.hotspot=o.wordbank=o.multipleresponse=function(a){var b=this.getChoiceById(a);return null!=b?g.writeNode("answer",{choiceid:b.lmstext},!0):void 0};var p={numeric:function(a,b,c){return a.push(e.statementToString(b.statement,this)),a},matching:function(a,b,c){return a.push({choice:this.getChoiceById(b.choiceid),statement:this.getStatementById(b.statementid)}),a},"default":function(a,b,c){return a.push(this.getChoiceById(b.choiceid)),a}};p.sequence=p.matching;var q=function(a,c,d){return b.findWhere(a.get(c),{id:d.replace(c+".","")})},r=c.extend({mixins:[k,j,h],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],subscriptions:{"player:reset":"reset"},shortEvents:{self:{"action:eval_interaction":"onEvalInteraction","action:addchoiceresponse":"onAddChoiceResponse","action:addpairresponse":"onAddPairResponse"}},playerPropNames:{AttemptCount:0,Status:d.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=b.partial(q,this,"choices"),this.getStatementById=b.partial(q,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var a=this.prop("AttemptCount")+1;return this.prop("AttemptCount",a),this},appendAttempts:function(){return this.attempts.push(b.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:f.getCourseTime()})),this},setAsViewed:function(a){this.prop("Viewed",a)},setStatusFromCurAnswer:function(){var a;return a=null!=this.curAnswer?this.curAnswer.status:this.get("issurvey")?d.statuses.NEUTRAL:d.statuses.INCORRECT,this.prop("Status",a),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.curAnswer.points,Score:this.curAnswer.points}),this},evaluate:function(a){return this.attempt().updateCurAnswer().setScore().setStatusFromCurAnswer().appendAttempts().trigger("interaction:evaluated",this).executeAnswerActions(a),this},updateUserResponse:function(){return this.buildResponses(),this.hasValidResponses()&&this.updateCurAnswer(),this},updateCurAnswer:function(){var a=this.isType("numeric")?parseFloat:b.identity;return this.curAnswer=i.setCurrInteraction(this).evaluateAnswers(this.responses.map(a)),this.setAsAnswered().setAnswerIndex(),this},executeAnswerActions:function(a){var b=this.curAnswer;null!=a&&b&&l.executeActions(b.actions,{context:this.getClosestAncestorByKind("slide")})},buildResponses:function(){var a=this.responseDefinition().actions;return this.responses=[],null!=a&&(l.executeActions(a,{context:this.getClosestAncestorByKind("slide")}),this.updateValue()),this},updateValue:function(){var a=this.isType("numeric"),c=a?"first":"identity",d=a?parseFloat:b.identity;return this.prop("Value",b[c](this.responses.map(d))),this},addResponse:function(a){return this.responses.push(a),this},onEvalInteraction:function(a){this.buildResponses().evaluate(a)},onAddChoiceResponse:function(a){var c={string:b.identity,"var":function(a){return this.resolvePath(a).value()}},d=c[a.type]||this.resolvePath;this.addResponse(d.call(this,a.value))},onAddPairResponse:function(a){var b=a.valuea,c=a.valueb;this.addResponse({statementResponse:b,choiceResponse:n(c)?c:this.resolvePath(c)})},getCorrectAnswer:function(){return b.find(this.answers(),{status:d.statuses.CORRECT})},getCorrectResponse:function(){var a=this.getCorrectAnswer(),c=p[this.type()]||p["default"];return b.reduce(a?a.evaluate.statements:[],c.bind(this),[])},evaluateUnanswered:function(){if(!this.hasValidResponses())return this.attempt(),this.setStatusFromCurAnswer(),this.prop("Answered",!0),void this.trigger("interaction:evaluated",this);var a=this.prop("AnswerIndex");this.prop("Score");a>-1&&(this.curAnswer=this.answers()[a],this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:this.curAnswer.points,Unanswered:!1,Answered:!0})),this.evaluate()},isPairResponse:function(a){return null!=a&&(null!=a.statementResponse||null!=a.choiceResponse)},isValidResponse:function(a){return null!=a&&(this.isPairResponse(a)?""!==a.statementResponse&&null!=a.statementResponse&&""!==a.choiceResponse&&null!=a.choiceResponse:""!==a)},hasResponses:function(){return null!=this.responses&&this.responses.length>0},hasValidResponses:function(){return this.hasResponses()&&this.responses.every(this.isValidResponse.bind(this))},isPassing:function(){return this.prop("Status")===d.statuses.CORRECT},markAttempts:function(){this.attempts.forEach(function(a){a.Sent=!0})},getAoSoapXml:function(){return 0===this.prop("AttemptCount")||0===this.attempts.length?"":[g.writeNode("interaction",{idRef:m.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),g.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(a,b,c,d){var e=c===d.length-1,f=o[this.type()].bind(this),h=[g.writeNode("attempt",{time:b.Latency,"final":e.toString(),pointsAwarded:b.Score,result:b.Status,sent:b.Sent})];return b.responses.map(f).forEach(function(a){h.push(a)}),h.push(g.writeCloseNode("attempt")),a.push(h.join("")),a}.bind(this),[]).join("")},getCorrectValues:function(){return this.prop("CorrectResponse")},getResponseValues:function(a){return(this.responses||[]).map(function(a){return b.isPlainObject(a)?{statement:this.getStatementById(a.statementResponse||a.statement),choice:this.getChoiceById(a.choiceResponse||a.choice)}:this.isType("numeric")||this.isType("fillin")||this.isType("essay")||this.isType("likert")?a.toString():this.getChoiceById(a.toString())}.bind(this))}}),s=r.prototype;return s.getLastScore=b.partial(s.prop,"LastScore"),r}),define("collections/presentation/interactions/Interactions",["require","collections/BaseCollection","models/presentation/interactions/Interaction"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/interactions/Interaction"),d=b.extend({model:c});return d}),define("helpers/audioPlaylistManager",["require","helpers/utils"],function(a){"use strict";var b,c=a("helpers/utils"),d=function(a){b=a},e=function(a){return b.load(c.stripPlayer(a.absoluteId))};return{initialize:d,load:e}}),define("models/presentation/Slide",["require","lodash","models/BaseModel","helpers/pubSub","models/presentation/mixins/eventable","mixins/actionable","mixins/varPropListenable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/slideResumable","collections/presentation/SlideLayers","collections/presentation/Variables","collections/presentation/interactions/Interactions","helpers/constants","helpers/assetManager","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/utils","helpers/scaler","helpers/vow","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("helpers/pubSub"),e=a("models/presentation/mixins/eventable"),f=a("mixins/actionable"),g=a("mixins/varPropListenable"),h=a("models/presentation/mixins/propertizable"),i=a("models/presentation/mixins/resumables/slideResumable"),j=a("collections/presentation/SlideLayers"),k=a("collections/presentation/Variables"),l=a("collections/presentation/interactions/Interactions"),m=a("helpers/constants"),n=a("helpers/assetManager"),o=a("helpers/audioPlaylistManager"),p=a("helpers/globalAudioManager"),q=(a("helpers/utils"),a("helpers/scaler")),r=a("helpers/vow"),s=(a("helpers/resolver"),{});s[m.statuses.INCOMPLETE]=1,s[m.statuses.INCORRECT]=2,s[m.statuses.CORRECT]=3,s[m.statuses.NEUTRAL]=4;var t=function(a,b){return s[a]-s[b]},u=c.extend({isSlide:!0,mixins:[e,f,i,h,g],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background"],playerPropNames:{Viewed:!1,WindowId:null,LastKeyCodeString:null,LastKeyCode:-1,LastKeyValue:null,LastKeyCtrl:!1,LastKeyShift:!1,LastKeyAlt:!1},resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(a,b){var c=b.getBaseLayer();return c.objects().get(a)||c.audiolib().get(a)||c.objects().findNestedObject(a)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:j,variables:k,interactions:l},shortEvents:{self:{"action:zoompan":"zoomPan","action:seek_timeline":"onSeekTimeline"},slideLayers:{"timeline:changed":"onTimelineChanged"},interactions:{"interaction:evaluated":"onInteractionEvaluated"}},subscriptions:{"slide:pauseTimeline":"onPauseTimeline","slide:playTimeline":"onPlayTimeline"},initialize:function(){this.viewed=!1,this.quizzes=[],this.loadedDfd=new r.Deferred,this.fullId([this.parent.id,this.id].join(m.PATH_DELIMITER)),this.onResetCurrentTimelineDelegate=this.onResetCurrentTimeline.bind(this)},resetCurrentTimeline:function(){return this.setCurrentTimeline(this.getBaseLayer().timeline()),this},url:function(){return this.get("html5url")},backgroundImageUrl:function(){return n.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return r.isResolved(this.loadedDfd)},load:function(a){var b=this.loadedDfd,c=b.resolve.bind(b,this),d=o.load(this),e=p.load(this.get("globalAudioId"));return this.isLoaded()?(b=new r.Deferred,r.when(a.loadAssets(),d,e).then(b.resolve.bind(b,this))):this.getScene().isMessageScene()?c():r.when(this.fetch(),a.loadAssets(),d,e).then(c),b.promise()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor(function(a){return a.isScene})},getSlideDraw:function(){return this.getClosestAncestor(function(a){return a.isSlideDraw})},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var a=this.get("viewGroupId");return a.length>0?a:this.id},getTransitionAnimation:function(){return this.get("showAnimationId")?this.getBaseLayer().animations().findWhere({id:this.get("showAnimationId")}):void 0},zoomPan:function(a,b){this.trigger("zoompan",{action:a,event:b})},triggerAction:function(a){return f.triggerAction.apply(this,arguments),f.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(a){this.setCurrentTimeline(a)},setAsViewed:function(){var a=this.viewed;return this.viewed=!0,this.prop("Viewed",!0),a||this.interactions().forEach(function(a){a.setAsViewed(!0)}),this.get("trackViews")&&d.trigger("slide:viewed",this),this},hasInteractions:function(){return this.interactions().length>0},setQuiz:function(a){this.quizzes.push(a)},onInteractionEvaluated:function(){this.updateInteractionData()},storeInteractionResults:function(){return this.interactions().forEach(function(a){a.initialAttemptCount===a.prop("AttemptCount")&&(a.responsesBuiltOnExit=!0,a.updateUserResponse())}),this},getInteractionAttempted:function(){var a=!1,b=this.interactions&&this.interactions();return b&&b.length>0&&(a=b.reduce(function(a,b){return a&&b.prop("AttemptCount")>0},!0)),a},getInteractionStatus:function(){var a,b,c=this.interactions&&this.interactions();return c&&c.length>0&&(b=c.reduce(function(a,b){return a[b.prop("Status")]=!0,a},{}),a=Object.keys(b).sort(t)[0]),a},getVariableChangeSubscriptions:function(){null==this.varAndPropSubscriptions&&(this.varAndPropSubscriptions=null==this.events()?[]:this.setVarAndPropListeners(),this.slideLayers().forEach(function(a){null!=a.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,a.setVarAndPropListeners()),a.objectIndex.forEach(function(a){null!=a.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,a.setVarAndPropListeners())}.bind(this))}.bind(this)))},removeVariableChangeSubscriptions:function(){null!=this.varAndPropSubscriptions&&(this.varAndPropSubscriptions.forEach(function(a){a.listener.stopListening(a.obj,a.event,a.callback)}),this.varAndPropSubscriptions=null)},calculateTotalScale:function(){var a,c=this.parentTransform?this.parentTransform.scale:1,d=q.getScale()||1,e=b.get(this,"currView.props.slideContainer.props.scale");return null!=this.parentTransform||null!=q.getScale()||null!=e?(a=c*d,this.pinchZoomScale&&(a*=this.pinchZoomScale),null!=e&&(a*=e),1/a):1},setCurrentTimeline:function(a){var b=this.currentTimeline();return null!=b&&b.off("reset",this.onResetCurrentTimelineDelegate),this.currentTimeline(a),a.on("reset",this.onResetCurrentTimelineDelegate),this.trigger("slide:currentTimeline"),this},onSeekTimeline:function(a){this.currentTimeline().seek(a.position)},onPauseTimeline:function(){this.wasPlaying=[],this.slideLayers().forEach(function(a){a.getIsTimelinePaused()||this.wasPlaying.push(a)}.bind(this)),this.slideLayers().pauseAll(!0)},onPlayTimeline:function(){this.wasPlaying&&this.wasPlaying.forEach(function(a){a.timeline().play()})},onResetCurrentTimeline:function(){var a=this.getBaseLayer().timeline(),b=this.currentTimeline();a===b?this.restart():(this.slideLayers().find(function(a){return a.timeline()===b}).prepareResumeData().resetBeforeView().applyResumeData(),b.play())},restart:function(){return this.prepareResumeData().resetBeforeView().applyResumeData(),this.beginPlayback()},reset:function(){return this.resetBeforeView(),this.beginPlayback()},beginPlayback:function(){return this.executePlayerEvent("onbeforeslidein"),this.currentTimeline().play(),this.executePlayerEvent("onslidestart"),this}});return u}),define("collections/presentation/Slides",["require","collections/BaseCollection","models/presentation/Slide"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Slide"),d=b.extend({model:c});return d}),define("models/presentation/mixins/resumables/sceneOrDrawResumable",["require","lodash","helpers/vow","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/resumer"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d=(a("models/presentation/helpers/utils"),a("helpers/resume/Chunk")),e=a("helpers/resume/resumer"),f="slides",g="slidedraws",h={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},i=function(a){return a.isSlideDraw||a.resume()||a.hasInteractions()},j={postInit:function(){var a;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(a=this.slidedraws().invoke("getSlidePromise"),c.after.apply(c,a).done(this.createDrawResumeArray.bind(this))))},getResumableArray:function(a){return this[a]().filter(i)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(i).reduce(function(a,b){return this.slidesResumeMap.push(b.index()),a.push(d.EMPTY_CHUNK),a}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(a,b){return b.createSlideResumeArray(),this.slidedrawsResumeMap.push(b.index()),a.push(d.create(b.getResumeData())),a}.bind(this),[])},createOrderArray:function(a){this.resumeOrder=a.map(function(a){return d.toUnsignedString64(this.sliderefs().indexOf(a),2)}.bind(this)).join("")},getMapIndexOf:function(a,b){return this[a].indexOf(b.index())},saveData:function(a,b){if(i(b)){var c=h.indexGetters[a],f=h.arrays[a],g=this[c](b);this[f][g]=d.create(b.getResumeData())}this.isScene?e.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){var a=this.isSlideDraw?"getDrawResume":"getSceneResume";return this[a]()},getDrawResume:function(){var a=this.variables();return[d.create(this.resumeOrder),this.slidesResume.join(""),a.length?d.create(a.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){var a=this.variables();return[a.length?d.create(a.getResumeDataOrReturn("")):"",this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},clearResumeData:function(){this.createSlideResumeArray()},setResumeData:function(a){if(""!==a&&null!=a){var b=this.isSlideDraw?"setDrawResume":"setSceneResume";this[b](a)}},setSceneResume:function(a){var b,c=new d({fullString:a}),e=c,f=this.variables();f.length&&(f.setResumeData(c.encodedString()),e=c.reChunk()),b=this.setSlideResumeData(e),this.setDrawsResumeData(b)},setDrawResume:function(a){var b,c=new d({fullString:a}),e=c.reChunk(),f=this.variables();this.setSlidesInResumeOrder(c.encodedString()),b=this.setSlideResumeData(e),f.length&&f.setResumeData(b.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(a){var b,c;for(this.resumeOrder=[];a.length>0;)b=a.slice(0,2),this.resumeOrder.push(d.fromUnsignedString64(b)),a=a.slice(2);c=this.resumeOrder.map(function(a){return this.sliderefs()[a]}.bind(this)),this.generateSlides(c)},setSlidesOrDrawsResumeData:function(a,b){var c,e=h.arrGetters[a],f=this[e](),g=this[h.arrays[a]];return f.forEach(function(a,e){c=b.encodedString(),g[e]=d.create(c),a.setResumeData(c),b=b.reChunk()}),b}};return j.saveSlideData=b.partial(j.saveData,f),j.saveDrawData=b.partial(j.saveData,g),j.getSlideMapIndexOf=b.partial(j.getMapIndexOf,h.maps[f]),j.getDrawMapIndexOf=b.partial(j.getMapIndexOf,h.maps[g]),j.getResumableSlidesArray=b.partial(j.getResumableArray,f),j.getResumableDrawsArray=b.partial(j.getResumableArray,g),j.setSlideResumeData=b.partial(j.setSlidesOrDrawsResumeData,f),j.setDrawsResumeData=b.partial(j.setSlidesOrDrawsResumeData,g),j}),define("models/presentation/SlideDraw",["require","lodash","helpers/pubSub","helpers/utils","helpers/vow","helpers/resolver","helpers/constants","collections/presentation/Slides","collections/presentation/Variables","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/sceneOrDrawResumable","helpers/actionManager"],function(a){
"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("helpers/utils"),e=a("helpers/vow"),f=a("helpers/resolver"),g=a("helpers/constants"),h=a("collections/presentation/Slides"),i=a("collections/presentation/Variables"),j=a("models/BaseModel"),k=a("mixins/actionable"),l=a("models/presentation/mixins/propertizable"),m=a("models/presentation/mixins/resumables/sceneOrDrawResumable"),n=a("helpers/actionManager"),o=function(a,c,d){var e=b.partial(b.findWhere,c);return d.filter(function(b){return null!=e({id:b.id})===a})},p=j.extend({isSlideDraw:!0,mixins:[m,k,l],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups"],shortEvents:{self:{"action:setdrawreview":"onSetDrawReview"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:i},subscriptions:{"player:reset":"generateDraw"},initialize:function(){this.slideDfd=new e.Deferred,c.once("data:initialized",this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var a=[this.parent.id,this.id].join(g.PATH_DELIMITER);this.slides().forEach(function(b){b.fullId(a)})},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return b.first(this.sliderefs())},getBottomSlide:function(){return b.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return d.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(a){var b=a.nextSibling();return b&&b.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){this.trigger("slidedraw:exit"),n.executeAction(this.exitaction(),{context:this})},getTop:function(){var a,c=this.sliderefs(),d=0,e=[];if(this.hasLockedTopSlide())for(e.push(this.getTopSlide());e.length&&b.last(e).linknext&&(a=c[d+1]);)e.push(c[++d]);return e},getBottom:function(){var a,c=this.sliderefs(),d=c.length-1,e=[];if(this.hasLockedBottomSlide())for(e.push(this.getBottomSlide());b.first(e).linkprev&&(a=c[d-1]);)e.unshift(c[--d]);return e},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(a){for(;a.length&&a[0].linkprev;)a.shift();for(;a.length&&b.last(a).linknext;)a.pop();return a},getMiddle:function(a,c){if(0>=c)return[];var d,e,f,g=this.shuffle(),h=[],i=this.getScene().getRefs(),j=b.partial(o,!1,i),k=b.partial(o,!0,i),l=j(a),m=function(a){return g?Math.floor(Math.random()*a):0};if(l.length<c)for(f=k(a);l.length<c;)l.push.apply(l,f.splice(m(f.len),1));for(;h.length<c&&l.length;){for(e=m(l.length),d=l[e];d.linkprev;)d=l[--e];for(;d;)h.push.apply(h,l.splice(e,1)),d=d.linknext&&l[e]}return h},getIncludedSlides:function(a){return a.filter(function(a){return a.shuffleinclude})},generateDraw:function(){var a,c,d,e=this.getTop(),f=this.getBottom(),g=this.getTrimmedSlides(),h=this.getIncludedSlides(g);return g=b.xor(g,h),c=(this.get("shuffle")?this.shufflecount():this.sliderefs().length)-(e.length+f.length+h.length),a=this.getMiddle(g,c),d=e.concat(h,a,f),this.generateSlides(d),this},generateSlides:function(a){this.trigger("draw:reset",this);var b=this.resolveSlides(a);return this.set("slides",new h(b,{parent:this})),a.forEach(function(a){this.getScene().addRef(a)}.bind(this)),this.createOrderArray(a),this.trigger("draw:resetcomplete",this),this},resolveSlides:function(a){return a.map(function(a){var c=d.prefixWithPlayer(a.id),e=b.cloneDeep(f.resolvePath(c,this));return e}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(a){this.isInReview=a.review}});return p}),define("collections/presentation/SlideDraws",["require","collections/BaseCollection","models/presentation/SlideDraw"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/SlideDraw"),d=b.extend({model:c});return d}),define("models/presentation/Scene",["require","models/BaseModel","helpers/vow","lodash","collections/presentation/Slides","collections/presentation/SlideDraws","collections/presentation/Variables","models/presentation/mixins/resumables/sceneOrDrawResumable","models/presentation/mixins/propertizable"],function(a){"use strict";var b=a("models/BaseModel"),c=a("helpers/vow"),d=a("lodash"),e=a("collections/presentation/Slides"),f=a("collections/presentation/SlideDraws"),g=a("collections/presentation/Variables"),h=a("models/presentation/mixins/resumables/sceneOrDrawResumable"),i=a("models/presentation/mixins/propertizable"),j=b.extend({isScene:!0,mixins:[h,i],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:e,slidedraws:f,variables:g},resolveables:["slides","slidedraws","variables","actionGroups"],shorthand:["startingSlide","isMessageScene"],initialize:function(){this.usedRefs=[]},addRef:function(a){this.usedRefs.push(a)},getRefs:function(){return this.usedRefs},hasDraws:function(){return this.slidedraws().length>0},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var a=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=new c.Deferred,c.after.apply(c,a).done(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var a=this.hasDraws()?d(this.slidedraws().pluck("slides")).invoke("slice").flatten().value():[];return this.slides().slice().concat(a)}});return j}),define("collections/presentation/Scenes",["require","collections/BaseCollection","models/presentation/Scene"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Scene"),d=b.extend({model:c,getNonMessageScenes:function(){return this.reject(function(a){return a.isMessageScene()})}});return d}),define("collections/presentation/SlideBank",["require","collections/BaseCollection"],function(a){"use strict";var b=a("collections/BaseCollection"),c=b.extend({});return c}),define("helpers/VideoLoader",["require","helpers/MediaLoader","helpers/utils","helpers/videoManager"],function(a){"use strict";var b=a("helpers/MediaLoader"),c=a("helpers/utils"),d=a("helpers/videoManager"),e=(c.createSuper(b),b.extend({createElement:function(){return this.setElement(d.getVideoElement(this.url)),this},teardown:function(){this.el.pause(),this.remove()}}));return e}),define("models/presentation/Asset",["require","lodash","helpers/AudioLoader","models/BaseModel","polyfills/detection","helpers/MediaLoader","helpers/utils","helpers/VideoLoader","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("helpers/AudioLoader"),d=a("models/BaseModel"),e=a("polyfills/detection"),f=a("helpers/MediaLoader"),g=a("helpers/utils"),h=a("helpers/VideoLoader"),i=a("helpers/vow"),j={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi".split(" "),audio:"mp3".split(" ")},k={audio:c,video:h},l=d.extend({shorthand:["url","type","width","height","mobiledx","mobiledy","captions"],initialize:function(){this.url(g.resolveAssetUrl(this.url())),this.inferType()},ext:function(){return b.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var a=this.ext();return this.type(b.reduce(j,function(c,d,e){return b.contains(d,a)?e:c},null)),this},load:function(){var a,b,c=this.type(),d="audio"===c;if(!this.isValid()||this.isLoaded&&(!d||!e.hasAudioApi()))return a=new i.Deferred,b=a.resolve().promise(),b.dfd=a,b;var g=k[c]||f,h=new g({type:this.type(),url:this.url(),autoload:!0});return h.promise.then(function(){this.isLoaded=!0}.bind(this)).always(h.teardown.bind(h)),h.promise.dfd=h.dfd,h.promise}});return l}),define("collections/presentation/Assets",["require","collections/BaseCollection","models/presentation/Asset"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Asset"),d=b.extend({model:c});return d}),define("collections/presentation/interactions/Quizzes",["require","collections/BaseCollection","helpers/resume/Chunk"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("helpers/resume/Chunk"),d=b.extend({getResumeData:function(){return this.invoke("getResumeData").map(c.create).join("")||c.create("")},setResumeData:function(a){return this.forEach(function(b){b.setResumeData(a.encodedString()),a=a.reChunk()}),a}});return d}),define("models/presentation/interactions/Quiz",["require","lodash","helpers/utils","helpers/constants","views/helpers/dom","helpers/resolver","helpers/external/tinCan","models/BaseModel","collections/presentation/interactions/Quizzes","collections/presentation/SlideRefs","mixins/actionable","helpers/resume/resumer","models/presentation/mixins/propertizable","helpers/pubSub","helpers/vow","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/constants"),e=a("views/helpers/dom"),f=a("helpers/resolver"),g=(a("helpers/external/tinCan"),a("models/BaseModel")),h=a("collections/presentation/interactions/Quizzes"),i=a("collections/presentation/SlideRefs"),j=a("mixins/actionable"),k=a("helpers/resume/resumer"),l=a("models/presentation/mixins/propertizable"),m=a("helpers/pubSub"),n=a("helpers/vow"),o=a("helpers/windowManager"),p=function(a){return!a.prop("Answered")},q=function(a){return 0===a.prop("AttemptCount")},r=function(a){return a.prop("Viewed")===!0},s=function(a){return r(a)&&p(a)},t=function(a){return r(a)&&q(a)},u=function(a){return a.get("istracked")===!0},v=function(a){return a.skipenabled()},w=function(a){return a.isSlide||x(a)},x=function(a){return a.isSlideDraw},y=function(a){return Math.floor(100*a)/100},z=g.extend({mixins:[l,j],shorthand:["issurvey","passPercent","submitunanswered","scoretype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:i},playerPropNames:{mustPass:!0,QuizComplete:!1,AllQuestionsSubmitted:!1,AllQuestionsAnswered:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:{"action:eval_all_unanswered":"evalAllUnanswered","action:setquizcomplete":"setQuizComplete","action:nextviewedslide":"onNextReviewedSlide","action:resetquiz":"onResetQuiz"}},subscriptions:{"data:initialized":"onDataInitialized","slide:hasChanged":"onSlideHasChanged","player:reset":"onResetQuiz"},maxPoints:0,attempts:0,initialize:function(){this.referencesBuilt=new n.Deferred,this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences(),this.referencesBuilt.then(this.updateInteractionRefs.bind(this))},updateInteractionRefs:function(){this.updateMaxPoints(),this.updatePassScore(),this.listenForEvaluations(),this.listenForAnswered()},disconnectReferences:function(){null!=this.flatInteractions&&this.flatInteractions.forEach(function(a){this.stopListening(a)}.bind(this))},buildReferences:function(){return this.buildQuizzes(),this.slides=b(this.sliderefs().invoke("getSlide")).filter(w).value(),this.draws=this.slides.filter(x),this.waitForDraws(),n.after.apply(n,this.quizzes.map(b.property("referencesBuilt"))).then(this.referencesBuilt.resolve),this},waitForDraws:function(){var a=this.slides.filter(x),b=!0;a.forEach(function(a){var c=this.onDrawReceived.bind(this,a);this.listenTo(a,"change:slides",c),this.listenTo(a,"draw:reset",this.onDrawReset.bind(this)),this.listenTo(a,"draw:resetcomplete",this.onAfterDrawReset.bind(this)),null==a.slides()?b=!1:c()}.bind(this)),0===a.length&&this.afterDrawReceived()},onDrawReset:function(a){this.disconnectReferences(),a.slides().forEach(function(a){b.remove(this.slides,a)}.bind(this))},onAfterDrawReset:function(a){this.updateInteractionRefs()},onDrawReceived:function(a){var b=a.spliceIdx||this.slides.indexOf(a),c=a.spliceNum||1;a.spliceIdx=b,a.spliceNum=a.slides().length,this.slides.splice.apply(this.slides,[b,c].concat(a.slides().slice())),this.afterDrawReceived()},afterDrawReceived:function(){var a;return this.interactions=b(this.slides).invoke("interactions").compact().value(),this.flatInteractions=b(this.interactions).invoke("slice").flattenDeep().filter(u).value(),this.slides.forEach(function(a){null!=a.setQuiz&&a.setQuiz(this)}.bind(this)),this.flatInteractions.forEach(function(a,b){a.prop("QuestionIndex",b)}),a=0===this.flatInteractions.length,this.prop({AllQuestionsSubmitted:this.prop("AllQuestionsSubmitted")||a,AllQuestionsAnswered:this.prop("AllQuestionsAnswered")||a}),this},onSlideHasChanged:function(a){this.currentPlayerSlideId=a},getCurrentSlideIndex:function(){return b.findIndex(this.slides,function(a){return c.stripPlayer(a.absoluteId)===this.currentPlayerSlideId}.bind(this))},onNextReviewedSlide:function(a,c){var d,e=this.getCurrentSlideIndex()+1;e===this.slides.length?m.trigger("nextSlide:requesting",a.completed_slide_ref.value):(d=b.find(this.slides.slice(e),function(a){return b.contains(k.totalViewedSlides,a)}),null!=d&&m.trigger("nextSlide:requesting",d.absoluteId))},onResetQuiz:function(){this.resetProps(),this.completed=!1,b.invoke(this.flatInteractions,"resetResume",!0),this.slides.forEach(function(a){a.resetResume(),a.updateInteractionData().onAfterResumeBuilt()}),b.invoke(this.draws,"generateDraw"),this.updatePassScore().updateScore(),this.hasScoring()&&this.getScoring().prop("Completed",!1),k.savePresentationData(),this.attempts++},listenForEvaluations:function(){this.interactions.forEach(function(a){this.listenTo(a,"interaction:evaluated",this.onInteractionEvaluated)}.bind(this))},listenForAnswered:function(){this.flatInteractions.forEach(function(a){this.listenTo(a.getPlayerProps(),"change:Answered",this.onInteractionAnswered)}.bind(this))},buildQuizzes:function(){var a=(this.getClosestParentRef(),this.get("quizrefs")||[]);this.quizzes=a.map(function(a){var b=f.resolvePath(c.prefixWithPlayer(a.id),this);return b.prop({mustPass:a.mustpass,weight:a.weight}),b}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(a){a.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every(function(a){return a.prop("mustPass")&&a.isPassed()})},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return b.reduce(this.flatInteractions,function(a,c){return a+b.result(c,"getLastScore",0)},0)},calcChildScores:function(){return this.reduceQuizzes(function(a,b){return a+b.calcScore()},0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this.prop("Passed",this.isPassed()),this},calcPassScore:function(){return y(c.pctToDec(this.prop("PassPercent"))*this.maxPoints)},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return y(c.decToPct(this.prop("Score")/this.maxPoints))},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return b(this.flatInteractions).invoke("maxpoints").reduce(c.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes(function(a,b){return a+b.calcMaxPoints()},0)},reduceQuizzes:function(a,b){return 0===this.quizzes.length?b:this.quizzes.reduce(a.bind(this),b)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},onInteractionEvaluated:function(a){this.updateScore().updateAllQuestionsSubmitted(),m.trigger("interaction:evaluated",this,a)},onInteractionAnswered:function(a){this.prop("AllQuestionsAnswered",this.getUnansweredInteractions().every(v))},onChangeScoreProp:function(){this.updatePercentScore()},updateAllQuestionsSubmitted:function(){return this.prop("AllQuestionsSubmitted",this.getUnsubmittedInteractions().every(v)),this},getUnsubmittedInteractions:function(){var a="viewed"===this.submitunanswered()?t:q;return this.flatInteractions.filter(a)},getUnansweredInteractions:function(){var a="viewed"===this.submitunanswered()?s:p;return this.flatInteractions.filter(a)},attempted:function(){return this.flatInteractions.length!==this.getUnansweredInteractions().length},evalAllUnanswered:function(){var a=o.getCurrentWindowSlide();return null!=a&&a.storeInteractionResults(),this.prop("Evaluated")||(this.getUnsubmittedInteractions().forEach(function(a){a.evaluateUnanswered()}),this.quizzes.forEach(function(a){a.evalAllUnanswered()}),this.prop("Evaluated",!0)),this.quizzes.forEach(function(a){a.evalAllUnanswered()}),this.updateScore(),this.setResumeInMotion(),this.timeComplete=this.timeComplete||new Date,this},setQuizComplete:function(){var a=this.completed;this.completed=!0,this.prop("QuizComplete",this.quizzes.every(function(a){return a.getIsComplete()})),this.updateScore(),a||m.trigger("quiz:completed",this),this.hasScoring()&&this.getScoring().checkCourseComplete(),this.timeComplete=new Date},getIsComplete:function(){return this.prop("QuizComplete")===!0},setResumeInMotion:function(){this.slides.forEach(function(a){a.updateInteractionData().onAfterResumeBuilt()})},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("QuizComplete"))].join("")},setResumeData:function(a){this.prop({Evaluated:"1"===a.charAt(0),QuizComplete:"1"===a.charAt(1)}),this.updateScore(),this.hasScoring()&&this.getScoring().updateStatus(),this.updateAllQuestionsSubmitted()},setScoring:function(a){this.scoring=a},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach(function(a){a.markAttempts()}),this.quizzes.forEach(function(a){a.markAttemptsSent()})},getAoSoapXml:function(){var a=[e.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?a.push(this.getQuizzesXml()):(a.push(e.writeNode("interactions")),this.flatInteractions.forEach(function(b){a.push(b.getAoSoapXml())}),a.push(e.writeCloseNode("interactions"))),a.push(e.writeCloseNode("quiz")),a.join("")},getQuizAttributes:function(){var a=this.isType("survey"),b=this.getIsComplete()?d.statuses.COMPLETE:d.statuses.INCOMPLETE,c=this.isPassed()?d.statuses.PASSING:d.statuses.FAILING,e=a?b:c,f={idRef:this.id,duration:0,status:e};return a||(f.score=Math.floor(100*this.prop("Score"))/100,f.possibleScore=this.maxPoints),f},getQuizzesXml:function(){var a=[e.writeNode("quizzes")];return this.quizzes.forEach(function(b){a.push(b.getAoSoapXml())}),a.push(e.writeCloseNode("quizzes")),a.join("")}});return h.prototype.model=z,z}),define("models/presentation/interactions/Timer",["require","lodash","models/BaseModel","mixins/actionable","mixins/subscribable","models/presentation/mixins/eventable","helpers/resume/Chunk","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("models/BaseModel")),c=a("mixins/actionable"),d=a("mixins/subscribable"),e=a("models/presentation/mixins/eventable"),f=a("helpers/resume/Chunk"),g=a("helpers/utils"),h=b.extend({mixins:[c,e,d],shorthand:["events"],shortEvents:{self:{"action:showtimer":"onShowTimer","action:hidetimer":"onHideTimer","action:starttimer":"onStartTimer","action:pausetimer":"onPauseTimer","action:resettimer":"onResetTimer"}},onShowTimer:function(){this.trigger("show")},onHideTimer:function(){this.trigger("hide")},onStartTimer:function(){this.trigger("start")},onPauseTimer:function(){this.trigger("pause")},onResetTimer:function(){this.trigger("reset")},setResumeData:function(a){var b,c=this.currView;"1"===a.charAt(0)&&(null!=c?(this.trigger("show"),this.trigger("start"),b=f.fromSignedString64(a.substr(1)),c.elapsed(g.toSeconds(b),!0),this.deferredResumeData=""):this.deferredResumeData=a)},performDeferredResume:function(){null!=this.deferredResumeData&&this.setResumeData(this.deferredResumeData)},getResumeData:function(){var a=this.currView;return[a.started||a.resumeOnSlideReady?"1":"0",f.toSignedString64(g.toMilliseconds(a.elapsed()),3)].join("")}});return h}),define("collections/presentation/interactions/Timers",["require","collections/BaseCollection","models/presentation/interactions/Timer","helpers/resume/Chunk"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/interactions/Timer"),d=a("helpers/resume/Chunk"),e=b.extend({model:c,getResumeData:function(){return this.invoke("getResumeData").map(d.create).join("")||d.create("")},setResumeData:function(a){return this.forEach(function(b){b.setResumeData(a.encodedString()),a=a.reChunk()}),a}});return e}),define("models/presentation/AudioPlaylist",["require","lodash","helpers/appState","helpers/AudioLoader","helpers/audio/audioManager","models/BaseModel","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("helpers/appState"),d=a("helpers/AudioLoader"),e=a("helpers/audio/audioManager"),f=a("models/BaseModel"),g=a("helpers/vow"),h=function(a){return["presentation_content",a].join("/")},i=(new g.Deferred).resolve().promise(),j=(new g.Deferred).reject().promise(),k=f.extend({initialize:function(){this.clips={},this.onClipEndedDelegate=this.onClipEnded.bind(this),this.listenTo(c,"change:currentVolume",this.onVolumeChanged)},isPlaying:function(){return null!=this.currentlyPlayingIdx},getRelativeVolume:function(a){return this.get("volume")*a/100},play:function(){return this.get("filenames").length>0&&this.playIdx(0),this},playIdx:function(a){var b=this.get("filenames")[a],d=e.loadUrl(h(b));return d.on("audioClip:ended",this.onClipEndedDelegate),d.setVolume(this.getRelativeVolume(c.currentVolume())),d.play(),this.clips[a]=d,this.currentlyPlayingIdx=a,this.preloadNext(),this},stop:function(){return Object.keys(this.clips).forEach(this.stopIdx.bind(this)),delete this.currentlyPlayingIdx,this},stopIdx:function(a){var b=this.clips[a];return b.off("audioClip:ended",this.onClipEndedDelegate),b.destroy(),delete this.clips[a],this},pause:function(){return this.isPlaying()&&!this.isPaused&&(this.clips[this.currentlyPlayingIdx].pause(),this.isPaused=!0),this},resume:function(){return this.isPlaying()&&this.isPaused&&(this.clips[this.currentlyPlayingIdx].play(),this.isPaused=!1),this},load:function(){return this.get("filenames").length>0?this.loadIdx(0):i},loadIdx:function(a){var b=h(this.get("filenames")[a]),c=new d({type:"audio",url:b,autoload:!0});return c.promise.always(c.teardown.bind(c))},preloadNext:function(){var a=this.currentlyPlayingIdx+1;if(a>=this.get("filenames").length){if(!this.get("loop"))return j;a=0}return a===this.currentlyPlayingIdx?j:this.loadIdx(a)},onClipEnded:function(){var a=this.currentlyPlayingIdx+1;if(a>=this.get("filenames").length){if(!this.get("loop"))return void this.stopIdx(this.currentlyPlayingIdx);a=0}this.currentlyPlayingIdx!==a?(this.stopIdx(this.currentlyPlayingIdx),this.playIdx(a)):this.clips[this.currentlyPlayingIdx].seek(0).play()},onVolumeChanged:function(a,c){b.invoke(this.clips,"setVolume",this.getRelativeVolume(c))}});return k}),define("collections/presentation/AudioPlaylists",["require","lodash","models/presentation/AudioPlaylist","collections/BaseCollection","helpers/resolver","helpers/utils","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/AudioPlaylist"),d=a("collections/BaseCollection"),e=a("helpers/resolver"),f=a("helpers/utils"),g=a("helpers/vow"),h=(new g.Deferred).resolve().promise(),i=b.memoize(function(a){return e.resolvePath(f.prefixWithPlayer(a),null,{optional:!0})}),j=d.extend({model:c,subscriptions:{"slide:started":"onSlideStarted"},initialize:function(){this.onTimelinePlayingDelegate=this.onTimelinePlaying.bind(this),this.onTimelinePausedDelegate=this.onTimelinePaused.bind(this),this.onTimelineSeekStartDelegate=this.onTimelineSeekStart.bind(this),this.onTimelineSeekEndDelegate=this.onTimelineSeekEnd.bind(this)},findPlaylist:function(a){return this.find(function(b){return b.get("slideids").indexOf(a)>=0})},load:function(a){var b=this.findPlaylist(a);return null==b||b.isPlaying()?(null!=this.timeline&&(this.timeline.off("playing",this.onTimelinePlayingDelegate),this.timeline.off("paused",this.onTimelinePausedDelegate),this.timeline.off("seekStart",this.onTimelineSeekStartDelegate),this.timeline.off("seekEnd",this.onTimelineSeekEndDelegate),delete this.timeline),h):b.load()},onSlideStarted:function(a){var b=this.currentlyPlaying,c=this.findPlaylist(a);b!==c&&(null!=b&&b.stop(),null!=c&&c.play()),null!=c&&(this.timeline=i(a).getBaseLayer().timeline(),this.timeline.on("playing",this.onTimelinePlayingDelegate),this.timeline.on("paused",this.onTimelinePausedDelegate),this.timeline.on("seekStart",this.onTimelineSeekStartDelegate),this.timeline.on("seekEnd",this.onTimelineSeekEndDelegate)),this.currentlyPlaying=c},onTimelinePlaying:function(){this.seeking||this.currentlyPlaying.resume()},onTimelinePaused:function(){this.seeking||this.currentlyPlaying.pause()},onTimelineSeekStart:function(){this.seeking=!0},onTimelineSeekEnd:function(){this.seeking=!1}});return j}),define("models/presentation/Presentation",["require","lodash","helpers/vow","models/BaseModel","models/presentation/SlideMap","models/presentation/Display","models/presentation/Scoring","collections/presentation/Variables","collections/presentation/Scenes","collections/presentation/SlideBank","collections/presentation/Assets","models/presentation/interactions/Quiz","collections/presentation/interactions/Quizzes","collections/presentation/interactions/Timers","models/presentation/mixins/eventable","models/presentation/mixins/propertizable","collections/presentation/AudioPlaylists","collections/presentation/AudioLib","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/windowManager","helpers/pubSub","helpers/constants","mixins/actionable","mixins/varPropListenable"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d=a("models/BaseModel"),e=a("models/presentation/SlideMap"),f=a("models/presentation/Display"),g=a("models/presentation/Scoring"),h=a("collections/presentation/Variables"),i=a("collections/presentation/Scenes"),j=(a("collections/presentation/SlideBank"),a("collections/presentation/Assets")),k=(a("models/presentation/interactions/Quiz"),a("collections/presentation/interactions/Quizzes")),l=a("collections/presentation/interactions/Timers"),m=a("models/presentation/mixins/eventable"),n=a("models/presentation/mixins/propertizable"),o=a("collections/presentation/AudioPlaylists"),p=a("collections/presentation/AudioLib"),q=a("helpers/utils"),r=a("helpers/actionManager"),s=a("helpers/errorManager"),t=(a("helpers/windowManager"),a("helpers/pubSub")),u=(a("helpers/constants"),a("mixins/actionable")),v=a("mixins/varPropListenable"),w=s.throwError("Presentation"),x=function(a){return!a.isMessageScene()},y=d.extend({mixins:[u,m,v],resolveables:["variables"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:h}}),z=d.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[m,n],subscriptions:{"customlink:event":"onCustomlink","actionlink:event":"onActionlink","presentation:onobjectevent":"onObjectAction","error:interface":"onInterfaceError","slide:hasChanged":"onSlideChanged","data:initialized":"onDataInitialized"},url:function(){return q.resolveDataUrl("data")},associations:{slideMap:e,display:f,scoring:g,variables:h,scenes:i,assetLib:j,globalaudiolib:p,quizzes:k,timers:l,audioplaylists:o},resolveables:["scenes","variables","actionGroups","quizzes","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups","playerVars"],playerPropNames:{CurrentSlideId:null,LastErrorFeature:null},resolvers:{slideBank:function(a,c){return b.findWhere(c.slides,{id:a})}},getPlayerVarDefaultValues:function(){var a=this.get("playervars"),b={};return a.forEach(function(a){b[a.name]=a.value}),b},createPlayerVars:function(){var a=this.getPlayerVarDefaultValues(),b={displayCaptions:"boolean"},c=new y({variables:[{kind:"variable",name:"displayCaptions",type:b.displayCaptions||"boolean",value:a.displayCaptions||!1,resume:!1}]});this.playerVars(c)},onDataInitialized:function(){var a=b(this.scenes().models).invoke("slidedraws").map(function(a){return a.models}).flatten();a.some()?a.forEach(function(a){this.listenTo(a,"draw:resetcomplete",this.prepareToCreateSlideIndices.bind(this))}.bind(this)).commit():this.prepareToCreateSlideIndices(),null!=this.get("playervars")&&this.createPlayerVars()},getDrawPromise:function(){return null==this.drawPromise&&(this.drawPromise=c.after.apply(c,b.invoke(this.scenes().filter(x),"getDrawPromise"))),this.drawPromise},prepareToCreateSlideIndices:function(){this.getDrawPromise().done(this.createSlideIndices.bind(this))},getFlatSlides:function(a){var c=null!=a?x:Boolean;return b(this.scenes().filter(c)).invoke("getAllSlides").flatten().value()},getUniqueSlides:function(){var a=this.getFlatSlides(!0),b={};return a.reduce(function(a,c){var d=c.getViewGroupId(),e=c.get("trackViews");return e&&null==b[d]&&(b[d]=!0,a.push(c)),a},[])},createSlideIndices:function(){var a=0;this.scenes().forEach(function(c){c.slides().forEach(function(b){b.prop("Index",a++)}),c.slidedraws().forEach(function(c){var d=c.sliderefs();c.slides().forEach(function(c){c.prop("Index",a+b.findIndex(d,{id:c.id}))}),a+=d.length})})},onCustomlink:function(a){this.executePlayerEvent(a)},onActionlink:function(a){var c=b.get(b.find(this.get("actionlinks"),{id:a}),"actions");null==c?w("onActionLink","No action link with id",s.backtick(a)):r.executeActions(c,{context:this})},onObjectAction:function(a){var c=b.findWhere(this.events(),{eventname:a});null==c?w("onObjectAction","No such object action",s.backtick(a)):r.executeActions(c.actions,{context:this})},onInterfaceError:function(a){var b=this.get("errorMsgs").external_interface;this.prop("LastErrorFeature",a),t.trigger("nextSlide:requesting",b.slideId,b.window)},onSlideChanged:function(a,b){b||this.prop("CurrentSlideId",a)},isPreview:b.memoize(function(){return!!q.getPath(this,"preview.enabled")})});return z}),define("models/player/Link",["require","lodash","models/BaseModel","helpers/utils","collections/player/Links"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("helpers/utils"),e=a("collections/player/Links"),f=c.extend({associations:{links:e},shorthand:["slideid"],isLink:!0,initialize:function(){this.isActionLink=this.isType("action"),this.isKind("slidedrawref")?this.collection.prepareDrawSlides(this,this.get("drawid")):this.isActionLink||b.isEmpty(this.slideid())||this.slideid(d.prefixWithPlayer(this.slideid()))},findDeep:function(a){return this.slideid()===a?this:this.links().findDeep(a)},isOrHasChild:function(a){return!!this.findDeep(a)},hasChild:function(a){return this.links().hasChildSlide(a)}});return e.prototype.model=f,f}),define("models/player/NavData",["require","models/BaseModel","models/player/Link","collections/player/Links"],function(a){"use strict";var b=a("models/BaseModel"),c=(a("models/player/Link"),a("collections/player/Links")),d=b.extend({associations:{links:c}}),e=b.extend({associations:{outline:d}});return e}),define("models/player/ResourceData",["require","models/BaseModel","collections/BaseCollection"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/BaseCollection"),d=b.extend({shorthand:["description"],associations:{resources:c}});return d}),define("models/player/Player",["require","lodash","models/BaseModel","collections/BaseCollection","models/player/NavData","models/player/ResourceData","helpers/utils","helpers/constants","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("collections/BaseCollection"),e=a("models/player/NavData"),f=a("models/player/ResourceData"),g=a("helpers/utils"),h=a("helpers/constants"),i=a("helpers/pubSub"),j=c.extend({associations:{sidebarOptions:c.extend({associations:{tabs:c}}),bottomBarOptions:c,menuOptions:c,controls:c},subscriptions:{"controllayout:changed":"onChangeControls"},onChangeControls:function(a){
this.controls().set(a)}}),k=c.extend({associations:{navData:e,glossaryData:d,resourceData:f,notesData:d,controlOptions:j,layouts:c,controlLayouts:c,stringTables:c},url:function(){return g.resolveDataUrl("frame")},initialize:function(){this.on("sync",this.onDataSynced)},getTab:function(a){return this.controlOptions().sidebarOptions().tabs().get(a)||[]},getLayout:function(a){return this.layouts().get(a)},onDataSynced:function(){var a=this.getLayout(this.get("default_layout")),b=this.controlLayouts().get(a.controllayout);i.trigger("controllayout:changed",b),i.trigger("scheme:changed",a.colorscheme),i.trigger("player:menuOptions",this.controlOptions().menuOptions()),h.player.OUTPUT_TYPE=this.get("outputtype")}}),l=k.prototype;return l.getSidebar=b.partial(l.getTab,"sidebar"),l.getLinkLeft=b.partial(l.getTab,"linkLeft"),l.getLinkRight=b.partial(l.getTab,"linkRight"),k}),define("views/App",["require","lodash","helpers/utils","helpers/pubSub","react","views/mixins/baseView","polyfills/detection","helpers/scaler","helpers/appState","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/pubSub"),e=a("react"),f=a("views/mixins/baseView"),g=a("polyfills/detection"),h=a("helpers/scaler"),i=a("helpers/appState"),j=a("polyfills/vendorOverrides");(j.detectVisibilityChange||function(){window.addEventListener("visibilitychange",function(){d.trigger(["detection:visibility",document.hidden?"hidden":"shown"].join(""))})})();var k=e.createClass({displayName:"App",mixins:[f],subscriptions:{"loader:show":"onLoaderShow","loader:mute":"onLoaderMute","loader:unmute":"onLoaderUnmute","loader:hide":"onLoaderHide","loader:removeTitle":"onRemoveLoaderTitle","window:scale":"onWindowScale","detection:orientationChange":"onOrientationChange","detection:visibilityhidden":"onVisibilityHidden","detection:visibilityshown":"onVisibilityShown","keyManager:frameControlKey":"onFrameControlKey"},shortEvents:{player:{"change:orientations":"refreshOrientations"}},getInitialState:function(){return b.extend({},this.getIsTooBig(),{hasError:!1,scale:h.getScale()})},isRtl:function(a){return"rtl"===a.toLowerCase()},componentWillMount:function(){d.once("player:error",function(){this.setState({hasError:!0})}.bind(this)),this.sidebarOpts=this.getPath("props.player.controlOptions.sidebarOptions"),this.bottomBarOpts=this.getPath("props.player.controlOptions.bottomBarOptions"),this.setDeviceClasses().refreshOrientations()},widthChange:function(a){this.setState({isTooWide:!a.matches})},heightChange:function(a){this.setState({isTooTall:!a.matches})},refreshOrientations:function(){return this.setState({orientations:this.props.player.get("orientations")}),this},componentDidMount:function(){var a=this.props.presentation.display().get("width"),b=this.props.presentation.display().get("height");if(this.killMainLoader(),this.state.isTooTall&&document.body.classList.add("is-too-tall"),this.state.isTooWide&&document.body.classList.add("is-too-wide"),window.matchMedia){var c=window.matchMedia(["(min-width: ",a,"px)"].join(""));c.addListener(this.widthChange);var e=window.matchMedia(["(min-height: ",b,"px)"].join(""));e.addListener(this.heightChange)}d.trigger("app:complete")},componentDidUpdate:function(a,b){var c=this.state.isTooTall,d=this.state.isTooWide,e=b.isTooTall,f=b.isTooWide;e!==c&&document.body.classList[c?"add":"remove"]("is-too-tall"),f!==d&&document.body.classList[d?"add":"remove"]("is-too-wide")},onLoaderHide:function(){clearTimeout(this.loaderTimeout),this.setState({showLoader:!1})},onLoaderMute:function(){var a=this.getSpinLoader();null!=a&&(a.style.opacity=0)},onLoaderUnmute:function(){var a=this.getSpinLoader();null!=a&&(a.style.opacity=1)},showLoaderDelayed:function(a){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,a)},onLoaderShow:function(a){a>0?this.showLoaderDelayed(a):this.setState({showLoader:!0})},getSpinLoader:function(){return document.querySelector("body > .slide-loader")},killMainLoader:function(){var a=this.getSpinLoader();null!=a&&(g.isMobile?this.onLoaderMute():a.parentNode.removeChild(a))},onRemoveLoaderTitle:function(){var a=document.querySelector("body > .mobile-load-title-overlay");null!=a&&a.parentNode.removeChild(a)},setDeviceClasses:function(){return g.isMobile?(document.body.classList.add("is-mobile"),document.getElementById("preso").setAttribute("class","")):document.body.classList.add("is-desktop"),this.isRtl(this.props.player.get("textdirection"))&&document.documentElement.classList.add("text-direction-rtl"),(g.isWebObject||g.hideFrame)&&document.body.classList.add("hide-frame"),this},hasLeftLink:function(){return c.getPath(this.sidebarOpts,"tabs.linkLeft")},hasRightLink:function(){return c.getPath(this.sidebarOpts,"tabs.linkRight")},hasTopBar:function(){return this.sidebarOpts.get("titleEnabled")||this.hasRightLink()||this.hasLeftLink()||this.getPath("props.player.controlOptions.controls.elapsedandtotaltime")||this.props.presentation.timers().length>0},hasSidebar:function(){return this.sidebarOpts.get("sidebarEnabled")},hasBottomBar:function(){return this.bottomBarOpts.get("bottomBarEnabled")},hasMobileUi:function(){var a=this.hasRightLink()||this.hasLeftLink();return a&&document.body.classList.add("has-custom-links"),!!(this.hasSidebar()||this.hasBottomBar()||a||g.is360)},sidebarPos:function(){return this.sidebarOpts.get("sidebarPos")},getErr:function(){return this.state.hasError?"shown":"hidden"},onWindowScale:function(){this.setState(b.extend({},this.getIsTooBig(),{scale:h.getScale()})),this.forceUpdate()},onOrientationChange:function(){this.setState(this.getIsTooBig())},onVisibilityHiddenMobile:function(){this.lastVolume=i.currentVolume(),d.trigger("volume:changed",0)},onVisibilityShownMobile:function(){null!=this.lastVolume&&(d.trigger("volume:changed",this.lastVolume),delete this.lastVolume)},getIsTooBig:function(){var a=this.props.presentation.display().get("width"),b=this.props.presentation.display().get("height"),c=h.getWindowDimensions(),d=h.getScale(),e=null!=d;return{isTooTall:e?!1:b>c.height,isTooWide:e?!1:a>c.width}},initKeyboardShortcuts:function(){d.trigger("player:enableKeyboardShortcuts",this.getPath("props.player.controlOptions.controls.enableKeyboardShortcuts"))},onFrameControlKey:function(a){var b=this.props.presentation;a.HOME?b.executePlayerEvent("first_slide_triggered"):a.END?b.executePlayerEvent("last_slide_triggered"):a.M&&d.trigger("volume:toggle")}}),l=k.prototype;return b.extend(l,{onVisibilityShown:g.isMobile?l.onVisibilityShownMobile:b.noop,onVisibilityHidden:g.isMobile?l.onVisibilityHiddenMobile:b.noop}),k}),define("helpers/authorApi",["require","lodash","helpers/automation","helpers/actionManager","helpers/resolver","helpers/utils"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/automation"),e=a("helpers/actionManager"),f=a("helpers/resolver"),g=a("helpers/utils"),h=function(a){b=a,window.GetPlayer=l},i=function(a){var c=f.resolvePath(g.prefixWithPlayer(a),b);return c},j=function(a){var b=i(a);return null!=b?b.value():null},k=function(a,c){var d,f=i(a);null!=f&&(d={kind:"adjustvar",variable:f.absoluteId,operator:"set",value:{type:f.type(),value:c}},e.executeAction(d,{context:b}))},l=function(){var a=d.getPlayer&&d.getPlayer()||{};return c.extend(m,a)},m={GetVar:j,SetVar:k},n={initialize:h};return n}),define("helpers/previewHelper",["lodash","helpers/actionManager","helpers/errorManager","helpers/pubSub","helpers/resolver","helpers/utils"],function(a,b,c,d,e,f){"use strict";var g,h,i,j=c.throwError("previewHelper"),k={kind:"adjustvar",operator:"set"},l={kind:"reset_player"},m=function(a){var b=e.resolvePath(f.prefixWithPlayer(a),{context:i,optional:!0});if(null==b)throw new Error(["No object exists at path ",f.doubleQuote(a)].join(""));return b},n=function(a){var b=m(a);return b.isVar?b.value():b},o=function(c,d){var e=m(c);if(!e.isVar)throw new Error(["Object at",f.doubleQuote(c),"is not a variable"].join(" "));b.executeAction(a.defaults({variable:e.absoluteId,value:{type:e.type(),value:d}},k),{context:i})},p=function(a){d.trigger("nextSlide:requesting",f.prefixWithPlayer(a))},q=function(c){b.executeAction(a.defaults({startslideid:f.prefixWithPlayer(c)},l),{context:i})},r=function(a){var b=m(a);if(!b.isSlide)throw new Error(["Object at",f.doubleQuote(a),"is not a slide"].join(" "));b.reset()},s=function(a){h.set("orientations",a)},t={getValue:n,gotoSlide:p,overrideOrientations:s,resetPlayer:q,resetSlide:r,setVariable:o},u=function(a){g.postMessage(JSON.stringify(a),"*")},v=function(a,b){u({jsonrpc:"2.0",id:a,result:b})},w=function(a,b){u({jsonrpc:"2.0",id:a,error:{code:-1,message:b}})},x=function(a,b){u({jsonrpc:"2.0",method:a,params:b})},y=function(){x("notifyPreview",a.toArray(arguments))},z=function(a){var b=JSON.parse(a.data);try{v(b.id,t[b.method].apply(this,b.params))}catch(c){w(b.id,c.message)}},A=function(a,b){if(b.isPreview()){if(null==window.parent||window.parent===window)return void j("initialize","Cannot load parent window");h=a,i=b,g=window.parent,window.addEventListener("message",z),d.on("preview:notify",y),y("PREVIEW_FRAME_READY")}},B={initialize:A};return B}),define("helpers/svg/reactSvg",["require","react"],function(a){"use strict";var b=a("react"),c=b.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return b.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:c,accumulate:c,alignmentBaseline:c,alphabetic:c,amplitude:c,animate:c,arabicForm:c,ascent:c,attributeType:c,azimuth:c,baseFrequency:c,baselineShift:c,bbox:c,bias:c,by:c,calcMode:c,capHeight:c,clip:c,clipPathUnits:c,clipRule:c,colorInterpolation:c,colorInterpolationFilters:c,colorProfile:c,colorRendering:c,contentScriptType:c,contentStyleType:c,cursor:c,descent:c,diffuseConstant:c,direction:c,display:c,divisor:c,dominantBaseline:c,dur:c,edgeMode:c,elevation:c,enableBackground:c,end:c,exponent:c,externalResourcesRequired:c,feColorMatrix:c,feComposite:c,feGaussianBlur:c,feMorphology:c,feTile:c,fillRule:c,filter:c,filterRes:c,filterUnits:c,floodColor:c,floodOpacity:c,fontSizeAdjust:c,fontStretch:c,fontStyle:c,fontVariant:c,fontWeight:c,format:c,from:c,g1:c,g2:c,glyphName:c,glyphOrientationHorizontal:c,glyphOrientationVertical:c,glyphRef:c,hanging:c,horizAdvX:c,horizOriginX:c,horizOriginY:c,ideographic:c,imageRendering:c,in2:c,"in":c,intercept:c,k1:c,k2:c,k3:c,k4:c,k:c,kernelMatrix:c,kernelUnitLength:c,kerning:c,keyPoints:c,keySplines:c,keyTimes:c,lengthAdjust:c,letterSpacing:c,lightingColor:c,limitingConeAngle:c,local:c,markerHeight:c,markerUnits:c,markerWidth:c,mask:c,maskContentUnits:c,maskUnits:c,mathematical:c,mode:c,numOctaves:c,operator:c,order:c,orient:c,orientation:c,origin:c,overflow:c,overlinePosition:c,overlineThickness:c,panose1:c,path:c,pathLength:c,patternTransform:c,pointerEvents:c,pointsAtX:c,pointsAtY:c,pointsAtZ:c,preserveAlpha:c,primitiveUnits:c,radius:c,refX:c,refY:c,renderingIntent:c,repeatCount:c,repeatDur:c,requiredExtensions:c,restart:c,result:c,rotate:c,scale:c,seed:c,shapeRendering:c,slope:c,spacing:c,specularConstant:c,specularExponent:c,startOffset:c,stdDeviation:c,stemh:c,stemv:c,stitchTiles:c,strikethroughPosition:c,strikethroughThickness:c,strokeDashoffset:c,strokeLinejoin:c,strokeMiterlimit:c,surfaceScale:c,systemLanguage:c,tableValues:c,targetX:c,targetY:c,textDecoration:c,textLength:c,textRendering:c,to:c,u1:c,u2:c,underlinePosition:c,underlineThickness:c,unicode:c,unicodeBidi:c,unicodeRange:c,unitsPerEm:c,vAlphabetic:c,vHanging:c,vIdeographic:c,vMathematical:c,values:c,vertAdvY:c,vertOriginX:c,vertOriginY:c,viewTarget:c,visibility:c,widths:c,wordSpacing:c,writingMode:c,xChannelSelector:c,xHeight:c,xmlns:c,yChannelSelector:c,z:c,zoomAndPan:c},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}),function(){"use strict";require.config({paths:{almond:"../../bower_components/almond/almond",lodash:"../../bower_components/lodash/lodash",backbone:"../../bower_components/backbone/backbone",shorthand:"../../bower_components/backbone.shorthand/src/backbone.shorthand",react:"../../bower_components/react/react-with-addons-dark-spider-patched","react-dom":"../../bower_components/react/react-dom",jquery:"../../bower_components/jquery/jquery","prefix-free":"../../bower_components/prefix-free/prefixfree.min","tween-lite":"../../bower_components/gsap/src/minified/TweenLite.min","timeline-lite":"../../bower_components/gsap/src/minified/TimelineLite.min","ease-pack":"../../bower_components/gsap/src/minified/easing/EasePack.min","css-plugin":"../../bower_components/gsap/src/minified/plugins/CSSPlugin.min","bezier-plugin":"../../bower_components/gsap/src/minified/plugins/BezierPlugin.min",tincan:"../../bower_components/tincan/build/tincan","slim-canvg":"../../bower_components/slim-canvg/slim-canvg",pathseg:"../../bower_components/pathseg/pathseg",captionator:"../../bower_components/captionator/js/captionator-min"},map:{"*":{underscore:"lodash"}},shim:{shorthand:{deps:["backbone"]},react:{exports:"React"},"prefix-free":{exports:"PrefixFree"},"tween-lite":{exports:"TweenLite"},"timeline-lite":{exports:"TimelineLite",deps:["tween-lite"]},"ease-pack":{exports:"EasePack"},"css-plugin":{exports:"CSSPlugin"},"bezier-plugin":{exports:"BezierPlugin"},"slim-canvg":{exports:"slimCanvg"},captionator:{exports:"captionator"}}}),require(["features/featuresHelper"],function(a){null!=a.initialize&&a.initialize()}),require(["lodash","react","react-dom","helpers/jqueryHelpers","helpers/backboneSync","helpers/extend","helpers/templateManager","views/events/allEvents"],function(a,b,c){require(["models/presentation/Presentation","models/player/Player","helpers/resolver","helpers/slidesController","helpers/windowManager","helpers/windowOpen","helpers/assetManager","helpers/actionator","views/App","helpers/debug","helpers/pubSub","helpers/appState","helpers/vow","helpers/errorManager","helpers/svg/svgManager","helpers/stringTabler","helpers/automation","helpers/resume/resumer","helpers/keyManager","helpers/scaler","helpers/audio/audioManager","helpers/videoManager","helpers/authorApi","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/captionsManager","helpers/webObjectHelper","helpers/previewHelper","helpers/printer","helpers/GsapTweenLite","helpers/svg/reactSvg"],function(a,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){var F,G=new a,H=new d,I=function(){var a;e.initialize(G),f.initialize(G),a=t.initialize(G),s.initialize(f,G),g.initialize(G.display()),u.initialize(g),h.initialize(G),i.initialize(G.assetLib()),z.initialize(G.audioplaylists()),A.initialize(G.globalaudiolib()),j.initialize(H,G),r.initialize(H),y.initialize(G),C.initialize(G),E.initialize(G),m.trigger("data:initialized"),B.initialize(G.assetLib(),H,g,null!=G.playerVars()?G.playerVars().variables().get("displayCaptions"):null),F=c.render(b.createElement(k,{presentation:G,player:H,state:n}),document.body.querySelector("#preso")),v.initialize(),l.initialize(G,H,F),D.initialize(H,G),a.always(function(){F.initKeyboardShortcuts(),m.trigger("loader:removeTitle"),w.prepare(),x.prepare(G),o.isRejected(this)&&m.trigger("nextSlide:requesting"),t.courseStarted(o.isResolved(this))})},J=function(){p.throwError("init","initialization","Could not load presentation data")};o.when(G.fetch(),H.fetch(),q.fetch()).done(I).fail(J)})})}(),define("init",function(){});